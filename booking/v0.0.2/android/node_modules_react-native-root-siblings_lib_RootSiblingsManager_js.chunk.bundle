(self.webpackChunkBooking=self.webpackChunkBooking||[]).push([["node_modules_react-native-root-siblings_lib_RootSiblingsManager_js"],{17057:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.jsx)(i.Fragment,{children:e.children})};r(n(84481));var i=n(33823)},70235:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RootControllerChanges=void 0;var i,a=r(n(56690)),u=r(n(89728));!function(e){e[e.Insert=0]="Insert",e[e.Update=1]="Update",e[e.Remove=2]="Remove"}(i||(t.RootControllerChanges=i={}));t.default=function(){function e(){(0,a.default)(this,e),this.siblings=new Set,this.pendingActions=[],this.callback=null}return(0,u.default)(e,[{key:"update",value:function(e,t,n){this.siblings.has(e)?this.emit(e,{change:i.Update,element:t,updateCallback:n}):(this.emit(e,{change:i.Insert,element:t,updateCallback:n}),this.siblings.add(e))}},{key:"destroy",value:function(e,t){this.siblings.has(e)?(this.emit(e,{change:i.Remove,element:null,updateCallback:t}),this.siblings.delete(e)):t&&t()}},{key:"setCallback",value:function(e){this.callback=e,this.pendingActions.forEach((function(t){var n=t.id,r=t.action;e(n,r)}))}},{key:"emit",value:function(e,t){this.callback?this.callback(e,t):this.pendingActions.push({action:t,id:e})}}]),e}()},22936:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(56690)),a=r(n(89728)),u=r(n(61655)),o=r(n(94993)),l=r(n(73808)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(84481)),s=r(n(64116)),f=n(70235),d=n(33823);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}t.default=function(e){(0,u.default)(n,e);var t=h(n);function n(e){var r;return(0,i.default)(this,n),(r=t.call(this,e)).siblingsPool=[],r.updatedSiblings=new Set,r.unmounted=!1,r.state={siblings:[]},r}return(0,a.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.controller.setCallback((function(t,n){setImmediate((function(){return e.commitChange(t,n)}))}))}},{key:"componentDidUpdate",value:function(){this.updatedSiblings.clear()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"commitChange",value:function(e,t){var n=this,r=t.change,i=t.element,a=t.updateCallback;if(!this.unmounted){var u=Array.from(this.siblingsPool),o=u.findIndex((function(t){return t.id===e}));if(r===f.RootControllerChanges.Remove){if(!(o>-1))return void this.invokeCallback(a);u.splice(o,1)}else if(r===f.RootControllerChanges.Update){if(!(o>-1))return void this.invokeCallback(a);u.splice(o,1,{element:i,id:e}),this.updatedSiblings.add(e)}else o>-1&&u.splice(o,1),u.push({element:i,id:e}),this.updatedSiblings.add(e);this.siblingsPool=u,this.setState({siblings:u},(function(){return n.invokeCallback(a)}))}}},{key:"invokeCallback",value:function(e){e&&e()}},{key:"renderSiblings",value:function(){var e=this;return this.state.siblings.map((function(t){var n=t.id,r=t.element;return(0,d.jsx)(s.default,{shouldUpdate:e.updatedSiblings.has(n),children:e.wrapSibling(r)},`root-sibling-${n}`)}))}},{key:"wrapSibling",value:function(e){var t=this.props.renderSibling;return t?t(e):e}},{key:"render",value:function(){return(0,d.jsxs)(d.Fragment,{children:[this.props.children,this.renderSiblings()]})}}]),n}(c.Component)},37541:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.RootSiblingParent=function(e){var t=e.inactive,n=(0,o.useState)((function(){var e=(0,s.default)(c.default,h),n=e.Root,r=e.manager;return m.push(r),t&&k.add(r),{Root:n,manager:r}})),r=(0,i.default)(n,1)[0];(0,o.useEffect)((function(){return function(){if(r){var e=m.indexOf(r.manager);e>0&&m.splice(e,1)}}}),[r]),t&&r&&!k.has(r.manager)?k.add(r.manager):!t&&r&&k.has(r.manager)&&k.delete(r.manager);var a=r.Root;return(0,f.jsx)(a,{children:e.children})},t.RootSiblingPortal=function(e){var t=(0,o.useState)((function(){return new _(null)})),n=(0,i.default)(t,1)[0];return n.update(e.children),(0,o.useEffect)((function(){if(n)return function(){return n.destroy()}}),[n]),null},t.default=void 0,t.setSiblingWrapper=function(e){p=e};var i=r(n(27424)),a=r(n(56690)),u=r(n(89728)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(84481)),l=n(92571),c=r(n(17057)),s=r(n(67900)),f=n(33823);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var p=function(e){return e};function h(e){return p(e)}n.g.__rootSiblingsInjected||n.g.__rootSiblingsDisabled||(l.AppRegistry.setWrapperComponentProvider((function(){return g})),n.g.__rootSiblingsInjected=!0);var v=(0,s.default)(c.default,h),g=v.Root,b=v.manager,y=0,m=[b],k=new Set;var _=t.default=function(){function e(t,n){(0,a.default)(this,e),this.id=`root-sibling-${y+1}`,this.manager=function(){for(var e=m.length-1;e>=0;e--){var t=m[e];if(!k.has(t))return t}return b}(),this.manager.update(this.id,t,n),y++}return(0,u.default)(e,[{key:"update",value:function(e,t){this.manager.update(this.id,e,t)}},{key:"destroy",value:function(e){this.manager.destroy(this.id,e)}}]),e}()},64116:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(56690)),a=r(n(89728)),u=r(n(61655)),o=r(n(94993)),l=r(n(73808)),c=n(84481);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}t.default=function(e){(0,u.default)(n,e);var t=s(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){var e=this.props.children;return null===e||!1===e?null:c.Children.only(e)}}]),n}(c.Component)},67900:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new i.default;return{Root:function(r){return(0,u.jsx)(a.default,{controller:n,renderSibling:t,children:(0,u.jsx)(e,Object.assign({},r))})},manager:{update:function(e,t,r){n.update(e,t,r)},destroy:function(e,t){n.destroy(e,t)}}}};r(n(84481));var i=r(n(70235)),a=r(n(22936)),u=n(33823)}}]);//# sourceMappingURL=node_modules_react-native-root-siblings_lib_RootSiblingsManager_js.chunk.bundle.map?platform=android