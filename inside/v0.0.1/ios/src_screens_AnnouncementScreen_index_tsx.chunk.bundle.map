{"version":3,"file":"src_screens_AnnouncementScreen_index_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/AnnouncementScreen/AnnouncementThumbnail.tsx","webpack:///./src/screens/AnnouncementScreen/FilterAnnouncement.tsx","webpack:///./src/screens/AnnouncementScreen/index.tsx","webpack:///./src/store/announcements/function.tsx"],"sourcesContent":["import {Fonts, getUser, styled} from '@true/core';\nimport React, {memo, useCallback, useMemo} from 'react';\nimport {FlexCenter, IBase64, STextDivider} from '@/utils/helper';\nimport {useAnnouncements} from '@/store/announcements';\nimport {Buffer} from 'buffer';\nimport {getChannels} from '@/store/channels';\nimport {UIText} from '@true/ui';\nimport {navigateToDetailPostScreen} from '@/utils';\nimport {Pressable} from 'react-native';\nimport {\n  IC_FILLED_PERSON,\n  IC_FILLED_PUBLIC,\n  IC_FILLED_SCHEDULE,\n} from '@true/asset';\nimport moment from 'moment';\nimport {globalStyles} from '@/utils/globalStyle';\n\ninterface AnnouncementThumbnailProps {\n  id: number | undefined;\n}\n\nexport const AnnouncementThumbnail = memo(function (\n  props: AnnouncementThumbnailProps,\n) {\n  const {id} = props;\n  const data = useAnnouncements(id);\n  const channel = getChannels(data?.channel_id || 0);\n  const coverImage = useMemo(() => {\n    const str = Buffer.from(data?.image || '', 'base64').toString('utf-8');\n    if (str) {\n      const _image: IBase64 = JSON.parse(str);\n\n      if (_image && _image.image) {\n        return _image;\n      }\n    }\n    return null;\n  }, [data?.image]);\n  const onNavigateToDetail = useCallback(() => {\n    navigateToDetailPostScreen({\n      id: id || 0,\n      user_id: data?.user_id || 0,\n      time: data?.since || 0,\n      hid: data?.hid || '',\n    });\n  }, [id]);\n\n  return (\n    <SContainer onPress={onNavigateToDetail}>\n      <SImageView>\n        <SImage source={{uri: coverImage?.image || ''}} resizeMode={'cover'} />\n      </SImageView>\n      <SInfoView>\n        <UIText.HeaderSmall numberOfLines={2}>{data?.name}</UIText.HeaderSmall>\n        <SRowCenter style={globalStyles.mt4}>\n          <SIcon source={IC_FILLED_PUBLIC} />\n          <STextGrey numberOfLines={1}>{channel?.name}</STextGrey>\n        </SRowCenter>\n        <SRowCenter>\n          <SIcon source={IC_FILLED_PERSON} />\n          <STextGrey numberOfLines={1}>{channel?.name}</STextGrey>\n        </SRowCenter>\n        <SRowCenter>\n          <SIcon source={IC_FILLED_SCHEDULE} />\n          <STextGrey numberOfLines={1}>\n            {moment(\n              // @ts-ignore*/}\n              data?.since * 1000,\n            ).format('HH:mm DD/MM/YYYY')}\n          </STextGrey>\n          {data?.seens && data?.seens?.length > 0 ? (\n            <>\n              <STextDivider> | </STextDivider>\n              <STextGreen>{`Seen by ${data?.seens?.length}`} </STextGreen>\n            </>\n          ) : null}\n        </SRowCenter>\n      </SInfoView>\n    </SContainer>\n  );\n});\nconst SContainer = styled(Pressable)`\n  flex-direction: row;\n  padding: 16px;\n  background-color: white;\n  border-bottom-width: 1px;\n  border-bottom-color: ${p => p.theme.neutral6};\n`;\nconst SInfoView = styled.View`\n  flex: 3;\n`;\nconst SImageView = styled.View`\n  display: flex;\n  flex: 2;\n  margin-right: 12px;\n  background-color: ${p => p.theme.neutral7};\n  border-radius: 8px;\n`;\nconst SImage = styled.Image`\n  height: 100%;\n  width: 100%;\n  max-height: 100px;\n  border-radius: 8px;\n`;\nconst STextGrey = styled(UIText.CaptionMedium400)`\n  color: ${p => p.theme.neutral2};\n`;\nconst STextGreen = styled(STextGrey)`\n  color: #05944f;\n`;\nconst SRowCenter = styled(FlexCenter)`\n  margin-bottom: 8px;\n`;\nconst SIcon = styled.Image`\n  width: 16px;\n  height: 16px;\n  tint-color: ${p => p.theme.neutral2};\n  margin-right: 4px;\n`;\n","import {memo} from 'react';\nimport {FlexSpaceBetween} from '@/utils/helper';\nimport {styled} from '@true/core';\nimport {Fonts} from '@true/core';\nimport {IC_OUTLINED_LEFT, IC_OUTLINED_SEARCH} from '@true/asset';\nimport {globalStyles} from '@/utils/globalStyle';\nimport {Image} from 'react-native';\n\nexport const FilterAnnouncement = memo(function () {\n  return (\n    <SContainer>\n      <FlexSpaceBetween>\n        <FilterChannel>\n          <STextBold style={globalStyles.mr4}>All channels</STextBold>\n          <SArrowIcon source={IC_OUTLINED_LEFT} />\n        </FilterChannel>\n        <SSearchIcon>\n          <Image source={IC_OUTLINED_SEARCH} />\n        </SSearchIcon>\n      </FlexSpaceBetween>\n    </SContainer>\n  );\n});\nconst SContainer = styled.View`\n  background-color: white;\n  padding: 12px 16px;\n`;\n\nconst STextBold = styled.Text`\n  font-family: ${Fonts.Regular};\n  \n  font-weight: 700;\n  font-size: 16px;\n  color: #242424;\n`;\nconst FilterChannel = styled.TouchableOpacity`\n  flex-direction: row;\n  align-items: center;\n`;\nconst SArrowIcon = styled.Image`\n  width: 8px;\n  height: 8px;\n  transform: rotate(90deg);\n`;\n\nconst SSearchIcon = styled.TouchableOpacity`\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n`;\n","import React, { memo, useCallback } from \"react\";\nimport { CustomHeader } from \"@/components/CustomHeader\";\nimport { navigateToCreatePostScreen } from \"@/utils\";\nimport { ScreenWrapper, ScrollableTabView } from \"@true/ui\";\nimport { AnnouncementThumbnail } from \"@/screens/AnnouncementScreen/AnnouncementThumbnail\";\nimport { requestAllAnnouncements, requestCreatedAnnouncements } from \"@/store/announcements/function\";\nimport { getAnnouncementsByQuery, useAnnouncementsByQuery } from \"@/store/announcements\";\nimport { FilterAnnouncement } from \"@/screens/AnnouncementScreen/FilterAnnouncement\";\n\nexport const AnnouncementScreen = memo(function() {\n  const renderItem = useCallback(\n    (item: any, index?: number, isLast?: boolean) => {\n      return <AnnouncementThumbnail id={item} key={index} />;\n    },\n    []\n  );\n  const onCreate = useCallback(() => {\n    navigateToCreatePostScreen({\n      type: \"announcement\"\n    });\n  }, []);\n  return (\n    <ScreenWrapper isGrey={true}>\n      <CustomHeader\n        title={\"Announcements\"}\n        isSearch={false}\n        isBack\n        onCreate={onCreate}\n      />\n      <ScrollableTabView.Provider\n        params={{}}\n        renderItem={renderItem}\n        getItemByQuery={getAnnouncementsByQuery}\n        useItemByQuery={useAnnouncementsByQuery}\n        tabs={[\n          {\n            title: \"All\",\n            content: p => (\n              <ScrollableTabView.List\n                index={p.index}\n                ListHeaderComponent={<FilterAnnouncement />}\n                requestFn={requestAllAnnouncements}\n              />\n            )\n          },\n          {\n            title: \"Created by me\",\n            content: p => (\n              <ScrollableTabView.List\n                index={p.index}\n                ListHeaderComponent={<FilterAnnouncement />}\n                requestFn={requestCreatedAnnouncements}\n                query={\"created\"}\n              />\n            )\n          }\n        ]}>\n        <ScrollableTabView.TabBar />\n        <ScrollableTabView.Content />\n      </ScrollableTabView.Provider>\n    </ScreenWrapper>\n  );\n});\n","import {Core, Fetch} from '@true/core';\nimport {batch} from 'react-redux';\nimport {IAnnouncement} from '@/store/announcements/type';\nimport {\n  setAnnouncementsQuery,\n  syncAnnouncements,\n} from '@/store/announcements/index';\n\nexport const requestAllAnnouncements = async () => {\n  const {data} = await Fetch.postWithToken<{\n    anns: IAnnouncement[];\n  }>(`@${Core.systemPath}/inside/ajax/api/announcement/gets`);\n\n  batch(() => {\n    if (data.anns.length) {\n      syncAnnouncements(data.anns);\n      setAnnouncementsQuery(prev => ({\n        ...prev,\n        ['all']: data.anns.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.anns;\n};\n\nexport const requestCreatedAnnouncements = async () => {\n  const {data} = await Fetch.postWithToken<{\n    anns: IAnnouncement[];\n  }>(`@${Core.systemPath}/inside/ajax/api/announcement/gets?created=mine`);\n  batch(() => {\n    if (data.anns.length) {\n      syncAnnouncements(data.anns);\n      setAnnouncementsQuery(prev => ({\n        ...prev,\n        ['created']: data.anns.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.anns;\n};\n\ninterface IRequestAnnouncementsChannel {\n  path: string;\n  q?: string;\n}\n\nexport const requestAnnouncementsChannel = async (\n  params: IRequestAnnouncementsChannel,\n) => {\n  console.log('params', params);\n  const {data} = await Fetch.postWithToken<{\n    announcements: IAnnouncement[];\n  }>(\n    `@${Core.systemPath}/inside/ajax/api/channel/update/announcement?path=${\n      params.path\n    }${params?.q ? '&q=' + params.q : ''}`,\n  );\n  batch(() => {\n    if (data.announcements.length) {\n      syncAnnouncements(data.announcements);\n      setAnnouncementsQuery(prev => ({\n        ...prev,\n        [params.path]: data.announcements.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.announcements;\n};\n\nexport const requestCreatedAnnouncementsChannel = async (\n  params: IRequestAnnouncementsChannel,\n) => {\n  const {data} = await Fetch.postWithToken<{\n    announcements: IAnnouncement[];\n  }>(\n    `@${\n      Core.systemPath\n    }/inside/ajax/api/channel/update/announcement?created=mine&path=${\n      params.path\n    }${params?.q ? '&q=' + params.q : ''}`,\n  );\n  batch(() => {\n    if (data.announcements.length) {\n      // syncAnnouncements(data.announcements);\n      setAnnouncementsQuery(prev => ({\n        ...prev,\n        [`created_${params.path}`]: data.announcements.map(item =>\n          item.id.toString(),\n        ),\n      }));\n    }\n  });\n  return data.announcements;\n};\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_core","require","_react","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_helper","_announcements","_buffer","_channels","_ui","_utils","_reactNative","_asset","_moment","_interopRequireDefault","_globalStyle","_jsxRuntime","WeakMap","cacheBabelInterop","cacheNodeInterop","exports","memo","props","_data$seens","_data$seens2","id","data","useAnnouncements","channel","getChannels","channel_id","coverImage","useMemo","str","Buffer","from","image","toString","_image","JSON","parse","onNavigateToDetail","useCallback","navigateToDetailPostScreen","user_id","time","since","hid","jsxs","SContainer","onPress","children","jsx","SImageView","SImage","source","uri","resizeMode","SInfoView","UIText","HeaderSmall","numberOfLines","name","SRowCenter","style","globalStyles","mt4","SIcon","IC_FILLED_PUBLIC","STextGrey","IC_FILLED_PERSON","IC_FILLED_SCHEDULE","moment","format","seens","length","Fragment","STextDivider","STextGreen","styled","Pressable","_taggedTemplateLiteralLoose2","p","theme","neutral6","View","neutral7","Image","CaptionMedium400","neutral2","FlexCenter","FlexSpaceBetween","FilterChannel","STextBold","mr4","SArrowIcon","IC_OUTLINED_LEFT","SSearchIcon","IC_OUTLINED_SEARCH","Text","Fonts","Regular","TouchableOpacity","_CustomHeader","_AnnouncementThumbnail","_function","_FilterAnnouncement","renderItem","item","index","isLast","AnnouncementThumbnail","onCreate","navigateToCreatePostScreen","type","ScreenWrapper","isGrey","CustomHeader","title","isSearch","isBack","ScrollableTabView","Provider","params","getItemByQuery","getAnnouncementsByQuery","useItemByQuery","useAnnouncementsByQuery","tabs","content","List","ListHeaderComponent","FilterAnnouncement","requestFn","requestAllAnnouncements","requestCreatedAnnouncements","query","TabBar","Content","_ref","_ref2","_ref3","_ref4","_reactRedux","_index","_asyncToGenerator2","Fetch","postWithToken","Core","systemPath","batch","anns","syncAnnouncements","setAnnouncementsQuery","prev","assign","_defineProperty2","map","apply","arguments","console","log","path","q","announcements","_x","_x2"],"sourceRoot":""}