(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_CreateCoreValueScreen_index_tsx"],{99293:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCoreValueScreen=void 0;var r,o,i,u,l=a(n(19452)),s=a(n(38416)),c=a(n(17156)),d=a(n(27424)),f=P(n(84481)),p=n(4007),v=P(n(46763)),h=n(91087),y=n(92910),m=n(86702),_=n(54842),x=n(38600),C=n(44815),g=n(11361),b=n(70075),j=n(58053),k=a(n(78663)),w=n(33823);function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(V=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=V(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}var O={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}"},T={code:"function anonymous(){const{params}=this.__closure;return!!params.value.name;}"},I=(t.CreateCoreValueScreen=(0,f.memo)((function(){var e=(0,p.useNavigationParams)().id,t=(0,v.useSharedValue)(_.initCreateCoreValue),n=(0,f.useRef)(null),a=(0,v.useAnimatedRef)(),r=(0,p.useBoolean)(),o=(0,d.default)(r,3),i=o[0],u=(o[1],o[2]),l=(0,m.useAsyncFn)((0,c.default)((function*(){-1!==e?yield(0,C.requestEditCoreValues)(t.value):(yield(0,C.requestCreateCoreValues)(t.value),p.ToastService.show("Create core values successfully")),(0,p.goBack)()})),[e,t]),V=(0,d.default)(l,2),P=V[0],M=P.loading,q=P.error,A=V[1];(0,p.useAutoToastError)(q);var B,E=(0,f.useCallback)((function(){console.log("aa"),(0,p.goBack)()}),[]),H=(0,f.useCallback)((function(e,n){var a;(0,v.runOnUI)(((a=function(e,n){t.value=Object.assign({},t.value,(0,s.default)({},e,n))}).__closure={params:t},a.__initData=O,a.__workletHash=690685769123,a))(e,n)}),[t]),N=(0,v.useDerivedValue)(((B=function(){return!!t.value.name}).__closure={params:t},B.__initData=T,B.__workletHash=0xc157b0598d0,B),[]);return(0,f.useEffect)((function(){var n=Object.assign({},_.initCreateCoreValue);if(e>0){var a=(0,x.getCoreValues)(e);n={id:null==a?void 0:a.id,content:(null==a?void 0:a.content)||"",name:(null==a?void 0:a.name)||"",image:null==a?void 0:a.image,notify:null==a?void 0:a.notify,notify_email:null==a?void 0:a.notify_email,disable_comment:null==a?void 0:a.disable_comment}}t.value=n}),[e]),(0,w.jsx)(h.ScreenWrapper,{children:(0,w.jsxs)(h.MyKeyboardAvoidingView,{ref:n,scrollRef:a,children:[(0,w.jsx)(b.HeaderCreatePost,{onPress:A,active:N,id:e,loading:M,onGoBack:E,title:"Create core values"}),(0,w.jsx)(k.default,{isVisible:M}),(0,w.jsx)(W,{ref:a,keyboardShouldPersistTaps:"handled",children:(0,w.jsxs)(I,{children:[(0,w.jsxs)(S,{children:[(0,w.jsx)(h.UIInput.Text,{title:"Title",keyName:"name",params:t,placeholder:"---",defaultValue:"",onChangeValue:H,required:!0}),(0,w.jsx)(h.UIInput.Text,{title:"Content",keyName:"content",params:t,onChangeValue:H})]}),(0,w.jsxs)(S,{children:[(0,w.jsx)(D,{children:"Advanced settings"}),(0,w.jsx)(j.CheckboxWithText,{params:t,keyName:"draft",title:"Save as a draft"}),(0,w.jsx)(j.CheckboxWithText,{params:t,keyName:"disable_comment",title:"Disable comments"}),(0,w.jsx)(j.CheckboxWithText,{params:t,keyName:"notify",title:"Send notification"}),(0,w.jsx)(j.CheckboxWithText,{params:t,keyName:"notify_email",title:"Notify everyone via email"})]}),(0,w.jsx)(g.AnimatedBottomSpace,{})]})}),(0,w.jsx)(y.DiscardDialog,{title:"Discard change",content:"You have made changes to this item that have not been saved. If you leave this page, your changes will be lost.",visible:i,onClose:u})]})})})),(0,p.styled)(v.default.View)(r||(r=(0,l.default)(["\n  flex: 1;\n  padding: 12px 16px;\n  gap: 12px;\n"])))),S=p.styled.View(o||(o=(0,l.default)(["\n  background-color: ",";\n  gap: 12px;\n"])),(function(e){return e.theme.white})),D=p.styled.Text(i||(i=(0,l.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),p.Fonts.Medium,(function(e){return e.theme.neutral1})),W=p.styled.ScrollView(u||(u=(0,l.default)(["\n  flex: 1;\n  background-color: white;\n  margin-top: 8px;\n"])))},70075:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCreatePost=void 0;var r,o,i=a(n(19452)),u=n(84481),l=n(25736),s=n(4007),c=n(25277),d=n(91087),f=n(25200),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(46763)),v=n(33823);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var y={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}"},m={code:"function anonymous(){const{interpolateColor,active,theme}=this.__closure;return{backgroundColor:interpolateColor(active.value?1:0,[0,1],[theme.neutral3,theme.primaryColor]),width:'100%'};}"},_={code:"function anonymous(){const{active}=this.__closure;return{pointerEvents:active.value?'auto':'none'};}"},x=(t.HeaderCreatePost=(0,u.memo)((function(e){var t,n=(0,f.useAnimatedSafeAreaInsets)().aTop,a=(0,p.useAnimatedStyle)(((t=function(){return{paddingTop:n.value}}).__closure={aTop:n},t.__initData=y,t.__workletHash=9978501313055,t)),r=(0,s.useTheme)(),o=e.title,i=e.active,u=e.id,h=e.onPress,g=(e.loading,e.onGoBack),b=(0,p.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:(0,p.interpolateColor)(i.value?1:0,[0,1],[r.neutral3,r.primaryColor]),width:"100%"}};return e.__closure={interpolateColor:p.interpolateColor,active:i,theme:r},e.__initData=m,e.__workletHash=0xefaedf5ccd0,e}(),[r]),j=(0,p.useAnimatedProps)(function(){var e=function(){return{pointerEvents:i.value?"auto":"none"}};return e.__closure={active:i},e.__initData=_,e.__workletHash=0xcd0f6a5dae1,e}());return(0,v.jsxs)(x,{style:a,children:[(0,v.jsxs)(l.FlexCenter,{gap:8,children:[(0,v.jsx)(d.UIButton,{source:c.IC_OUTLINED_LEFT,onPress:g||s.goBack}),(0,v.jsx)(d.UIText.HeaderLarge,{children:o})]}),(0,v.jsx)(p.default.View,{animatedProps:j,children:(0,v.jsx)(C,{title:u?"Update":"Create",onPress:h,style:b})})]})})),(0,s.styled)(p.default.View)(r||(r=(0,i.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ",";\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n"])),(function(e){return e.theme.neutral4}))),C=(0,s.styled)(d.UIButton).attrs((function(e){return{textStyle:Object.assign({},d.UITextStyle.body_medium_500,{color:"#fff"})}}))(o||(o=(0,i.default)(["\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor}))},44815:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestEditCoreValues=t.requestCreateCoreValues=t.requestCoreValues=t.requestCoreValueId=void 0;var r,o,i,u,l=a(n(38416)),s=a(n(17156)),c=n(4007),d=n(30806),f=n(38600);t.requestCoreValues=(r=(0,s.default)((function*(){var e=(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/gets")).data;return(0,d.batch)((function(){e.core_values.length&&((0,f.syncCoreValues)(e.core_values),(0,f.setCoreValuesQuery)((function(t){return Object.assign({},t,(0,l.default)({},"all",e.core_values.map((function(e){return e.id.toString()}))))})))})),e.core_values})),function(){return r.apply(this,arguments)}),t.requestCoreValueId=(o=(0,s.default)((function*(e){var t=(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/get?corevalue_id="+e.corevalue_id)).data;return(0,d.batch)((function(){t.cv&&(0,f.syncCoreValues)([t.cv])})),t.cv})),function(e){return o.apply(this,arguments)}),t.requestCreateCoreValues=(i=(0,s.default)((function*(e){(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/create",e)).data})),function(e){return i.apply(this,arguments)}),t.requestEditCoreValues=(u=(0,s.default)((function*(e){(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/edit",e)).data})),function(e){return u.apply(this,arguments)})},54842:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initCreateCoreValue=void 0;t.initCreateCoreValue={name:"",content:""}}}]);//# sourceMappingURL=src_screens_CreateCoreValueScreen_index_tsx.chunk.bundle.map?platform=ios