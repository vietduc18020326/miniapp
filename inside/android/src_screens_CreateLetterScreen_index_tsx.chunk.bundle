(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_CreateLetterScreen_index_tsx"],{51705:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.MyInputBackground=void 0;var a,o,i,s,l,u,c,A,d=r(n(19452)),C=r(n(27424)),p=n(84481),f=n(4007),m=n(20349),h=n(25277),g=n(71527),x=n(22532),v=n(33823),y=(t.MyInputBackground=(0,p.memo)((function(e){var t=e.onSelectedImage,n=e.image,r=(0,p.useState)(""),a=(0,C.default)(r,2),o=a[0],i=a[1],s=(0,p.useCallback)((function(e){i(e.url),t(e)}),[t]),l=(0,p.useCallback)((function(){(0,m.openCameraRollScreen)({onSubmit:s})}),[]),u=(0,p.useMemo)((function(){var e=o||n;return Object.values(g.BG_TEMPLATE).includes(e)?(0,x.getTemplateImage)(e):{uri:e}}),[o,n]);return(0,v.jsxs)(y,{children:[(0,v.jsx)(_,{children:"Background"}),(0,v.jsx)(b,{resizeMode:"cover",source:u,children:o||n?(0,v.jsx)(k,{hasImage:o||n,onPress:l,children:(0,v.jsx)(w,{hasImage:o||n,children:"Change"})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(M,{children:[(0,v.jsx)(I,{source:h.IC_OUTLINED_IMAGE}),(0,v.jsx)(j,{children:"Upload your background"})]}),(0,v.jsx)(k,{hasImage:o||n,onPress:l,children:(0,v.jsx)(w,{children:"Choose file"})})]})})]})})),f.styled.TouchableOpacity(a||(a=(0,d.default)(["\n  justify-content: center;\n  border-radius: 4px;\n  border: 1px solid #ebebeb;\n  padding: 0 16px 12px 16px;\n"])))),_=f.styled.Text(o||(o=(0,d.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  margin-top: 8px;\n  margin-bottom: 4px;\n"])),f.Fonts.Regular,(function(e){return e.theme.neutral2})),b=f.styled.ImageBackground(i||(i=(0,d.default)(["\n  background-color: ",";\n  min-height: 180px;\n  border-radius: 8px;\n"])),(function(e){return e.theme.neutral9})),j=f.styled.Text(s||(s=(0,d.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n"])),f.Fonts.Regular,(function(e){return e.theme.neutral2})),k=f.styled.TouchableOpacity(l||(l=(0,d.default)(["\n  width: 120px;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  background: ",";\n  margin-top: ","px;\n  align-self: center;\n"])),(function(e){return e.hasImage?"rgba(0, 0, 0, 0.65)":"#EAEAEA"}),(function(e){return e.hasImage?68:12})),M=f.styled.View(u||(u=(0,d.default)(["\n  align-items: center;\n  justify-content: center;\n  margin-right: 4px;\n  margin-top: 36px;\n"]))),I=f.styled.Image(c||(c=(0,d.default)(["\n  width: 32px;\n  height: 32px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral2})),w=f.styled.Text(A||(A=(0,d.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 24px;\n  color: ",";\n"])),f.Fonts.Medium,(function(e){return e.hasImage?e.theme.white:e.theme.neutral2}))},268:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.CreateLetterScreen=void 0;var a,o,i,s,l,u=r(n(19452)),c=r(n(38416)),A=r(n(17156)),d=r(n(27424)),C=P(n(84481)),p=n(4007),f=P(n(46763)),m=n(6494),h=n(91087),g=n(11361),x=n(92910),v=n(25736),y=n(86702),_=n(68412),b=n(17118),j=n(48764),k=n(51705),M=n(70075),I=n(6093),w=n(58053),O=n(33823);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var T={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}",location:"/Users/phamduc/inside/src/screens/CreateLetterScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_key","_value","params","__closure","value"],"sources":["/Users/phamduc/inside/src/screens/CreateLetterScreen/index.tsx"],"mappings":"AAgFc,QAAC,CAAAA,SAAcA,CAAAC,IAAM,CAAKC,MAAA,QAAAC,MAAA,OAAAC,SAAA,CAGhCD,MAAM,CAACE,KAAK,CAAG,CACb,GAAGF,MAAM,CAACE,KAAK,CACf,CAACJ,IAAI,EAAGC,MACV,CAAC,CACH"}',version:"3.5.4"},E=(t.CreateLetterScreen=(0,C.memo)((function(){var e,t=(0,p.useNavigationParams)().id,r=(0,f.useSharedValue)(m.initCreateLetter),a=(0,p.useBoolean)(),o=(0,d.default)(a,3),i=o[0],s=(o[1],o[2]),l=((0,C.useRef)(null),(0,C.useState)("")),u=(0,d.default)(l,2),S=(u[0],u[1],(0,C.useCallback)((e=(0,A.default)((function*(e){var t=yield(0,v.uploadImage)(e);N("image",t)})),function(t){return e.apply(this,arguments)}),[])),P=(0,y.useAsyncFn)((0,A.default)((function*(){-1!==t?yield(0,_.requestEditLetter)(r.value):(yield(0,_.requestCreateLetter)(r.value),p.ToastService.show("Create letter successfully")),(0,p.goBack)()})),[t,r]),H=(0,d.default)(P,2),K=H[0],G=K.loading,V=K.error,F=H[1];(0,p.useAutoToastError)(V);var W=(0,C.useCallback)((function(){console.log("ss"),(0,p.goBack)()}),[]);(0,C.useEffect)((function(){var e=Object.assign({},m.initCreateLetter);if(t>0){var n=(0,b.getLetters)(t);JSON.parse(j.Buffer.from((null==n?void 0:n.image)||"eyJ0eXBlIjoiIiwiY29sb3IiOiIiLCJvcGFjaXR5IjowLCJwZXJjZW50IjoxMDAsImltYWdlIjoiIiwidGV4dHMiOltdfQ","base64").toString("utf-8"));e={id:null==n?void 0:n.id,content:(null==n?void 0:n.content)||"",name:(null==n?void 0:n.name)||"",image:null==n?void 0:n.image,files:null==n?void 0:n.files,notify:null==n?void 0:n.notify,notify_email:null==n?void 0:n.notify_email,disable_comment:null==n?void 0:n.disable_comment}}r.value=e}),[t]);var N=(0,C.useCallback)((function(e,t){var a,o;(0,f.runOnUI)((a=[new n.g.Error,-2,-27],(o=function(e,t){r.value=Object.assign({},r.value,(0,c.default)({},e,t))}).__closure={params:r},o.__initData=T,o.__workletHash=690685769123,o.__stackDetails=a,o))(e,t)}),[r]);return(0,O.jsx)(h.ScreenWrapper,{children:(0,O.jsxs)(h.MyKeyboardAvoidingView,{children:[(0,O.jsx)(M.HeaderCreatePost,{onPress:F,type:I.ETypeUpdate.COMPANY_LETTER,isActive:!0,id:t,loading:G,onGoBack:W}),(0,O.jsxs)(E,{children:[(0,O.jsxs)(B,{children:[(0,O.jsx)(D,{children:(0,O.jsx)(k.MyInputBackground,{onSelectedImage:S,image:r.value.image})}),(0,O.jsx)(U,{children:(0,O.jsx)(h.UIInput.Text,{title:"Title",keyName:"name",params:r,placeholder:"---",defaultValue:"",onChangeValue:N,required:!0})}),(0,O.jsx)(U,{children:(0,O.jsx)(h.UITextInput,{title:"Content",keyName:"content",params:r,defaultValue:"",onChangeValue:N})})]}),(0,O.jsxs)(B,{children:[(0,O.jsx)(U,{children:(0,O.jsx)(L,{children:"Advanced settings"})}),(0,O.jsx)(w.CheckboxWithText,{params:r,keyName:"draft",title:"Save as a draft"}),(0,O.jsx)(w.CheckboxWithText,{params:r,keyName:"disable_comment",title:"Disable comments"}),(0,O.jsx)(w.CheckboxWithText,{params:r,keyName:"notify",title:"Send notification"}),(0,O.jsx)(w.CheckboxWithText,{params:r,keyName:"notify_email",title:"Send email to everyone"}),(0,O.jsx)(g.AnimatedBottomSpace,{})]})]}),(0,O.jsx)(x.DiscardDialog,{title:"Discard change",content:"You have made changes to this item that have not been saved. If you leave this page, your changes will be lost.",visible:i,onClose:s})]})})})),(0,p.styled)(f.default.View)(a||(a=(0,u.default)(["\n  flex: 1;\n"])))),B=p.styled.View(o||(o=(0,u.default)(["\n  padding-bottom: 12px;\n  margin-top: 8px;\n  background-color: ",";\n"])),(function(e){return e.theme.white})),U=p.styled.View(i||(i=(0,u.default)(["\n  margin: 8px 16px 0 16px;\n"]))),D=p.styled.View(s||(s=(0,u.default)(["\n  margin-top: 8px;\n"]))),L=p.styled.Text(l||(l=(0,u.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),p.Fonts.Medium,(function(e){return e.theme.neutral1}))},70075:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCreatePost=void 0;var a,o,i=r(n(19452)),s=n(84481),l=n(25736),u=n(4007),c=n(25277),A=n(91087),d=n(25200),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(46763)),p=n(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var m={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","aTop","__closure","paddingTop","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAwB8C,SAAAA,UAAA,QAAAC,IAAA,OAAAC,SAAA,OAAO,CACjDC,UAAU,CAAEF,IAAI,CAACG,KACnB,CAAC"}',version:"3.5.4"},h={code:"function anonymous(){const{interpolateColor,active,theme}=this.__closure;return{backgroundColor:interpolateColor(active.value?1:0,[0,1],[theme.neutral3,theme.primaryColor]),width:'100%'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolateColor","active","theme","__closure","backgroundColor","value","neutral3","primaryColor","width"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AA8B4C,SAAAA,SAAMA,CAAA,QAAAC,gBAAA,CAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA,CAC9C,MAAO,CACLC,eAAe,CAAEJ,gBAAgB,CAC/BC,MAAM,CAACI,KAAK,CAAG,CAAC,CAAG,CAAC,CACpB,CAAC,CAAC,CAAE,CAAC,CAAC,CACN,CAACH,KAAK,CAACI,QAAQ,CAAEJ,KAAK,CAACK,YAAY,CACrC,CAAC,CACDC,KAAK,CAAE,MACT,CAAC,CACH"}',version:"3.5.4"},g={code:"function anonymous(){const{active}=this.__closure;return{pointerEvents:active.value?'auto':'none'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","active","__closure","pointerEvents","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAyCyC,SAAAA,SAAMA,CAAA,QAAAC,MAAA,OAAAC,SAAA,CAC3C,MAAO,CACLC,aAAa,CAAEF,MAAM,CAACG,KAAK,CAAG,MAAM,CAAG,MACzC,CAAC,CACH"}',version:"3.5.4"},x=(t.HeaderCreatePost=(0,s.memo)((function(e){var t,r,a=(0,d.useAnimatedSafeAreaInsets)().aTop,o=(0,C.useAnimatedStyle)((t=[new n.g.Error,-2,-27],(r=function(){return{paddingTop:a.value}}).__closure={aTop:a},r.__initData=m,r.__workletHash=9978501313055,r.__stackDetails=t,r)),i=(0,u.useTheme)(),s=e.title,f=e.active,y=e.id,_=e.onPress,b=(e.loading,e.onGoBack),j=(0,C.useAnimatedStyle)(function(){var e=[new n.g.Error,-4,-27],t=function(){return{backgroundColor:(0,C.interpolateColor)(f.value?1:0,[0,1],[i.neutral3,i.primaryColor]),width:"100%"}};return t.__closure={interpolateColor:C.interpolateColor,active:f,theme:i},t.__initData=h,t.__workletHash=0xefaedf5ccd0,t.__stackDetails=e,t}(),[i]),k=(0,C.useAnimatedProps)(function(){var e=[new n.g.Error,-2,-27],t=function(){return{pointerEvents:f.value?"auto":"none"}};return t.__closure={active:f},t.__initData=g,t.__workletHash=0xcd0f6a5dae1,t.__stackDetails=e,t}());return(0,p.jsxs)(x,{style:o,children:[(0,p.jsxs)(l.FlexCenter,{gap:8,children:[(0,p.jsx)(A.UIButton,{source:c.IC_OUTLINED_LEFT,onPress:b||u.goBack}),(0,p.jsx)(A.UIText.HeaderLarge,{children:s})]}),(0,p.jsx)(C.default.View,{animatedProps:k,children:(0,p.jsx)(v,{title:y?"Update":"Create",onPress:_,style:j})})]})})),(0,u.styled)(C.default.View)(a||(a=(0,i.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ",";\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n"])),(function(e){return e.theme.neutral4}))),v=(0,u.styled)(A.UIButton).attrs((function(e){return{textStyle:Object.assign({},A.UITextStyle.body_medium_500,{color:"#fff"})}}))(o||(o=(0,i.default)(["\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor}))},6494:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initCreateLetter=void 0;t.initCreateLetter={name:"",content:""}}}]);//# sourceMappingURL=src_screens_CreateLetterScreen_index_tsx.chunk.bundle.map?platform=android