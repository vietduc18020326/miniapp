(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_DetailPostScreen_index_tsx"],{46034:function(e,t,n){var s=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DetailPostScreen=void 0;var o,r,a,i,A,l,c,u,d=s(n(19452)),C=s(n(27424)),p=I(n(84481)),f=n(91087),x=n(4007),h=I(n(46763)),_=n(92571),m=n(25277),y=n(25200),v=n(60301),g=n(48814),j=n(60569),D=s(n(13301)),S=n(25736),w=n(36571),P=n(27811),E=n(20349),O=n(33823);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(s,r,a):s[r]=e[r]}return s.default=e,n&&n.set(e,s),s}var T={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}",location:"/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","aTop","__closure","paddingTop","value"],"sources":["/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx"],"mappings":"AA+C8C,SAAAA,UAAA,QAAAC,IAAA,OAAAC,SAAA,OAAO,CACjDC,UAAU,CAAEF,IAAI,CAACG,KACnB,CAAC"}',version:"3.5.4"},b={code:"function anonymous(event){const{scroll_x}=this.__closure;const scrollValue=event.nativeEvent.contentOffset.y;scroll_x.value=scrollValue;}",location:"/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","event","scroll_x","__closure","scrollValue","nativeEvent","contentOffset","y","value"],"sources":["/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx"],"mappings":"AAqDI,QAAC,CAAAA,SAAmDA,CAAAC,KAAA,QAAAC,QAAA,OAAAC,SAAA,CAClD,KAAM,CAAAC,WAAW,CAAGH,KAAK,CAACI,WAAW,CAACC,aAAa,CAACC,CAAC,CACrDL,QAAQ,CAACM,KAAK,CAAGJ,WAAW,CAC9B"}',version:"3.5.4"},M={code:"function anonymous(){const{interpolate,scroll_x,Extrapolation}=this.__closure;const info_header_opacity=interpolate(scroll_x.value,[0,120],[0,1],{extrapolateRight:Extrapolation.CLAMP});return{opacity:info_header_opacity};}",location:"/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolate","scroll_x","Extrapolation","__closure","info_header_opacity","value","extrapolateRight","CLAMP","opacity"],"sources":["/Users/phamduc/inside/src/screens/DetailPostScreen/index.tsx"],"mappings":"AA4DmD,SAAAA,SAAMA,CAAA,QAAAC,WAAA,CAAAC,QAAA,CAAAC,aAAA,OAAAC,SAAA,CACrD,KAAM,CAAAC,mBAAmB,CAAGJ,WAAW,CAACC,QAAQ,CAACI,KAAK,CAAE,CAAC,CAAC,CAAE,GAAG,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CACxEC,gBAAgB,CAAEJ,aAAa,CAACK,KAClC,CAAC,CAAC,CACF,MAAO,CACLC,OAAO,CAAEJ,mBACX,CAAC,CACH"}',version:"3.5.4"},U=t.DetailPostScreen=(0,p.memo)((function(){var e,t,s,o,r=(0,x.useNavigationParams)(),a=r.user_id,i=r.time,A=r.id,l=r.hid,c=(0,x.useUser)(a),u=(0,j.useUpdates)(A),d=(0,y.useAnimatedSafeAreaInsets)().aTop,k=(0,h.useAnimatedStyle)((s=[new n.g.Error,-2,-27],(o=function(){return{paddingTop:d.value}}).__closure={aTop:d},o.__initData=T,o.__workletHash=9978501313055,o.__stackDetails=s,o)),I=(0,h.useSharedValue)(0),U=(0,h.useWorkletCallback)(function(){var e=[new n.g.Error,-2,-27],t=function(e){var t=e.nativeEvent.contentOffset.y;I.value=t};return t.__closure={scroll_x:I},t.__initData=b,t.__workletHash=4428087754035,t.__stackDetails=e,t}(),[]),H=(0,h.useAnimatedStyle)(function(){var e=[new n.g.Error,-4,-27],t=function(){return{opacity:(0,h.interpolate)(I.value,[0,120],[0,1],{extrapolateRight:h.Extrapolation.CLAMP})}};return t.__closure={interpolate:h.interpolate,scroll_x:I,Extrapolation:h.Extrapolation},t.__initData=M,t.__workletHash=4966309020424,t.__stackDetails=e,t}()),G=(0,p.useCallback)((function(){(0,E.openActionPostScreen)(),(0,P.setActiveUpdate)(null==u?void 0:u.truetype,A,a,l)}),[]),N=(0,x.useAsyncFn)((function(){return(0,w.requestUpdatePost)({update_id:A})}),[A]),J=(0,C.default)(N,2),q=J[0],z=(q.loading,q.error,J[1]),X=(0,x.useAsyncFn)((function(){return(0,w.requestUpdatePost)({update_id:A})}),[A]),Z=(0,C.default)(X,2),Y=Z[0],$=Y.loading,ee=(Y.error,Z[1]);return(0,p.useEffect)((function(){z().then()}),[]),(0,O.jsx)(f.FullScreenWrapper,{children:(0,O.jsxs)(f.Comment.Provider,{appName:"inside",type:"comment",hid:(null==u||null==(e=u.attachment)?void 0:e.hid)||(null==u?void 0:u.hid)||"",token:(null==u||null==(t=u.attachment)?void 0:t.token)||(null==u?void 0:u.token)||"",children:[(0,O.jsxs)(W,{style:k,children:[(0,O.jsxs)(S.FlexCenter,{children:[(0,O.jsx)(K,{onPress:x.goBack,children:(0,O.jsx)(_.Image,{source:m.IC_OUTLINED_LEFT})}),(0,O.jsxs)(Q,{style:H,children:[(0,O.jsx)(f.Avatar,{size:32,userKey:a}),(0,O.jsxs)(_.View,{style:v.globalStyles.ml8,children:[(0,O.jsx)(F,{children:null==c?void 0:c.name}),(0,O.jsxs)(S.FlexCenter,{children:["update"!==(null==u?void 0:u.truetype)?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(R,{children:(0,O.jsx)(V,{source:D.default.getTypePostImage((null==u?void 0:u.truetype)||"update")})}),(0,O.jsx)(L,{style:v.globalStyles.ml4,children:""+D.default.getReactionText((null==u?void 0:u.truetype)||"update")}),(0,O.jsx)(S.STextDivider,{children:" | "})]}):null,(0,O.jsx)(L,{children:(0,O.jsx)(f.TimeAgo,{time:1e3*i})})]})]})]})]}),(0,O.jsx)(B,{onPress:G,children:(0,O.jsx)(_.Image,{source:m.IC_OUTLINED_MORE_HORIZ})})]}),(0,O.jsx)(f.Comment.List,{refreshing:$,onLoadData:ee,ListHeaderComponent:(0,O.jsx)(g.PostThumbnail,{isInFeed:!1,id:A}),onScroll:U,appName:"inside"}),(0,O.jsx)(f.Comment.Input,{}),(0,O.jsx)(f.Comment.BottomSheet,{})]})})})),W=(0,x.styled)(h.default.View)(o||(o=(0,d.default)(["\n  background-color: white;\n  padding: 8px 16px 8px 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),K=x.styled.TouchableOpacity(r||(r=(0,d.default)(["\n  width: 48px;\n  height: 48px;\n  align-items: center;\n  justify-content: center;\n"]))),F=x.styled.Text(a||(a=(0,d.default)(["\n  font-family: ",";\n\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  color: #242424;\n"])),x.Fonts.Regular),L=x.styled.Text(i||(i=(0,d.default)(["\n  font-family: ",";\n\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 16px;\n  color: #666666;\n"])),x.Fonts.Regular),Q=(0,x.styled)(h.default.View)(A||(A=(0,d.default)(["\n  flex-direction: row;\n  align-items: center;\n"]))),B=x.styled.TouchableOpacity.attrs((function(e){return{hitSlop:{top:8,bottom:8,left:8,right:8}}}))(l||(l=(0,d.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: flex-start;\n"]))),R=x.styled.View(c||(c=(0,d.default)(["\n  width: 16px;\n  height: 16px;\n  align-items: center;\n  justify-content: center;\n"]))),V=x.styled.Image(u||(u=(0,d.default)(["\n  tint-color: #666666;\n  width: 16px;\n  height: 16px;\n"])));t.default=U}}]);//# sourceMappingURL=src_screens_DetailPostScreen_index_tsx.chunk.bundle.map?platform=android