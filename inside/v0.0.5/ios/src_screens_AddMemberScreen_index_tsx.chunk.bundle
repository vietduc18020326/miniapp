(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_AddMemberScreen_index_tsx"],{27677:function(e,t,r){var o=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AddMemberScreen=void 0;var n,l,a,u,s=o(r(19452)),i=o(r(17156)),d=o(r(27424)),c=o(r(38416)),p=o(r(861)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=n?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}return o.default=e,r&&r.set(e,o),o}(r(84481)),m=r(46763),y=r(92571),g=r(4007),h=r(91087),b=r(25277),v=r(33823);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}var x={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}"},S={code:"function anonymous(){const{params,interpolateColor,theme}=this.__closure;const disabled=!params.value['followers']?1:0;return{backgroundColor:interpolateColor(disabled,[0,1],[theme.primaryColor,theme.neutral3])};}"},C=(t.AddMemberScreen=(0,f.memo)((function(){var e,t=(0,g.useNavigationParams)(),r=t.ids,o=t.onSubmit,n=(0,m.useSharedValue)(100),l=(0,f.useRef)(null),a=(0,f.useRef)(null),u=(0,f.useRef)(null),s=(0,g.useTheme)(),y=r,_=(0,m.useSharedValue)({followers:y&&y||[],groups:[]}),O=(0,f.useCallback)((function(e,t){if("groups"===e){var r=_.value.followers;return t.map((function(e){var t=(0,g.getUserGroup)(e);t&&"group"===t.metatype&&(r=r.concat((0,g.getUserByQuery)("userGroup/"+e)))})).filter(Boolean),void(_.value=Object.assign({},_.value,{followers:(0,p.default)(new Set(r))}))}var o;(0,m.runOnUI)(((o=function(e,t){_.value=Object.assign({},_.value,(0,c.default)({},e,t))}).__closure={params:_},o.__initData=x,o.__workletHash=690685769123,o))(e,t)}),[_]),P=(0,g.useAsyncFn)((0,i.default)((function*(){var e=_.value.followers,t=(0,p.default)(new Set(e)).map((function(e){var t;return"@"+(null==(t=(0,g.getUser)(e))?void 0:t.username)}));o(e,t.join(" ")),(0,g.goBack)()})),[_]),M=(0,d.default)(P,2),A=M[0],U=A.loading,V=A.error,B=M[1],R=(0,m.useAnimatedStyle)(((e=function(){var e=_.value.followers?0:1;return{backgroundColor:(0,m.interpolateColor)(e,[0,1],[s.primaryColor,s.neutral3])}}).__closure={params:_,interpolateColor:m.interpolateColor,theme:s},e.__initData=S,e.__workletHash=0x94b38d68f45,e));return(0,g.useAutoToastError)(V),(0,v.jsxs)(h.FullScreenWrapper,{children:[(0,v.jsx)(h.LeftModalHeader,{hideSeparator:!1,title:"Invite members"}),(0,v.jsx)(h.MyKeyboardAvoidingView,{ref:l,scrollRef:a,scrollInputAdditionalOffset:n,children:(0,v.jsxs)(w,{ref:a,keyboardShouldPersistTaps:"handled",children:[(0,v.jsx)(k,{children:(0,v.jsx)(h.UIUserPickerInput,{type:"user",keyName:"followers",multiple:!0,title:"Invite members",onChangeValue:O,params:_})}),(0,v.jsx)(j,{children:(0,v.jsx)(h.UIUserPickerInput,{type:"group",keyName:"groups",multiple:!0,title:"Invite members groups",onChangeValue:O,ref:u})}),(0,v.jsx)(k,{children:(0,v.jsx)(h.UIButton,{title:"Select group users",textStyle:C.textStyleGroup,source:b.Icons.Outlined.CHEVRON_RIGHT,imageSize:14,imageStyle:C.imageStyle,onPress:function(){var e,t,r;null==u||null==(e=u.current)||null==(t=e.bottomSheetRef)||null==(r=t.current)||r.present()}})}),(0,v.jsx)(h.AnimatedBottomSpace,{})]})}),(0,v.jsx)(I,{buttons:[{title:"Cancel",onPress:g.goBack,textColor:s.primaryColor,backgroundColor:"white",style:{borderWidth:1,borderColor:s.primaryColor},textStyle:C.textStyle},{title:"Add",loading:U,onPress:B,textColor:"white",backgroundColor:s.primaryColor,textStyle:C.textStyle,style:R}]})]})})),y.StyleSheet.create({textStyle:{fontFamily:g.Fonts.Medium,fontSize:16,lineHeight:24,marginRight:8},textStyleGroup:{color:g.Colors.blue1},imageStyle:{tintColor:g.Colors.blue1,justifyContent:"center"}})),w=g.styled.ScrollView(n||(n=(0,s.default)([""]))),k=g.styled.View(l||(l=(0,s.default)(["\n  flex: 1;\n  padding: 20px 16px 0 16px;\n"]))),j=g.styled.View(a||(a=(0,s.default)(["\n  overflow: hidden;\n  height: 0;\n"]))),I=(0,g.styled)(h.UIBottomButton)(u||(u=(0,s.default)(["\n  padding: 8px 16px;\n  margin: 0;\n  background-color: ",";\n  border-top-width: 1px;\n  border-color: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.neutral06}))}}]);//# sourceMappingURL=src_screens_AddMemberScreen_index_tsx.chunk.bundle.map?platform=ios