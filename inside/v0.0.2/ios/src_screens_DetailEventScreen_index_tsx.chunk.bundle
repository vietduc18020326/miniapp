(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_DetailEventScreen_index_tsx"],{33673:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AttendeeItem=void 0;var i,o,l,a=r(n(19452)),s=n(4007),u=n(91087),d=n(84481),c=n(92571),f=n(25277),p=n(20349),v=n(33823),x=(t.AttendeeItem=(0,d.memo)((function(e){var t=e.id,n=(0,s.useUser)(t),r=(0,d.useCallback)((function(){(0,p.navigateToProfileScreen)({username:(null==n?void 0:n.username)||"",user_id:null==n?void 0:n.id})}),[]);return(0,v.jsxs)(x,{children:[(0,v.jsx)(u.Avatar,{userKey:(null==n?void 0:n.id)||"",size:40}),(0,v.jsxs)(h,{children:[(0,v.jsxs)(c.View,{style:{flex:1},children:[(0,v.jsx)(u.UIText.BodyMedium400,{children:null==n?void 0:n.name}),(0,v.jsx)(y,{numberOfLines:1,children:(null==n?void 0:n.title)||"No job description"})]}),(0,v.jsx)(u.UIButton,{source:f.IC_OUTLINED_MORE_HORIZ,onPress:r})]})]})})),s.styled.View(i||(i=(0,a.default)(["\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 8px 16px;\n  gap: 12px;\n  background-color: ",";\n"])),(function(e){return e.theme.backgroundColor}))),h=s.styled.View(o||(o=(0,a.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-width: 1px;\n  border-bottom-color: #ebebeb;\n  padding-bottom: 16px;\n  flex: 1;\n"]))),y=(0,s.styled)(u.UIText.CaptionMedium400)(l||(l=(0,a.default)(["\n  color: ",";\n  flex: 1;\n"])),(function(e){return e.theme.neutral2}))},71911:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AttendeesEvent=void 0;var i,o=r(n(19452)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),a=n(4007),s=n(25736),u=n(92571),d=n(25277),c=n(91087),f=n(80162),p=n(33673),v=n(33823);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}t.AttendeesEvent=(0,l.memo)((function(e){var t=e.data,n=e.index;(0,a.useTheme)();return(0,v.jsxs)(c.SingleTabView.Provider,{index:n,tabs:[{title:"All attendees",content:function(e){return(0,v.jsx)(c.ScrollableList,{data:(null==t?void 0:t.attendees)||[],ListEmptyComponent:(0,v.jsx)(f.EmptyView,{text:"No attendee was found"}),loading:!1,renderItem:function(e){var t=e.item;return(0,v.jsx)(p.AttendeeItem,{id:t})},singleListIndex:e.singleListIndex,index:n})}},{title:"Guests",content:function(e){return(0,v.jsx)(c.ScrollableList,{data:(null==t?void 0:t.followers)||[],ListEmptyComponent:(0,v.jsx)(f.EmptyView,{text:"No guest was found"}),loading:!1,renderItem:function(e){var t=e.item;return(0,v.jsx)(p.AttendeeItem,{id:t})},singleListIndex:e.singleListIndex,index:n})}},{title:"Pending approvals",content:function(e){return(0,v.jsx)(c.ScrollableList,{data:(null==t?void 0:t.invites)||[],ListEmptyComponent:(0,v.jsx)(f.EmptyView,{text:"No pending approvals"}),loading:!1,renderItem:function(e){var t=e.item;return(0,v.jsx)(p.AttendeeItem,{id:t})},singleListIndex:e.singleListIndex,index:n})}}],children:[(0,v.jsx)(c.SingleTabView.CollapsableTabBar,{hideSeparator:!0,children:(0,v.jsx)(h,{children:(0,v.jsxs)(s.FlexSpaceBetween,{children:[(0,v.jsx)(c.UIText.HeaderMedium,{children:"Attendees"}),(0,v.jsx)(s.FlexCenter,{children:(0,v.jsx)(c.UIButton,{source:d.IC_OUTLINED_SEARCH})})]})})}),(0,v.jsx)(u.View,{style:{flex:1,backgroundColor:"transparent"},children:(0,v.jsx)(c.SingleTabView.Content,{})})]})}));var h=a.styled.View(i||(i=(0,o.default)(["\n  padding: 8px 16px;\n  background-color: white;\n"])))},94165:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.EventActionBottomSheet=void 0;var i,o,l=r(n(19452)),a=r(n(17156)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),u=n(33435),d=n(4007),c=n(25277),f=n(92571),p=n(60301),v=n(91087),x=n(20349),h=n(79837),y=n(33823);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}t.EventActionBottomSheet=(0,d.memoForwardRef)((function(e,t){var n=e.id,r=(0,d.useTheme)(),i=(0,s.useMemo)((function(){return[{label:"Edit event",value:"Edit",icon:c.IC_OUTLINED_EDIT,onPress:function(){var e;(0,x.navigateToCreateEvent)({id:n}),null==(e=t.current)||e.dismiss()}},{value:"remove",label:"Remove event",icon:c.IC_FILLED_DELETE,onPress:function(){l().then()}}]}),[]),o=(0,s.useCallback)((function(e,t){return(0,y.jsxs)(j,{onPress:e.onPress,children:[(0,y.jsx)(g,{source:e.icon,isDelete:"remove"===e.value}),(0,y.jsx)(f.View,{style:p.globalStyles.ml12,children:(0,y.jsx)(v.UIText.BodyMedium400,{style:{color:"remove"===e.value?r.red1:r.neutral1},children:e.label})})]},t)}),[t]),l=(0,s.useCallback)((0,a.default)((function*(){var e;yield(0,h.requestRemoveEvent)({id:n}),null==(e=t.current)||e.dismiss(),(0,d.goBack)()})),[n]);return(0,y.jsx)(u.BottomSheetMenu,{name:"channel",ref:t,items:i,renderMenuItem:o})}));var j=d.styled.TouchableOpacity(i||(i=(0,l.default)(["\n  flex-direction: row;\n  padding: 8px 16px;\n  align-items: center;\n"]))),g=d.styled.Image(o||(o=(0,l.default)(["\n  width: 24px;\n  height: 24px;\n  tint-color: ",";\n"])),(function(e){return e.isDelete?e.theme.red1:e.theme.neutral1}))},92836:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.CoverInfoEvent=void 0;var i,o,l,a,s,u,d,c,f,p,v=r(n(19452)),x=r(n(17156)),h=r(n(27424)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),m=n(4007),j=n(25277),g=r(n(30381)),b=n(25736),w=n(91087),E=r(n(46763)),O=n(73781),_=n(75867),I=n(94165),C=n(79837),P=n(20349),T=n(33823);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}t.CoverInfoEvent=(0,y.memo)((function(e){var t,n,r=e.id,i=(0,_.useEvents)(r),o=(0,m.useMe)(),l=y.default.useRef(null),a=(0,y.useMemo)((function(){var e;return null==(e=(0,O.getChannels)((null==i?void 0:i.channel_id)||""))?void 0:e.name}),[]),s=(0,y.useMemo)((function(){return(null==o?void 0:o.id)&&(null==i?void 0:i.owners.includes(null==o?void 0:o.id))}),[o]),u=(0,m.useAsyncFn)((0,x.default)((function*(){i&&null!=o&&o.id&&(yield(0,C.requestAttendEvent)({id:r,data:i,myId:null==o?void 0:o.id}))})),[i,o]),d=(0,h.default)(u,2),c=d[0].loading,f=d[1],p=(0,y.useCallback)((n=(0,x.default)((function*(e,t){yield(0,C.requestInviteEvent)({id:r,channel_id:(null==i?void 0:i.channel_id)||"",ids:e,guests:t,data:i})})),function(e,t){return n.apply(this,arguments)}),[]),v=(0,y.useCallback)((function(){var e;null==(e=l.current)||e.close(),(0,P.navigateToAddMemberScreen)({ids:(null==i?void 0:i.attendees)||[],onSubmit:p})}),[]);return(0,T.jsxs)(M,{children:[(0,T.jsx)(D,{children:a}),(0,T.jsxs)(k,{children:[(0,T.jsx)(w.UIText.HeaderLarge,{children:null==i?void 0:i.name}),(0,T.jsxs)(L,{children:[(0,T.jsx)(V,{source:j.IC_FILLED_EVENT}),(0,T.jsx)(F,{children:(0,g.default)(1e3*(null==i?void 0:i.time)).format("dddd HH:mm DD/MM/YYYY")}),null!=i&&i.time&&1e3*(null==i?void 0:i.time)<(0,g.default)().valueOf()?(0,T.jsxs)(b.FlexCenter,{children:[(0,T.jsx)(b.SLineDivider,{}),(0,T.jsx)(A,{children:"Ended"})]}):null]}),(0,T.jsxs)(L,{children:[(0,T.jsx)(V,{source:j.IC_FILLED_LOCATION_ON}),(0,T.jsx)(F,{children:null==i?void 0:i.address})]}),(0,T.jsxs)(L,{children:[null!=o&&o.id?null!=i&&null!=(t=i.attendees)&&t.includes(Number(null==o?void 0:o.id))?(0,T.jsx)(U,{loading:c,onPress:f,source:j.IC_FILLED_CHECK,title:"Attending",imageSize:20}):(0,T.jsx)(q,{loading:c,onPress:f,source:j.IC_FILLED_CHECK,title:"Attend",imageSize:20}):null,(0,T.jsx)(W,{onPress:v,source:j.IC_FILLED_PERSON_ADD}),s?(0,T.jsx)(W,{source:j.IC_OUTLINED_MORE_HORIZ,onPress:function(){var e;null==(e=l.current)||e.present()}}):null]})]}),(0,T.jsx)(I.EventActionBottomSheet,{ref:l,id:r})]})}));var M=(0,m.styled)(E.default.View)(i||(i=(0,v.default)(["\n  padding: 8px 16px;\n  background-color: white;\n"]))),k=(0,m.styled)(E.default.View)(o||(o=(0,v.default)(["\n  gap: 12px;\n  margin-top: 4px;\n"]))),D=(0,m.styled)(w.UIText.BodyMedium400)(l||(l=(0,v.default)(["\n  color: #267cde;\n"]))),L=m.styled.View(a||(a=(0,v.default)(["\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n"]))),V=m.styled.Image(s||(s=(0,v.default)(["\n  width: 20px;\n  height: 20px;\n  tint-color: ",";\n  margin-right: 4px;\n"])),(function(e){return e.theme.neutral2})),F=(0,m.styled)(w.UIText.BodyMedium400)(u||(u=(0,v.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral2})),A=m.styled.Text(d||(d=(0,v.default)(["\n  color: ",";\n  /* Body/12R */\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px; /* 133.333% */\n"])),(function(e){return e.theme.red1}),m.Fonts.Regular),W=(0,m.styled)(w.UIButton).attrs((function(e){return{imageStyle:{tintColor:e.theme.primaryColor}}}))(c||(c=(0,v.default)(["\n  border-radius: 8px;\n  border: 1px solid ",";\n  display: flex;\n  width: 40px;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.primaryColor})),q=(0,m.styled)(w.UIButton).attrs((function(e){return{textStyle:Object.assign({},w.UITextStyle.button_large,{color:"white"}),imageStyle:{tintColor:"white"}}}))(f||(f=(0,v.default)(["\n  display: flex;\n  flex: 1;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor})),U=(0,m.styled)(w.UIButton).attrs((function(e){return{textStyle:Object.assign({},w.UITextStyle.button_large,{color:e.theme.primaryColor}),imageStyle:{tintColor:e.theme.primaryColor}}}))(p||(p=(0,v.default)(["\n  display: flex;\n  flex: 1;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.primaryColor}))},42181:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.EventDescription=void 0;var i,o,l,a=r(n(19452)),s=n(84481),u=n(4007),d=n(91087),c=n(92571),f=n(60301),p=n(77847),v=n(33823),x=(t.EventDescription=(0,s.memo)((function(e){var t=e.content,n=e.attachments;return(0,v.jsxs)(x,{children:[(0,v.jsx)(d.UIText.HeaderMedium,{style:f.globalStyles.mb12,children:"Description"}),(0,v.jsx)(c.View,{style:{overflow:"hidden",backgroundColor:"white"},children:(0,v.jsx)(d.HTMLRenderer,{htmlContent:t||"",defaultTextProps:{style:{fontSize:14,lineHeight:20,color:"#333"}}})}),(0,v.jsx)(d.UIText.HeaderMedium,{style:f.globalStyles.mt12,children:"Attachments"}),(0,v.jsx)(h,{children:null==n?void 0:n.map((function(e,t){return(0,v.jsx)(p.AttachmentFile,{attachment:e,time:e.since},t)}))})]})})),u.styled.View(i||(i=(0,a.default)(["\n  padding: 8px 16px;\n  background-color: white;\n"])))),h=(u.styled.Text(o||(o=(0,a.default)(["\n  font-family: ",";\n  \n  font-weight: 700;\n  font-size: 16px;\n  color: #242424;\n"])),u.Fonts.Regular),u.styled.View(l||(l=(0,a.default)(["\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))))},79494:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.EventInformation=void 0;var i,o,l,a,s,u,d=r(n(19452)),c=n(4007),f=n(84481),p=n(91087),v=n(60301),x=n(25277),h=n(75867),y=n(73781),m=n(33823),j=(t.EventInformation=(0,f.memo)((function(e){var t=e.id,n=e.index,r=(0,h.useEvents)(t),i=(0,c.useUser)((null==r?void 0:r.user_id)||""),o=(0,f.useMemo)((function(){var e;return null==(e=(0,y.getChannels)((null==r?void 0:r.channel_id)||""))?void 0:e.name}),[]);return(0,m.jsx)(p.ScrollableTabView.ScrollView,{index:n,children:(0,m.jsxs)(j,{children:[(0,m.jsx)(p.UIText.HeaderMedium,{style:v.globalStyles.mb12,children:"Event information"}),(0,m.jsxs)(w,{children:[(0,m.jsx)(p.Avatar,{userKey:(null==i?void 0:i.id)||"",size:20}),(0,m.jsxs)(g,{style:v.globalStyles.ml4,children:["Created by ",(0,m.jsx)(b,{children:null==i?void 0:i.name})," at 30 days ago"]})]}),(0,m.jsxs)(w,{children:[(0,m.jsx)(E,{children:(0,m.jsx)(O,{source:x.IC_FILLED_GROUP})}),(0,m.jsx)(g,{style:v.globalStyles.ml4})]}),(0,m.jsxs)(w,{children:[(0,m.jsx)(E,{children:(0,m.jsx)(O,{source:x.IC_FILLED_PUBLIC})}),(0,m.jsxs)(g,{style:v.globalStyles.ml4,children:["This is a ",0===(null==r?void 0:r.privacy)?"public":"private"," event"]})]}),(0,m.jsxs)(w,{children:[(0,m.jsx)(E,{children:(0,m.jsx)(O,{source:x.IC_FILLED_HUB})}),(0,m.jsx)(g,{style:v.globalStyles.ml4,children:"Channel: "+o})]})]})})})),c.styled.View(i||(i=(0,d.default)(["\n  padding: 8px 16px;\n  background-color: white;\n"])))),g=(0,c.styled)(p.UIText.BodyMedium400)(o||(o=(0,d.default)(["\n  flex: 1;\n  margin-left: 12px;\n"]))),b=(0,c.styled)(g)(l||(l=(0,d.default)(["\n  color: ",";\n"])),(function(e){return e.theme.primaryColor})),w=c.styled.View(a||(a=(0,d.default)(["\n  flex-direction: row;\n  align-items: center;\n  margin: 8px 0;\n  gap: 12px;\n"]))),E=c.styled.View(s||(s=(0,d.default)(["\n  width: 20px;\n  height: 20px;\n  align-items: center;\n  justify-content: center;\n"]))),O=c.styled.Image(u||(u=(0,d.default)(["\n  width: 20px;\n  height: 20px;\n"])))},7349:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderEvent=void 0;var i=m(n(84481)),o=m(n(46763)),l=n(25200),a=n(4007),s=n(25277),u=n(91087),d=n(75867),c=n(52861),f=n(92571),p=n(69377),v=n(20349),x=r(n(55174)),h=n(33823);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var j={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}"};t.HeaderEvent=(0,i.memo)((function(e){var t,n=e.id,r=(0,d.useEvents)(n),i=(0,l.useAnimatedSafeAreaInsets)().aTop,y=(0,o.useAnimatedStyle)(((t=function(){return{paddingTop:i.value}}).__closure={aTop:i},t.__initData=j,t.__workletHash=9978501313055,t));return(0,p.useSetStatusBar)(),(0,h.jsx)(f.View,{children:(0,h.jsxs)(f.View,{style:{height:218,width:"100%"},children:[(0,h.jsx)(c.PostImage,{image:null==r?void 0:r.cover}),(0,h.jsx)(o.default.View,{style:[f.StyleSheet.absoluteFillObject],children:(0,h.jsxs)(o.default.View,{style:y,children:[(0,h.jsx)(o.default.View,{style:[f.StyleSheet.absoluteFillObject],children:(0,h.jsx)(x.default,{colors:[(0,v.hexToRgbA)("#101012",0),(0,v.hexToRgbA)("#000000",1)],style:{height:"100%",width:"100%",zIndex:1,transform:[{rotateZ:"180deg"}]}})}),(0,h.jsx)(u.UIButton,{source:s.IC_OUTLINED_LEFT,style:{height:44,marginLeft:16,justifyContent:"center"},imageStyle:{tintColor:"white"},onPress:a.goBack})]})})]})})}))},79192:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.OtherEvents=void 0;var i,o,l=r(n(19452)),a=n(4007),s=n(84481),u=n(83899),d=n(75867),c=n(91087),f=n(80162),p=n(33823),v=(t.OtherEvents=(0,s.memo)((function(e){var t=e.id,n=e.index,r=(0,d.useEventsByQuery)("all").filter((function(e){return e!==t.toString()})),i=(0,s.useCallback)((function(e){var t=e.item;return(0,p.jsx)(u.EventThumbnail,{id:t})}),[]);return(0,p.jsx)(c.ScrollableList,{data:r,ListEmptyComponent:function(){return(0,p.jsx)(f.EmptyView,{text:"No event was found"})},ListHeaderComponent:function(){return(0,p.jsx)(v,{children:(0,p.jsx)(x,{children:"Other events"})})},loading:!1,renderItem:i,index:n})})),a.styled.View(i||(i=(0,l.default)(["\n  padding: 8px 16px;\n"])))),x=a.styled.Text(o||(o=(0,l.default)(["\n  font-family: ",";\n  font-size: 16px;\n  color: #242424;\n"])),a.Fonts.Bold)},23891:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewEvent=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),i=n(91087),o=n(42181),l=n(75867),a=n(33823);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}t.OverviewEvent=(0,r.memo)((function(e){var t=e.id,n=e.index,r=(0,l.useEvents)(t);return(0,a.jsx)(i.MyKeyboardAvoidingView,{children:(0,a.jsxs)(i.CommentPreview.Provider,{appName:"inside",type:"comment",hid:(null==r?void 0:r.hid)||"",token:(null==r?void 0:r.token)||"",children:[(0,a.jsx)(i.ScrollableTabView.ScrollView,{index:n,keyboardShouldPersistTaps:"handled",children:(0,a.jsx)(o.EventDescription,{content:null==r?void 0:r.content,attachments:null==r?void 0:r.files})}),(0,a.jsx)(i.CommentPreview.Input,{})]})})}))},13138:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DetailEventScreen=void 0;var i=r(n(27424)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),l=n(7349),a=n(92836),s=n(91087),u=n(92571),d=n(23891),c=n(71911),f=n(79192),p=n(75867),v=n(4007),x=n(79837),h=n(79494),y=n(33823);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var j=t.DetailEventScreen=(0,o.memo)((function(){var e=(0,v.useNavigationParams)().id,t=(0,p.useEvents)(e),n=(0,v.useAsyncFn)((function(){return(0,x.requestEvent)({event_id:e})}),[e]),r=(0,i.default)(n,2),m=r[0],j=(m.loading,m.error,r[1]);return(0,o.useEffect)((function(){j().then()}),[]),(0,y.jsxs)(s.ScreenWrapper,{isGrey:!0,children:[(0,y.jsx)(u.Text,{children:"asdasd"}),(0,y.jsx)(l.HeaderEvent,{id:e}),(0,y.jsxs)(s.ScrollableTabView.Provider,{index:0,level:0,tabs:[{title:"Overview",content:function(t){return(0,y.jsx)(d.OverviewEvent,{index:t.index,id:e})}},{title:"Attendees",content:function(e){return(0,y.jsx)(c.AttendeesEvent,{data:t,index:e.index})}},{title:"Detail",content:function(t){return(0,y.jsx)(h.EventInformation,{id:e,index:t.index})}},{title:"Other events",content:function(t){return(0,y.jsx)(f.OtherEvents,{index:t.index,id:e})}}],children:[(0,y.jsx)(s.ScrollableTabView.CollapsableTabBar,{children:(0,y.jsx)(a.CoverInfoEvent,{id:e})}),(0,y.jsx)(u.View,{style:{flex:1,marginTop:8},children:(0,y.jsx)(s.ScrollableTabView.Content,{})})]})]})}));t.default=j},83899:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.EventThumbnail=void 0;var i,o,l,a,s,u,d,c,f,p,v,x,h=r(n(19452)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(84481)),m=n(4007),j=r(n(30381)),g=n(20349),b=n(75867),w=n(48764),E=r(n(82825)),O=n(73781),_=n(33823);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}t.EventThumbnail=(0,y.memo)((function(e){var t=e.id,n=(0,b.useEvents)(t),r=(0,y.useMemo)((function(){var e=w.Buffer.from((null==n?void 0:n.cover)||"","base64").toString("utf-8");if(e){var t=JSON.parse(e);if(t&&t.image)return t}return null}),[null==n?void 0:n.cover]),i=(0,y.useCallback)((function(){(0,g.openDetailEventScreen)({id:t})}),[]),o=(0,y.useMemo)((function(){var e;return null==(e=(0,O.getChannels)((null==n?void 0:n.channel_id)||""))?void 0:e.name}),[]);return(0,_.jsx)(C,{children:(0,_.jsxs)(P,{onPress:i,children:[(0,_.jsxs)(T,{children:[(0,_.jsx)(A,{children:(0,_.jsx)(W,{children:o})}),(0,_.jsx)(S,{resizeMode:"cover",source:{uri:(null==r?void 0:r.image)||""}})]}),(0,_.jsxs)(M,{children:[(0,_.jsx)(D,{children:(0,j.default)(1e3*(null==n?void 0:n.time)).format("dddd, HH:mm DD/MM/YYYY")}),(0,_.jsx)(L,{children:null==n?void 0:n.name}),(0,_.jsxs)(k,{children:[(0,_.jsx)(V,{children:(null==n?void 0:n.attendees.length)+" attendees"}),(0,_.jsx)(F,{}),(0,_.jsx)(V,{children:null==n?void 0:n.address})]})]})]})})}));var C=m.styled.View(i||(i=(0,h.default)(["\n  background-color: transparent;\n"]))),P=m.styled.TouchableOpacity(o||(o=(0,h.default)(["\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #ebebeb;\n  margin: 16px 16px 0 16px;\n  padding: 12px;\n"]))),T=m.styled.View(l||(l=(0,h.default)(["\n  width: 100%;\n"]))),S=(0,m.styled)(E.default)(a||(a=(0,h.default)(["\n  width: 100%;\n  height: 180px;\n  max-height: 180px;\n  border-radius: 8px;\n  background-color: #2a91d6;\n"]))),M=m.styled.View(s||(s=(0,h.default)(["\n  align-items: flex-start;\n  justify-content: center;\n"]))),k=m.styled.View(u||(u=(0,h.default)(["\n  flex-direction: row;\n  align-items: center;\n"]))),D=m.styled.Text(d||(d=(0,h.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  margin-top: 8px;\n"])),(function(e){return e.theme.neutral2}),m.Fonts.Medium),L=m.styled.Text.attrs((function(e){return{numberOfLines:2}}))(c||(c=(0,h.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.neutral1}),m.Fonts.Regular),V=m.styled.Text(f||(f=(0,h.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 8px;\n"])),(function(e){return e.theme.neutral2}),m.Fonts.Medium),F=m.styled.View(p||(p=(0,h.default)(["\n  background-color: ",";\n  width: 4px;\n  height: 4px;\n  border-radius: 2px;\n  margin: 8px 6px 0 6px;\n"])),(function(e){return e.theme.neutral3})),A=m.styled.View(v||(v=(0,h.default)(["\n  display: inline-flex;\n  padding: 4px 8px;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  border-radius: 40px;\n  background-color: rgba(0, 0, 0, 0.65);\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  z-index: 10;\n"]))),W=m.styled.Text(x||(x=(0,h.default)(["\n  color: #fff;\n  /* Caption/caption-medium-500 */\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px; /* 133.333% */\n"])),m.Fonts.Medium)},79837:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestRemoveEvent=t.requestPublicEvents=t.requestJoinedEvents=t.requestInviteEvent=t.requestEventsProfile=t.requestEventsJoinedChannel=t.requestEventsChannel=t.requestEvent=t.requestEditEvent=t.requestCreateEvent=t.requestAttendEvent=void 0;var i,o,l,a,s,u,d,c,f,p,v,x=r(n(861)),h=r(n(38416)),y=r(n(17156)),m=n(4007),j=n(30806),g=n(75867),b=n(60569);t.requestPublicEvents=(i=(0,y.default)((function*(){var e=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/gets")).data;return(0,j.batch)((function(){e.events.length&&((0,g.syncEvents)(e.events),(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"all",e.events.map((function(e){return e.id.toString()}))))})))})),e.events})),function(){return i.apply(this,arguments)}),t.requestJoinedEvents=(o=(0,y.default)((function*(){var e=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/joined")).data;return(0,j.batch)((function(){e.events.length&&((0,g.syncEvents)(e.events),(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"joined",e.events.map((function(e){return e.id.toString()}))))})))})),e.events})),function(){return o.apply(this,arguments)}),t.requestEvent=(l=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/get?event_id="+e.event_id)).data;return(0,j.batch)((function(){t.event&&(0,g.syncEvents)([t.event])})),t.event})),function(e){return l.apply(this,arguments)}),t.requestCreateEvent=(a=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/create",e)).data;(0,j.batch)((function(){t.event&&((0,g.syncEvents)([t.event]),(0,g.setEventsQuery)((function(e){return Object.assign({},e,(0,h.default)({},"all",[t.event.id.toString()].concat((0,x.default)(e.all||[]))))})))}))})),function(e){return a.apply(this,arguments)}),t.requestEditEvent=(s=(0,y.default)((function*(e,t){var n=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/edit",e)).data;(0,j.batch)((function(){if(n.event){if(t&&t>0){var e=(0,b.getUpdates)(t);e&&(0,b.syncUpdates)([Object.assign({},e,{attachment:n.event})])}(0,g.syncEvents)([n.event])}}))})),function(e,t){return s.apply(this,arguments)}),t.requestRemoveEvent=(u=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/remove",e)).data;(0,j.batch)((function(){"ok"===t.message&&(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"all",(t.all||[]).filter((function(t){return t!==e.id.toString()}))))}))}))})),function(e){return u.apply(this,arguments)}),t.requestAttendEvent=(d=(0,y.default)((function*(e){"ok"==(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/attendee/attend",e)).data.message&&((0,g.syncEvents)([Object.assign({},e.data,{attendees:(0,x.default)(new Set([].concat((0,x.default)(e.data.attendees),[Number(e.myId)])))})]),m.ToastService.show("Attend event successfully"))})),function(e){return d.apply(this,arguments)}),t.requestInviteEvent=(c=(0,y.default)((function*(e){"ok"==(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/attendee/invite",e)).data.message&&e.data&&((0,g.syncEvents)([Object.assign({},e.data,{attendees:(0,x.default)(new Set([].concat((0,x.default)(e.data.attendees),(0,x.default)(e.ids))))})]),m.ToastService.show("Invite event successfully"))})),function(e){return c.apply(this,arguments)}),t.requestEventsChannel=(f=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+(null!=e&&e.q?"&q="+e.q:""))).data;return console.log("asd"),(0,j.batch)((function(){t.events.length&&((0,g.syncEvents)(t.events),(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},e.path,t.events.map((function(e){return e.id.toString()}))))})))})),t.events})),function(e){return f.apply(this,arguments)}),t.requestEventsJoinedChannel=(p=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+"&state=joined"+(null!=e&&e.q?"&q="+e.q:""))).data;return(0,j.batch)((function(){t.events.length&&(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},"joined_"+e.path,t.events.map((function(e){return e.id.toString()}))))}))})),t.events})),function(e){return p.apply(this,arguments)}),t.requestEventsProfile=(v=(0,y.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/profile/get?tail=events&username="+e.username)).data;(0,j.batch)((function(){t.events.length&&((0,g.syncEvents)(t.events),(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},e.username,t.events.map((function(e){return e.id.toString()}))))})))}))})),function(e){return v.apply(this,arguments)})}}]);//# sourceMappingURL=src_screens_DetailEventScreen_index_tsx.chunk.bundle.map?platform=ios