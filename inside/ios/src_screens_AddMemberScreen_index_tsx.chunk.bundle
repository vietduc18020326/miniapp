(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_AddMemberScreen_index_tsx"],{27677:function(e,r,t){var o=t(64836);Object.defineProperty(r,"__esModule",{value:!0}),r.AddMemberScreen=void 0;var n,A,l,a,s=o(t(19452)),u=o(t(17156)),i=o(t(27424)),C=o(t(38416)),c=o(t(861)),d=function(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h(r);if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var A in e)if("default"!==A&&Object.prototype.hasOwnProperty.call(e,A)){var l=n?Object.getOwnPropertyDescriptor(e,A):null;l&&(l.get||l.set)?Object.defineProperty(o,A,l):o[A]=e[A]}o.default=e,t&&t.set(e,o);return o}(t(84481)),p=t(46763),m=t(92571),f=t(4007),y=t(91087),g=t(25277),b=t(33823);function h(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(h=function(e){return e?t:r})(e)}var v={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}",location:"/Users/phamduc/inside/src/screens/AddMemberScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_key","_value","params","__closure","value"],"sources":["/Users/phamduc/inside/src/screens/AddMemberScreen/index.tsx"],"mappings":"AAyEc,QAAC,CAAAA,SAAMA,CAAAC,IAAM,CAAKC,MAAA,QAAAC,MAAA,OAAAC,SAAA,CAExBD,MAAM,CAACE,KAAK,CAAG,CACb,GAAGF,MAAM,CAACE,KAAK,CAEf,CAACJ,IAAI,EAAGC,MACV,CAAC,CACH"}',version:"3.5.4"},x={code:"function anonymous(){const{params,interpolateColor,theme}=this.__closure;const disabled=!params.value['followers']?1:0;return{backgroundColor:interpolateColor(disabled,[0,1],[theme.primaryColor,theme.neutral3])};}",location:"/Users/phamduc/inside/src/screens/AddMemberScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","params","interpolateColor","theme","__closure","disabled","value","backgroundColor","primaryColor","neutral3"],"sources":["/Users/phamduc/inside/src/screens/AddMemberScreen/index.tsx"],"mappings":"AAgG+C,SAAAA,SAAMA,CAAA,QAAAC,MAAA,CAAAC,gBAAA,CAAAC,KAAA,OAAAC,SAAA,CACjD,KAAM,CAAAC,QAAQ,CAAG,CAACJ,MAAM,CAACK,KAAK,CAAC,WAAW,CAAC,CAAG,CAAC,CAAG,CAAC,CACnD,MAAO,CACLC,eAAe,CAAEL,gBAAgB,CAC/BG,QAAQ,CACR,CAAC,CAAC,CAAE,CAAC,CAAC,CACN,CAACF,KAAK,CAACK,YAAY,CAAEL,KAAK,CAACM,QAAQ,CACrC,CACF,CAAC,CACH"}',version:"3.5.4"},S=(r.AddMemberScreen=(0,d.memo)((function(){var e,r,o=(0,f.useNavigationParams)(),n=o.ids,A=o.onSubmit,l=(0,p.useSharedValue)(100),a=(0,d.useRef)(null),s=(0,d.useRef)(null),m=(0,d.useRef)(null),h=(0,f.useTheme)(),j=n,I=(0,p.useSharedValue)({followers:j&&j||[],groups:[]}),O=(0,d.useCallback)((function(e,r){if("groups"===e){var o=I.value.followers;return r.map((function(e){var r=(0,f.getUserGroup)(e);r&&"group"===r.metatype&&(o=o.concat((0,f.getUserByQuery)("userGroup/"+e)))})).filter(Boolean),void(I.value=Object.assign({},I.value,{followers:(0,c.default)(new Set(o))}))}var n,A;(0,p.runOnUI)((n=[new t.g.Error,-2,-27],(A=function(e,r){I.value=Object.assign({},I.value,(0,C.default)({},e,r))}).__closure={params:I},A.__initData=v,A.__workletHash=690685769123,A.__stackDetails=n,A))(e,r)}),[I]),K=(0,f.useAsyncFn)((0,u.default)((function*(){var e=I.value.followers,r=(0,c.default)(new Set(e)).map((function(e){var r;return"@"+(null==(r=(0,f.getUser)(e))?void 0:r.username)}));A(e,r.join(" ")),(0,f.goBack)()})),[I]),U=(0,i.default)(K,2),G=U[0],B=G.loading,E=G.error,P=U[1],D=(0,p.useAnimatedStyle)((e=[new t.g.Error,-4,-27],(r=function(){var e=I.value.followers?0:1;return{backgroundColor:(0,p.interpolateColor)(e,[0,1],[h.primaryColor,h.neutral3])}}).__closure={params:I,interpolateColor:p.interpolateColor,theme:h},r.__initData=x,r.__workletHash=0x94b38d68f45,r.__stackDetails=e,r));return(0,f.useAutoToastError)(E),(0,b.jsxs)(y.FullScreenWrapper,{children:[(0,b.jsx)(y.LeftModalHeader,{hideSeparator:!1,title:"Invite members"}),(0,b.jsx)(y.MyKeyboardAvoidingView,{ref:a,scrollRef:s,scrollInputAdditionalOffset:l,children:(0,b.jsxs)(_,{ref:s,keyboardShouldPersistTaps:"handled",children:[(0,b.jsx)(M,{children:(0,b.jsx)(y.UIUserPickerInput,{type:"user",keyName:"followers",multiple:!0,title:"Invite members",onChangeValue:O,params:I})}),(0,b.jsx)(k,{children:(0,b.jsx)(y.UIUserPickerInput,{type:"group",keyName:"groups",multiple:!0,title:"Invite members groups",onChangeValue:O,ref:m})}),(0,b.jsx)(M,{children:(0,b.jsx)(y.UIButton,{title:"Select group users",textStyle:S.textStyleGroup,source:g.IC_OUTLINED_RIGHT,imageSize:14,imageStyle:S.imageStyle,onPress:function(){var e,r,t;null==m||null==(e=m.current)||null==(r=e.bottomSheetRef)||null==(t=r.current)||t.present()}})}),(0,b.jsx)(y.AnimatedBottomSpace,{})]})}),(0,b.jsx)(w,{buttons:[{title:"Cancel",onPress:f.goBack,textColor:h.primaryColor,backgroundColor:"white",style:{borderWidth:1,borderColor:h.primaryColor},textStyle:S.textStyle},{title:"Add",loading:B,onPress:P,textColor:"white",backgroundColor:h.primaryColor,textStyle:S.textStyle,style:D}]})]})})),m.StyleSheet.create({textStyle:{fontFamily:f.Fonts.Medium,fontSize:16,lineHeight:24,marginRight:8},textStyleGroup:{color:f.Colors.blue1},imageStyle:{tintColor:f.Colors.blue1,justifyContent:"center"}})),_=f.styled.ScrollView(n||(n=(0,s.default)([""]))),M=f.styled.View(A||(A=(0,s.default)(["\n  flex: 1;\n  padding: 20px 16px 0 16px;\n"]))),k=f.styled.View(l||(l=(0,s.default)(["\n  overflow: hidden;\n  height: 0;\n"]))),w=(0,f.styled)(y.UIBottomButton)(a||(a=(0,s.default)(["\n  padding: 8px 16px;\n  margin: 0;\n  background-color: ",";\n  border-top-width: 1px;\n  border-color: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.neutral06}))}}]);//# sourceMappingURL=src_screens_AddMemberScreen_index_tsx.chunk.bundle.map?platform=ios