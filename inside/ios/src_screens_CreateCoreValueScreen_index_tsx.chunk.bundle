(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_CreateCoreValueScreen_index_tsx"],{99293:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCoreValueScreen=void 0;var a,o,s,i,u=n(r(19452)),A=n(r(38416)),c=n(r(17156)),l=n(r(27424)),C=r(84481),d=r(4007),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=M(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(46763)),f=r(91087),m=r(92910),v=r(86702),h=r(54842),y=r(38600),_=r(44815),x=r(11361),g=r(70075),b=r(58053),j=n(r(78663)),k=r(33823);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(M=function(e){return e?r:t})(e)}var P={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}",location:"/Users/phamduc/inside/src/screens/CreateCoreValueScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_key","_value","params","__closure","value"],"sources":["/Users/phamduc/inside/src/screens/CreateCoreValueScreen/index.tsx"],"mappings":"AA0Dc,QAAC,CAAAA,SAAcA,CAAAC,IAAM,CAAKC,MAAA,QAAAC,MAAA,OAAAC,SAAA,CAGhCD,MAAM,CAACE,KAAK,CAAG,CACb,GAAGF,MAAM,CAACE,KAAK,CACf,CAACJ,IAAI,EAAGC,MACV,CAAC,CACH"}',version:"3.5.4"},w={code:"function anonymous(){const{params}=this.__closure;return!!params.value.name;}",location:"/Users/phamduc/inside/src/screens/CreateCoreValueScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","params","__closure","value","name"],"sources":["/Users/phamduc/inside/src/screens/CreateCoreValueScreen/index.tsx"],"mappings":"AAsE4C,SAAAA,SAAMA,CAAA,QAAAC,MAAA,OAAAC,SAAA,CAC9C,MAAO,CAAC,CAACD,MAAM,CAACE,KAAK,CAACC,IAAI,CAC5B"}',version:"3.5.4"},S=(t.CreateCoreValueScreen=(0,C.memo)((function(){var e=(0,d.useNavigationParams)().id,t=(0,p.useSharedValue)(h.initCreateCoreValue),n=(0,d.useBoolean)(),a=(0,l.default)(n,3),o=a[0],s=(a[1],a[2]),i=(0,v.useAsyncFn)((0,c.default)((function*(){-1!==e?yield(0,_.requestEditCoreValues)(t.value):(yield(0,_.requestCreateCoreValues)(t.value),d.ToastService.show("Create core values successfully")),(0,d.goBack)()})),[e,t]),u=(0,l.default)(i,2),M=u[0],T=M.loading,E=M.error,D=u[1];(0,d.useAutoToastError)(E);var U,K,H=(0,C.useCallback)((function(){console.log("aa"),(0,d.goBack)()}),[]),B=(0,C.useCallback)((function(e,n){var a,o;(0,p.runOnUI)((a=[new r.g.Error,-2,-27],(o=function(e,r){t.value=Object.assign({},t.value,(0,A.default)({},e,r))}).__closure={params:t},o.__initData=P,o.__workletHash=690685769123,o.__stackDetails=a,o))(e,n)}),[t]),W=(0,p.useDerivedValue)((U=[new r.g.Error,-2,-27],(K=function(){return!!t.value.name}).__closure={params:t},K.__initData=w,K.__workletHash=0xc157b0598d0,K.__stackDetails=U,K),[]);return(0,C.useEffect)((function(){var r=Object.assign({},h.initCreateCoreValue);if(e>0){var n=(0,y.getCoreValues)(e);r={id:null==n?void 0:n.id,content:(null==n?void 0:n.content)||"",name:(null==n?void 0:n.name)||"",image:null==n?void 0:n.image,notify:null==n?void 0:n.notify,notify_email:null==n?void 0:n.notify_email,disable_comment:null==n?void 0:n.disable_comment}}t.value=r}),[e]),(0,k.jsx)(f.ScreenWrapper,{children:(0,k.jsxs)(f.MyKeyboardAvoidingView,{children:[(0,k.jsx)(g.HeaderCreatePost,{onPress:D,active:W,id:e,loading:T,onGoBack:H,title:"Create core values"}),(0,k.jsx)(j.default,{isVisible:T}),(0,k.jsxs)(S,{children:[(0,k.jsxs)(O,{children:[(0,k.jsx)(V,{children:(0,k.jsx)(f.UIInput.Text,{title:"Title",keyName:"name",params:t,placeholder:"---",defaultValue:"",onChangeValue:B,required:!0})}),(0,k.jsx)(V,{children:(0,k.jsx)(f.UIInput.UserPicker,{title:"Content",keyName:"content",params:t,onChangeValue:B,type:"user"})})]}),(0,k.jsxs)(O,{children:[(0,k.jsx)(V,{children:(0,k.jsx)(I,{children:"Advanced settings"})}),(0,k.jsx)(b.CheckboxWithText,{params:t,keyName:"draft",title:"Save as a draft"}),(0,k.jsx)(b.CheckboxWithText,{params:t,keyName:"disable_comment",title:"Disable comments"}),(0,k.jsx)(b.CheckboxWithText,{params:t,keyName:"notify",title:"Send notification"}),(0,k.jsx)(b.CheckboxWithText,{params:t,keyName:"notify_email",title:"Notify everyone via email"})]}),(0,k.jsx)(x.AnimatedBottomSpace,{})]}),(0,k.jsx)(m.DiscardDialog,{title:"Discard change",content:"You have made changes to this item that have not been saved. If you leave this page, your changes will be lost.",visible:o,onClose:s})]})})})),(0,d.styled)(p.default.View)(a||(a=(0,u.default)(["\n  flex: 1;\n"])))),V=d.styled.View(o||(o=(0,u.default)(["\n  margin: 8px 16px 0 16px;\n"]))),O=d.styled.View(s||(s=(0,u.default)(["\n  padding-bottom: 12px;\n  margin-top: 8px;\n  background-color: ",";\n"])),(function(e){return e.theme.white})),I=d.styled.Text(i||(i=(0,u.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),d.Fonts.Medium,(function(e){return e.theme.neutral1}))},70075:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCreatePost=void 0;var a,o,s=n(r(19452)),i=r(84481),u=r(25736),A=r(4007),c=r(25277),l=r(91087),C=r(25200),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(46763)),p=r(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var m={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","aTop","__closure","paddingTop","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAwB8C,SAAAA,UAAA,QAAAC,IAAA,OAAAC,SAAA,OAAO,CACjDC,UAAU,CAAEF,IAAI,CAACG,KACnB,CAAC"}',version:"3.5.4"},v={code:"function anonymous(){const{interpolateColor,active,theme}=this.__closure;return{backgroundColor:interpolateColor(active.value?1:0,[0,1],[theme.neutral3,theme.primaryColor]),width:'100%'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolateColor","active","theme","__closure","backgroundColor","value","neutral3","primaryColor","width"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AA8B4C,SAAAA,SAAMA,CAAA,QAAAC,gBAAA,CAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA,CAC9C,MAAO,CACLC,eAAe,CAAEJ,gBAAgB,CAC/BC,MAAM,CAACI,KAAK,CAAG,CAAC,CAAG,CAAC,CACpB,CAAC,CAAC,CAAE,CAAC,CAAC,CACN,CAACH,KAAK,CAACI,QAAQ,CAAEJ,KAAK,CAACK,YAAY,CACrC,CAAC,CACDC,KAAK,CAAE,MACT,CAAC,CACH"}',version:"3.5.4"},h={code:"function anonymous(){const{active}=this.__closure;return{pointerEvents:active.value?'auto':'none'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","active","__closure","pointerEvents","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAyCyC,SAAAA,SAAMA,CAAA,QAAAC,MAAA,OAAAC,SAAA,CAC3C,MAAO,CACLC,aAAa,CAAEF,MAAM,CAACG,KAAK,CAAG,MAAM,CAAG,MACzC,CAAC,CACH"}',version:"3.5.4"},y=(t.HeaderCreatePost=(0,i.memo)((function(e){var t,n,a=(0,C.useAnimatedSafeAreaInsets)().aTop,o=(0,d.useAnimatedStyle)((t=[new r.g.Error,-2,-27],(n=function(){return{paddingTop:a.value}}).__closure={aTop:a},n.__initData=m,n.__workletHash=9978501313055,n.__stackDetails=t,n)),s=(0,A.useTheme)(),i=e.title,f=e.active,x=e.id,g=e.onPress,b=(e.loading,e.onGoBack),j=(0,d.useAnimatedStyle)(function(){var e=[new r.g.Error,-4,-27],t=function(){return{backgroundColor:(0,d.interpolateColor)(f.value?1:0,[0,1],[s.neutral3,s.primaryColor]),width:"100%"}};return t.__closure={interpolateColor:d.interpolateColor,active:f,theme:s},t.__initData=v,t.__workletHash=0xefaedf5ccd0,t.__stackDetails=e,t}(),[s]),k=(0,d.useAnimatedProps)(function(){var e=[new r.g.Error,-2,-27],t=function(){return{pointerEvents:f.value?"auto":"none"}};return t.__closure={active:f},t.__initData=h,t.__workletHash=0xcd0f6a5dae1,t.__stackDetails=e,t}());return(0,p.jsxs)(y,{style:o,children:[(0,p.jsxs)(u.FlexCenter,{gap:8,children:[(0,p.jsx)(l.UIButton,{source:c.IC_OUTLINED_LEFT,onPress:b||A.goBack}),(0,p.jsx)(l.UIText.HeaderLarge,{children:i})]}),(0,p.jsx)(d.default.View,{animatedProps:k,children:(0,p.jsx)(_,{title:x?"Update":"Create",onPress:g,style:j})})]})})),(0,A.styled)(d.default.View)(a||(a=(0,s.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ",";\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n"])),(function(e){return e.theme.neutral4}))),_=(0,A.styled)(l.UIButton).attrs((function(e){return{textStyle:Object.assign({},l.UITextStyle.body_medium_500,{color:"#fff"})}}))(o||(o=(0,s.default)(["\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor}))},44815:function(e,t,r){var n=r(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestEditCoreValues=t.requestCreateCoreValues=t.requestCoreValues=t.requestCoreValueId=void 0;var a,o,s,i,u=n(r(38416)),A=n(r(17156)),c=r(4007),l=r(30806),C=r(38600);t.requestCoreValues=(a=(0,A.default)((function*(){var e=(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/gets")).data;return(0,l.batch)((function(){e.core_values.length&&((0,C.syncCoreValues)(e.core_values),(0,C.setCoreValuesQuery)((function(t){return Object.assign({},t,(0,u.default)({},"all",e.core_values.map((function(e){return e.id.toString()}))))})))})),e.core_values})),function(){return a.apply(this,arguments)}),t.requestCoreValueId=(o=(0,A.default)((function*(e){var t=(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/get?corevalue_id="+e.corevalue_id)).data;return(0,l.batch)((function(){t.cv&&(0,C.syncCoreValues)([t.cv])})),t.cv})),function(e){return o.apply(this,arguments)}),t.requestCreateCoreValues=(s=(0,A.default)((function*(e){(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/create",e)).data})),function(e){return s.apply(this,arguments)}),t.requestEditCoreValues=(i=(0,A.default)((function*(e){(yield c.Fetch.postWithToken("@"+c.Core.systemPath+"/inside/ajax/api/company/corevalue/edit",e)).data})),function(e){return i.apply(this,arguments)})},54842:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initCreateCoreValue=void 0;t.initCreateCoreValue={name:"",content:""}}}]);//# sourceMappingURL=src_screens_CreateCoreValueScreen_index_tsx.chunk.bundle.map?platform=ios