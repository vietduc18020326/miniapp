{"version":3,"file":"src_screens_EventScreen_index_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/EventScreen/EventThumbnail.tsx","webpack:///./src/screens/EventScreen/index.tsx","webpack:///./src/store/events/function.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo } from \"react\";\nimport { Fonts, styled } from \"@true/core\";\nimport moment from \"moment\";\nimport { openDetailEventScreen } from \"@/utils\";\nimport { useEvents } from \"@/store/events\";\nimport { Buffer } from \"buffer\";\nimport { IBase64 } from \"@/utils/helper\";\nimport FastImage from \"react-native-fast-image\";\nimport { getChannels } from \"@/store/channels\";\n\ninterface EventThumbnailProps {\n  id: number;\n}\n\nexport const EventThumbnail = memo(function(props: EventThumbnailProps) {\n  const { id } = props;\n  const data = useEvents(id);\n  const coverImage: IBase64 = JSON.parse(\n    Buffer.from(data?.cover || \"\", \"base64\").toString(\"utf-8\")\n  );\n  const openDetailScreen = useCallback(() => {\n    openDetailEventScreen({\n      id: id\n    });\n  }, []);\n  const channelName = useMemo(()=>{\n    return getChannels(data?.channel_id || '')?.name\n  },[])\n  return (\n    <SContainer>\n      <SContentContainer onPress={openDetailScreen}>\n        <SImageWrapper>\n          <SChannelBox>\n            <STextChannel>{channelName}</STextChannel>\n          </SChannelBox>\n          <SCoverImage resizeMode={\"cover\"} source={{ uri: coverImage.image }} />\n        </SImageWrapper>\n        <SInfoWrapper>\n          <STextDate>{moment(\n            // @ts-ignore\n            data?.time * 1000\n          ).format(\"dddd, HH:mm DD/MM/YYYY\")}</STextDate>\n          <STextTitle>{data?.name}</STextTitle>\n          <SRow>\n            <STextInfo>{`${data?.attendees.length} attendees`}</STextInfo>\n            <SDotView />\n            <STextInfo>{data?.address}</STextInfo>\n          </SRow>\n        </SInfoWrapper>\n      </SContentContainer>\n    </SContainer>\n  );\n});\nconst SContainer = styled.View`\n  background-color: transparent;\n`;\nconst SContentContainer = styled.TouchableOpacity`\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #ebebeb;\n  margin: 16px 16px 0 16px;\n  padding: 12px;\n`;\nconst SImageWrapper = styled.View`\n  width: 100%;\n`;\nconst SCoverImage = styled(FastImage)`\n  width: 100%;\n  height: 180px;\n  max-height: 180px;\n  border-radius: 8px;\n  background-color: #2a91d6;\n`;\n\nconst SInfoWrapper = styled.View`\n  align-items: flex-start;\n  justify-content: center;\n`;\n\nconst SRow = styled.View`\n  flex-direction: row;\n  align-items: center;\n`;\nconst STextDate = styled.Text`\n  color: ${p => p.theme.neutral2};\n  font-family: ${Fonts.Medium};\n  font-size: 14px;\n  line-height: 20px;\n  margin-top: 8px\n`;\n\nconst STextTitle = styled.Text.attrs(props => ({\n  numberOfLines: 2\n}))`\n  color: ${p => p.theme.neutral1};\n  font-family: ${Fonts.Regular};\n  font-size: 16px;\n  line-height: 24px; \n  margin-top: 4px\n`;\nconst STextInfo = styled.Text`\n  color: ${p => p.theme.neutral2};\n  font-family: ${Fonts.Medium};\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 8px\n`;\nconst SDotView = styled.View`\n  background-color: ${p => p.theme.neutral3};\n  width: 4px;\n  height: 4px;\n  border-radius: 2px;\n  margin: 8px 6px 0 6px;\n`;\nconst SChannelBox = styled.View`\n  display: inline-flex;\n  padding: 4px 8px;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  border-radius: 40px;\n  background-color: rgba(0, 0, 0, 0.65);\n  position: absolute;\n  top:8px;\n  left: 8px;\n  z-index: 10;\n`\nconst STextChannel = styled.Text`\n  color: #fff;\n  /* Caption/caption-medium-500 */\n  font-family: ${Fonts.Medium};\n  font-size: 12px;\n  line-height: 16px; /* 133.333% */\n`\n","import React, {memo, useCallback, useState} from 'react';\nimport {CustomHeader} from '@/components/CustomHeader';\nimport {normalizeStringForSearch} from '@true/core';\nimport {navigateToCreateEvent} from '@/utils';\nimport {ScreenWrapper, ScrollableTabView} from '@true/ui';\nimport {EventThumbnail} from '@/screens/EventScreen/EventThumbnail';\nimport {getEvents, getEventsByQuery, useEventsByQuery} from '@/store/events';\nimport {\n  requestJoinedEvents,\n  requestPublicEvents,\n} from '@/store/events/function';\nimport {IFilterParams} from '@/screens/SearchScreen/type';\n\nexport const EventScreen = memo(function () {\n  const [params, setParams] = useState<IFilterParams>({});\n  const [search, setSearch] = useState('');\n  const onChangeText = useCallback(\n    async (q: string) => {\n      setSearch(q);\n    },\n    [params],\n  );\n\n  const onSetData = useCallback(\n    (prevData: string[]) => {\n      return (prevData || []).filter(item =>\n        normalizeStringForSearch(\n          getEvents(item as string)?.name || '',\n        ).includes(search),\n      );\n    },\n    [search],\n  );\n  const renderItem = useCallback(\n    (item: string | number, index?: number, isLast?: boolean) => {\n      return <EventThumbnail id={item as number} />;\n    },\n    [],\n  );\n  return (\n    <ScreenWrapper isGrey={true}>\n      <CustomHeader\n        title={'Events'}\n        isBack\n        onCreate={() => {\n          navigateToCreateEvent({id: -1});\n        }}\n        isSearch\n        onChangeText={onChangeText}\n      />\n      <ScrollableTabView.Provider\n        params={{}}\n        renderItem={renderItem}\n        getItemByQuery={getEventsByQuery}\n        useItemByQuery={useEventsByQuery}\n        tabs={[\n          {\n            title: 'Public events',\n            content: (p: any) => (\n              <ScrollableTabView.List\n                {...p}\n                itemHeight={190}\n                index={0}\n                requestFn={requestPublicEvents}\n                setData={onSetData}\n              />\n            ),\n          },\n          {\n            title: 'Joined events',\n            content: (p: any) => (\n              <ScrollableTabView.List\n                {...p}\n                itemHeight={190}\n                index={1}\n                requestFn={requestJoinedEvents}\n                query={'joined'}\n                setData={onSetData}\n              />\n            ),\n          },\n        ]}>\n        <ScrollableTabView.CollapsableTabBar />\n        <ScrollableTabView.Content />\n      </ScrollableTabView.Provider>\n    </ScreenWrapper>\n  );\n});\n","import {Core, Fetch, ToastService} from '@true/core';\nimport {ICreateEvent, IEvent} from '@/store/events/type';\nimport {batch} from 'react-redux';\nimport {setEventsQuery, syncEvents} from '@/store/events/index';\nimport {getUpdates, syncUpdates} from '@/store/updates';\n\nexport const requestPublicEvents = async () => {\n  const {data} = await Fetch.postWithToken<{\n    events: IEvent[];\n  }>(`@${Core.systemPath}/inside/ajax/api/event/gets`);\n\n  batch(() => {\n    if (data.events.length) {\n      syncEvents(data.events);\n      setEventsQuery(prev => ({\n        ...prev,\n        ['all']: data.events.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.events;\n};\n\nexport const requestJoinedEvents = async () => {\n  const {data} = await Fetch.postWithToken<{\n    events: IEvent[];\n  }>(`@${Core.systemPath}/inside/ajax/api/event/joined`);\n  batch(() => {\n    if (data.events.length) {\n      syncEvents(data.events);\n      setEventsQuery(prev => ({\n        ...prev,\n        ['joined']: data.events.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.events;\n};\n\nexport const requestEvent = async (params: {event_id: string | number}) => {\n  const {data} = await Fetch.postWithToken<{\n    event: IEvent;\n  }>(\n    `@${Core.systemPath}/inside/ajax/api/event/get?event_id=${params.event_id}`,\n  );\n\n  batch(() => {\n    if (data.event) {\n      syncEvents([data.event]);\n    }\n  });\n  return data.event;\n};\n\nexport const requestCreateEvent = async (params: ICreateEvent) => {\n  const {data} = await Fetch.postWithToken<{\n    event: IEvent;\n  }>(`@${Core.systemPath}/inside/ajax/api/event/create`, params);\n  batch(() => {\n    if (data.event) {\n      syncEvents([data.event]);\n      setEventsQuery(prev => ({\n        ...prev,\n        ['all']: [data.event.id.toString(), ...(prev['all'] || [])],\n      }));\n    }\n  });\n};\n\nexport const requestEditEvent = async (\n  params: ICreateEvent,\n  updateId?: number,\n) => {\n  const {data} = await Fetch.postWithToken<{\n    event: IEvent;\n  }>(`@${Core.systemPath}/inside/ajax/api/event/edit`, params);\n  batch(() => {\n    if (data.event) {\n      if (updateId && updateId > 0) {\n        const update = getUpdates(updateId);\n        update &&\n          syncUpdates([\n            {\n              ...update,\n              attachment: data.event as any,\n            },\n          ]);\n      }\n      syncEvents([data.event]);\n    }\n  });\n};\n\nexport const requestRemoveEvent = async (params: {id: number}) => {\n  const {data} = await Fetch.postWithToken<{\n    message: string;\n  }>(`@${Core.systemPath}/inside/ajax/api/event/remove`, params);\n  batch(() => {\n    if (data.message === 'ok') {\n      setEventsQuery(prev => ({\n        ...prev,\n        ['all']: (prev['all'] || []).filter(\n          item => item !== params.id.toString(),\n        ),\n      }));\n    }\n  });\n};\n\nexport const requestAttendEvent = async (params: {\n  id: string | number;\n  data: IEvent;\n  myId: string | number;\n}) => {\n  const {data} = await Fetch.postWithToken<{\n    message: string;\n  }>(`@${Core.systemPath}/inside/ajax/api/event/attendee/attend`, params);\n  if (data.message == 'ok') {\n    syncEvents([\n      {\n        ...params.data,\n        attendees: [\n          ...new Set([...params.data.attendees, Number(params.myId)]),\n        ],\n      },\n    ]);\n    ToastService.show('Attend event successfully');\n  }\n};\n\nexport const requestInviteEvent = async (params: {\n  id: string | number;\n  data?: IEvent;\n  channel_id: string | number;\n  ids: number[];\n  guests: string;\n}) => {\n  const {data} = await Fetch.postWithToken<{\n    message: string;\n  }>(`@${Core.systemPath}/inside/ajax/api/event/attendee/invite`, params);\n  if (data.message == 'ok' && params.data) {\n    syncEvents([\n      {\n        ...params.data,\n        attendees: [...new Set([...params.data.attendees, ...params.ids])],\n      },\n    ]);\n    ToastService.show('Invite event successfully');\n  }\n};\nexport const requestEventsChannel = async (params: {\n  path: string;\n  q?: string;\n}) => {\n  const {data} = await Fetch.postWithToken<{\n    events: IEvent[];\n  }>(\n    `@${Core.systemPath}/inside/ajax/api/channel/update/event?path=${\n      params.path\n    }${params?.q ? '&q=' + params.q : ''}`,\n  );\n  console.log('asd');\n  batch(() => {\n    if (data.events.length) {\n      syncEvents(data.events);\n      setEventsQuery(prev => ({\n        ...prev,\n        [params.path]: data.events.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.events;\n};\nexport const requestEventsJoinedChannel = async (params: {\n  path: string;\n  q?: string;\n}) => {\n  const {data} = await Fetch.postWithToken<{\n    events: IEvent[];\n  }>(\n    `@${Core.systemPath}/inside/ajax/api/channel/update/event?path=${\n      params.path\n    }&state=joined${params?.q ? '&q=' + params.q : ''}`,\n  );\n  batch(() => {\n    if (data.events.length) {\n      // syncEvents(data.events);\n      setEventsQuery(prev => ({\n        ...prev,\n        [`joined_${params.path}`]: data.events.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return data.events;\n};\n\nexport const requestEventsProfile = async (params: {username: string}) => {\n  const {data} = await Fetch.postWithToken<{\n    events: IEvent[];\n  }>(\n    `@${Core.systemPath}/inside/ajax/api/profile/get?tail=events&username=${params.username}`,\n  );\n  batch(() => {\n    if (data.events.length) {\n      syncEvents(data.events);\n      setEventsQuery(prev => ({\n        ...prev,\n        [params.username]: data.events.map(item => item.id.toString()),\n      }));\n    }\n  });\n  return;\n};\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_react","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_core","_moment","_interopRequireDefault","_utils","_events","_buffer","_reactNativeFastImage","_channels","_jsxRuntime","WeakMap","cacheBabelInterop","cacheNodeInterop","EventThumbnail","memo","props","id","data","useEvents","coverImage","JSON","parse","Buffer","from","cover","toString","openDetailScreen","useCallback","openDetailEventScreen","channelName","useMemo","_getChannels","getChannels","channel_id","name","jsx","SContainer","children","jsxs","SContentContainer","onPress","SImageWrapper","SChannelBox","STextChannel","SCoverImage","resizeMode","source","uri","image","SInfoWrapper","STextDate","moment","time","format","STextTitle","SRow","STextInfo","attendees","length","SDotView","address","exports","styled","View","_taggedTemplateLiteralLoose2","TouchableOpacity","FastImage","Text","p","theme","neutral2","Fonts","Medium","attrs","numberOfLines","neutral1","Regular","neutral3","_CustomHeader","_ui","_EventThumbnail","_function","EventScreen","_ref","_useState","useState","_useState2","_slicedToArray2","params","_useState3","_useState4","search","setSearch","onChangeText","_x","_asyncToGenerator2","q","apply","arguments","onSetData","prevData","filter","item","_getEvents","normalizeStringForSearch","getEvents","includes","renderItem","index","isLast","ScreenWrapper","isGrey","CustomHeader","title","isBack","onCreate","navigateToCreateEvent","isSearch","ScrollableTabView","Provider","getItemByQuery","getEventsByQuery","useItemByQuery","useEventsByQuery","tabs","content","List","assign","itemHeight","requestFn","requestPublicEvents","setData","requestJoinedEvents","query","CollapsableTabBar","Content","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_reactRedux","_index","_updates","Fetch","postWithToken","Core","systemPath","batch","events","syncEvents","setEventsQuery","prev","_defineProperty2","map","event_id","event","_x2","concat","_toConsumableArray2","_x3","_x4","updateId","update","getUpdates","syncUpdates","attachment","_x5","message","_x6","Set","Number","myId","ToastService","show","_x7","ids","_x8","path","console","log","_x9","_x10","username"],"sourceRoot":""}