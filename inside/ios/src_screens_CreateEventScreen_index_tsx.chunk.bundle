(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_CreateEventScreen_index_tsx"],{92551:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarWithSelectChannel=void 0;var r,s,i,o,u=a(n(19452)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(84481)),c=n(4007),d=n(14025),A=n(91087),p=n(46763),f=n(33823);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var h={code:"function anonymous(){const{widthButton}=this.__closure;return{width:widthButton.value};}",location:"/Users/phamduc/inside/src/components/AvatarWithSelectChannel/index.tsx",sourceMap:'{"version":3,"names":["anonymous","widthButton","__closure","width","value"],"sources":["/Users/phamduc/inside/src/components/AvatarWithSelectChannel/index.tsx"],"mappings":"AA0BI,SAAAA,UAAA,QAAAC,WAAA,OAAAC,SAAA,OAAO,CACLC,KAAK,CAAEF,WAAW,CAACG,KACrB,CAAC"}',version:"3.5.4"},C={code:"function anonymous(e){const{widthButton}=this.__closure;widthButton.value=e.nativeEvent.layout.width;}",location:"/Users/phamduc/inside/src/components/AvatarWithSelectChannel/index.tsx",sourceMap:'{"version":3,"names":["anonymous","e","widthButton","__closure","value","nativeEvent","layout","width"],"sources":["/Users/phamduc/inside/src/components/AvatarWithSelectChannel/index.tsx"],"mappings":"AAgCI,QAAC,CAAAA,SAAyBA,CAAAC,CAAA,QAAAC,WAAA,OAAAC,SAAA,CACxBD,WAAW,CAACE,KAAK,CAAGH,CAAC,CAACI,WAAW,CAACC,MAAM,CAACC,KAAK,CAChD"}',version:"3.5.4"},m=(0,l.memo)((function(e){var t,a,r=e.bottomSheetRef,s=e.label,i=e.typePost,o=(0,c.useMe)(),u=(0,p.useSharedValue)(200),l=(0,p.useAnimatedStyle)((t=[new n.g.Error,-2,-27],(a=function(){return{width:u.value}}).__closure={widthButton:u},a.__initData=h,a.__workletHash=8674385749251,a.__stackDetails=t,a),[]),v=(0,p.useWorkletCallback)(function(){var e=[new n.g.Error,-2,-27],t=function(e){u.value=e.nativeEvent.layout.width};return t.__closure={widthButton:u},t.__initData=C,t.__workletHash=0xcd259325f91,t.__stackDetails=e,t}(),[u]);return(0,f.jsxs)(y,{children:[(0,f.jsx)(A.Avatar,{size:48,userKey:(null==o?void 0:o.id)||"0",disableClick:!0}),(0,f.jsxs)(g,{children:[(0,f.jsxs)(A.UIText.BodyMedium500,{onLayout:v,children:[null==o?void 0:o.name," create ",i]}),(0,f.jsx)(x,{style:l,title:s||"Select channel",onPress:function(){var e;null==(e=r.current)||e.present()},children:(0,f.jsx)(_,{source:d.IC_OUTLINED_EXPAND_MORE})})]})]})}));t.AvatarWithSelectChannel=m;var y=c.styled.View(r||(r=(0,u.default)(["\n  flex-direction: row;\n  align-items: center;\n  gap: 12px;\n"]))),g=c.styled.View(s||(s=(0,u.default)(["\n  justify-content: center;\n  gap: 4px;\n"]))),x=(0,c.styled)(A.UIButton).attrs((function(e){return{textStyle:Object.assign({},A.UITextStyle.body_medium_400,{color:e.theme.neutral2,width:"85%"}),textProps:{numberOfLines:1}}}))(i||(i=(0,u.default)(["\n  flex-direction: row;\n  border-radius: 40px;\n  border-width: 1px;\n  border-color: ",";\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  padding-left: 16px;\n  padding-right: 8px;\n"])),(function(e){return e.theme.neutral5})),_=c.styled.Image(o||(o=(0,u.default)(["\n  width: 24px;\n  height: 24px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral2}))},51705:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.MyInputBackground=void 0;var r,s,i,o,u,l,c,d,A=a(n(19452)),p=a(n(27424)),f=n(84481),v=n(4007),h=n(20349),C=n(14025),m=n(71527),y=n(22532),g=n(33823),x=(0,f.memo)((function(e){var t=e.onSelectedImage,n=e.image,a=(0,f.useState)(""),r=(0,p.default)(a,2),s=r[0],i=r[1],o=(0,f.useCallback)((function(e){i(e.url),t(e)}),[t]),u=(0,f.useCallback)((function(){(0,h.openCameraRollScreen)({onSubmit:o})}),[]),l=(0,f.useMemo)((function(){var e=s||n;return Object.values(m.BG_TEMPLATE).includes(e)?(0,y.getTemplateImage)(e):{uri:e}}),[s,n]);return(0,g.jsxs)(_,{children:[(0,g.jsx)(j,{children:"Background"}),(0,g.jsx)(b,{resizeMode:"cover",source:l,children:s||n?(0,g.jsx)(w,{hasImage:s||n,onPress:u,children:(0,g.jsx)(O,{hasImage:s||n,children:"Change"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(k,{children:[(0,g.jsx)(I,{source:C.IC_OUTLINED_IMAGE}),(0,g.jsx)(E,{children:"Upload your background"})]}),(0,g.jsx)(w,{hasImage:s||n,onPress:u,children:(0,g.jsx)(O,{children:"Choose file"})})]})})]})}));t.MyInputBackground=x;var _=v.styled.TouchableOpacity(r||(r=(0,A.default)(["\n  justify-content: center;\n  border-radius: 4px;\n  border: 1px solid #ebebeb;\n  padding: 0 16px 12px 16px;\n"]))),j=v.styled.Text(s||(s=(0,A.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  margin-top: 8px;\n  margin-bottom: 4px;\n"])),v.Fonts.Regular,(function(e){return e.theme.neutral2})),b=v.styled.ImageBackground(i||(i=(0,A.default)(["\n  background-color: ",";\n  min-height: 180px;\n  border-radius: 8px;\n"])),(function(e){return e.theme.neutral9})),E=v.styled.Text(o||(o=(0,A.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n"])),v.Fonts.Regular,(function(e){return e.theme.neutral2})),w=v.styled.TouchableOpacity(u||(u=(0,A.default)(["\n  width: 120px;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  background: ",";\n  margin-top: ","px;\n  align-self: center;\n"])),(function(e){return e.hasImage?"rgba(0, 0, 0, 0.65)":"#EAEAEA"}),(function(e){return e.hasImage?68:12})),k=v.styled.View(l||(l=(0,A.default)(["\n  align-items: center;\n  justify-content: center;\n  margin-right: 4px;\n  margin-top: 36px;\n"]))),I=v.styled.Image(c||(c=(0,A.default)(["\n  width: 32px;\n  height: 32px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral2})),O=v.styled.Text(d||(d=(0,A.default)(["\n  font-family: ",";\n  font-size: 14px;\n  line-height: 24px;\n  color: ",";\n"])),v.Fonts.Medium,(function(e){return e.hasImage?e.theme.white:e.theme.neutral2}))},86390:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CreateEventScreen=void 0;var r,s,i,o,u=a(n(19452)),l=a(n(38416)),c=a(n(17156)),d=a(n(27424)),A=n(91087),p=B(n(84481)),f=n(4007),v=B(n(46763)),h=n(31536),C=n(73781),m=n(11361),y=n(25736),g=n(48764),x=a(n(30381)),_=n(86702),j=n(92910),b=n(19855),E=n(33435),w=n(79837),k=n(51705),I=n(92551),O=n(60569),P=n(70075),S=n(6093),M=n(58053),T=n(33823);function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function B(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a}var W={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}",location:"/Users/phamduc/inside/src/screens/CreateEventScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_key","_value","params","__closure","value"],"sources":["/Users/phamduc/inside/src/screens/CreateEventScreen/index.tsx"],"mappings":"AAgFc,QAAC,CAAAA,SAAcA,CAAAC,IAAM,CAAKC,MAAA,QAAAC,MAAA,OAAAC,SAAA,CAGhCD,MAAM,CAACE,KAAK,CAAG,CACb,GAAGF,MAAM,CAACE,KAAK,CACf,CAACJ,IAAI,EAAGC,MACV,CAAC,CACH"}',version:"3.5.4"},D=(0,p.memo)((function(){var e,t,a=(0,f.useNavigationParams)().id,r=(0,v.useSharedValue)(h.initCreateEvent),s=(0,f.useBoolean)(),i=(0,d.default)(s,3),o=i[0],u=(i[1],i[2]),U=(0,p.useRef)(null),B=(0,p.useState)(""),D=(0,d.default)(B,2),V=D[0],G=D[1],Q=null==(e=(0,O.useUpdates)(a))?void 0:e.attachment,N=(0,p.useRef)(null),L=(0,C.useChannelsByQuery)("joined").map((function(e){var t;return{label:(null==(t=(0,C.getChannels)(e))?void 0:t.name)||"Undefined channel",value:e}})),J=(0,p.useCallback)((function(e){return(t=t||(0,c.default)((function*(e){N.current=e,ee("cover-bg",e.url)}))).apply(this,arguments)}),[]),R=(0,_.useAsyncFn)((0,c.default)((function*(){var e=r.value["cover-bg"];N.current&&(e=yield(0,y.uploadImage)(N.current));var t=Object.assign({},r.value,{"cover-bg":e});-1!==a?yield(0,w.requestEditEvent)(t,a):(yield(0,w.requestCreateEvent)(t),f.ToastService.show("Create event successfully")),(0,f.goBack)()})),[a,N.current,r]),Y=(0,d.default)(R,2),z=Y[0],X=z.loading,Z=z.error,$=Y[1];(0,f.useAutoToastError)(Z);var ee=(0,p.useCallback)((function(e,t){var a,s;(0,v.runOnUI)((a=[new n.g.Error,-2,-27],(s=function(e,t){r.value=Object.assign({},r.value,(0,l.default)({},e,t))}).__closure={params:r},s.__initData=W,s.__workletHash=690685769123,s.__stackDetails=a,s))(e,t)}),[r]),te=(0,p.useCallback)((function(){console.log("ss"),(0,f.goBack)()}),[]);(0,p.useEffect)((function(){var e=Object.assign({},h.initCreateEvent);if(Q){var t,n=JSON.parse(g.Buffer.from((null==Q?void 0:Q.cover)||"eyJ0eXBlIjoiIiwiY29sb3IiOiIiLCJvcGFjaXR5IjowLCJwZXJjZW50IjoxMDAsImltYWdlIjoiIiwidGV4dHMiOltdfQ","base64").toString("utf-8")),a=null==Q?void 0:Q.followers.map((function(e){var t;return"@"+(null==(t=(0,f.getUser)(e))?void 0:t.username)})).join(" "),s=null==Q?void 0:Q.owners.map((function(e){var t;return"@"+(null==(t=(0,f.getUser)(e))?void 0:t.username)})).join(" ");G((null==(t=(0,C.getChannels)(null==Q?void 0:Q.channel_id))?void 0:t.name)||""),e={id:null==Q?void 0:Q.id,address:(null==Q?void 0:Q.address)||"",channel_id:(null==Q?void 0:Q.channel_id)||0,content:null==Q?void 0:Q.content,"cover-bg":n.image,guests:a,name:(null==Q?void 0:Q.name)||"","file[]":(null==Q?void 0:Q.files)||[],owners:s,"time-date":(0,x.default)(1e3*(null==Q?void 0:Q.time)).format("DD/MM/YYYY"),"time-time":(0,x.default)(1e3*(null==Q?void 0:Q.time)).format("hh:mm")}}r.value=e}),[Q]);var ne=(0,p.useCallback)((function(e,t){return(0,T.jsx)(b.MenuItem,{title:e.label,onPress:function(){var t;ee("channel_id",e.value),G(e.label),null==(t=U.current)||t.dismiss()}},t)}),[U]);return(0,T.jsxs)(A.ScreenWrapper,{children:[(0,T.jsx)(P.HeaderCreatePost,{onPress:$,type:S.ETypeUpdate.EVENT,isActive:!0,id:a,loading:X,onGoBack:te}),(0,T.jsxs)(q,{children:[(0,T.jsxs)(K,{children:[(0,T.jsx)(F,{children:"General information"}),(0,T.jsx)(H,{children:(0,T.jsx)(I.AvatarWithSelectChannel,{bottomSheetRef:U,label:V,typePost:"an event"})}),(0,T.jsx)(M.CheckboxWithText,{params:r,keyName:"privacy",title:"Only attendees can view this event"}),(0,T.jsx)(k.MyInputBackground,{onSelectedImage:J,image:r.value["cover-bg"]}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UIInput.Text,{title:"Title",keyName:"name",params:r,placeholder:"---",defaultValue:"",onChangeValue:ee,required:!0})}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UIInput.Text,{title:"Location",keyName:"address",params:r,placeholder:"---",defaultValue:"",onChangeValue:ee})}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UITextInput,{title:"Content",keyName:"content",params:r,defaultValue:"",onChangeValue:ee})}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UIInput.Attachment,{title:"Attach files or Images",keyName:"file[]",params:r,onChangeValue:ee})})]}),(0,T.jsxs)(K,{children:[(0,T.jsx)(F,{children:"Attendees"}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UIInput.UserPicker,{title:"Managers",keyName:"owners",params:r,onChangeValue:ee,type:"user"})}),(0,T.jsx)(H,{children:(0,T.jsx)(A.UIInput.UserPicker,{title:"Invited guests",type:"user",keyName:"guests",params:r,onChangeValue:ee})}),(0,T.jsx)(M.CheckboxWithText,{params:r,keyName:"added_by_guests",title:"Allow guests to add more guests"})]}),(0,T.jsx)(m.AnimatedBottomSpace,{})]}),(0,T.jsx)(j.DiscardDialog,{title:"Discard change",content:"You have made changes to this item that have not been saved. If you leave this page, your changes will be lost.",visible:o,onClose:u}),(0,T.jsx)(E.BottomSheetMenu,{name:"channel",ref:U,items:L,renderMenuItem:ne,titleHeader:"Select channel"})]})}));t.CreateEventScreen=D;var q=(0,f.styled)(v.default.View)(r||(r=(0,u.default)(["\n  flex: 1;\n"]))),K=f.styled.View(s||(s=(0,u.default)(["\n  padding-bottom: 12px;\n  margin-top: 8px;\n  background-color: ",";\n"])),(function(e){return e.theme.white})),F=f.styled.Text(i||(i=(0,u.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n  margin-left: 16px;\n  margin-top: 12px;\n"])),f.Fonts.Medium,(function(e){return e.theme.neutral1})),H=f.styled.View(o||(o=(0,u.default)(["\n  margin: 8px 16px 0 16px;\n"]))),V=D;t.default=V},70075:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCreatePost=void 0;var r,s,i=a(n(19452)),o=n(84481),u=n(25736),l=n(4007),c=n(14025),d=n(91087),A=n(25200),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(a,s,i):a[s]=e[s]}a.default=e,n&&n.set(e,a);return a}(n(46763)),f=n(33823);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var h={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","aTop","__closure","paddingTop","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAwB8C,SAAAA,UAAA,QAAAC,IAAA,OAAAC,SAAA,OAAO,CACjDC,UAAU,CAAEF,IAAI,CAACG,KACnB,CAAC"}',version:"3.5.4"},C={code:"function anonymous(){const{interpolateColor,active,theme}=this.__closure;return{backgroundColor:interpolateColor(active.value?1:0,[0,1],[theme.neutral3,theme.primaryColor]),width:'100%'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolateColor","active","theme","__closure","backgroundColor","value","neutral3","primaryColor","width"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AA8B4C,SAAAA,SAAMA,CAAA,QAAAC,gBAAA,CAAAC,MAAA,CAAAC,KAAA,OAAAC,SAAA,CAC9C,MAAO,CACLC,eAAe,CAAEJ,gBAAgB,CAC/BC,MAAM,CAACI,KAAK,CAAG,CAAC,CAAG,CAAC,CACpB,CAAC,CAAC,CAAE,CAAC,CAAC,CACN,CAACH,KAAK,CAACI,QAAQ,CAAEJ,KAAK,CAACK,YAAY,CACrC,CAAC,CACDC,KAAK,CAAE,MACT,CAAC,CACH"}',version:"3.5.4"},m={code:"function anonymous(){const{active}=this.__closure;return{pointerEvents:active.value?'auto':'none'};}",location:"/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx",sourceMap:'{"version":3,"names":["anonymous","active","__closure","pointerEvents","value"],"sources":["/Users/phamduc/inside/src/screens/CreatePostScreen/HeaderCreatePost.tsx"],"mappings":"AAyCyC,SAAAA,SAAMA,CAAA,QAAAC,MAAA,OAAAC,SAAA,CAC3C,MAAO,CACLC,aAAa,CAAEF,MAAM,CAACG,KAAK,CAAG,MAAM,CAAG,MACzC,CAAC,CACH"}',version:"3.5.4"},y=(0,o.memo)((function(e){var t,a,r=(0,A.useAnimatedSafeAreaInsets)().aTop,s=(0,p.useAnimatedStyle)((t=[new n.g.Error,-2,-27],(a=function(){return{paddingTop:r.value}}).__closure={aTop:r},a.__initData=h,a.__workletHash=9978501313055,a.__stackDetails=t,a)),i=(0,l.useTheme)(),o=e.title,v=e.active,y=e.id,_=e.onPress,j=(e.loading,e.onGoBack),b=(0,p.useAnimatedStyle)(function(){var e=[new n.g.Error,-4,-27],t=function(){return{backgroundColor:(0,p.interpolateColor)(v.value?1:0,[0,1],[i.neutral3,i.primaryColor]),width:"100%"}};return t.__closure={interpolateColor:p.interpolateColor,active:v,theme:i},t.__initData=C,t.__workletHash=0xefaedf5ccd0,t.__stackDetails=e,t}(),[i]),E=(0,p.useAnimatedProps)(function(){var e=[new n.g.Error,-2,-27],t=function(){return{pointerEvents:v.value?"auto":"none"}};return t.__closure={active:v},t.__initData=m,t.__workletHash=0xcd0f6a5dae1,t.__stackDetails=e,t}());return(0,f.jsxs)(g,{style:s,children:[(0,f.jsxs)(u.FlexCenter,{gap:8,children:[(0,f.jsx)(d.UIButton,{source:c.IC_OUTLINED_LEFT,onPress:j||l.goBack}),(0,f.jsx)(d.UIText.HeaderLarge,{children:o})]}),(0,f.jsx)(p.default.View,{animatedProps:E,children:(0,f.jsx)(x,{title:y?"Update":"Create",onPress:_,style:b})})]})}));t.HeaderCreatePost=y;var g=(0,l.styled)(p.default.View)(r||(r=(0,i.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ",";\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n"])),(function(e){return e.theme.neutral4})),x=(0,l.styled)(d.UIButton).attrs((function(e){return{textStyle:Object.assign({},d.UITextStyle.body_medium_500,{color:"#fff"})}}))(s||(s=(0,i.default)(["\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor}))},79837:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestRemoveEvent=t.requestPublicEvents=t.requestJoinedEvents=t.requestInviteEvent=t.requestEventsProfile=t.requestEventsJoinedChannel=t.requestEventsChannel=t.requestEvent=t.requestEditEvent=t.requestCreateEvent=t.requestAttendEvent=void 0;var r,s,i,o,u,l,c,d,A,p,f,v=a(n(861)),h=a(n(38416)),C=a(n(17156)),m=n(4007),y=n(30806),g=n(75867),x=n(60569);t.requestPublicEvents=function(){return(r=r||(0,C.default)((function*(){var e=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/gets")).data;return(0,y.batch)((function(){e.events.length&&((0,g.syncEvents)(e.events),(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"all",e.events.map((function(e){return e.id.toString()}))))})))})),e.events}))).apply(this,arguments)};t.requestJoinedEvents=function(){return(s=s||(0,C.default)((function*(){var e=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/joined")).data;return(0,y.batch)((function(){e.events.length&&((0,g.syncEvents)(e.events),(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"joined",e.events.map((function(e){return e.id.toString()}))))})))})),e.events}))).apply(this,arguments)};t.requestEvent=function(e){return(i=i||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/get?event_id="+e.event_id)).data;return(0,y.batch)((function(){t.event&&(0,g.syncEvents)([t.event])})),t.event}))).apply(this,arguments)};t.requestCreateEvent=function(e){return(o=o||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/create",e)).data;(0,y.batch)((function(){t.event&&((0,g.syncEvents)([t.event]),(0,g.setEventsQuery)((function(e){return Object.assign({},e,(0,h.default)({},"all",[t.event.id.toString()].concat((0,v.default)(e.all||[]))))})))}))}))).apply(this,arguments)};t.requestEditEvent=function(e,t){return(u=u||(0,C.default)((function*(e,t){var n=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/edit",e)).data;(0,y.batch)((function(){if(n.event){if(t&&t>0){var e=(0,x.getUpdates)(t);e&&(0,x.syncUpdates)([Object.assign({},e,{attachment:n.event})])}(0,g.syncEvents)([n.event])}}))}))).apply(this,arguments)};t.requestRemoveEvent=function(e){return(l=l||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/remove",e)).data;(0,y.batch)((function(){"ok"===t.message&&(0,g.setEventsQuery)((function(t){return Object.assign({},t,(0,h.default)({},"all",(t.all||[]).filter((function(t){return t!==e.id.toString()}))))}))}))}))).apply(this,arguments)};t.requestAttendEvent=function(e){return(c=c||(0,C.default)((function*(e){"ok"==(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/attendee/attend",e)).data.message&&((0,g.syncEvents)([Object.assign({},e.data,{attendees:(0,v.default)(new Set([].concat((0,v.default)(e.data.attendees),[Number(e.myId)])))})]),m.ToastService.show("Attend event successfully"))}))).apply(this,arguments)};t.requestInviteEvent=function(e){return(d=d||(0,C.default)((function*(e){"ok"==(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/event/attendee/invite",e)).data.message&&e.data&&((0,g.syncEvents)([Object.assign({},e.data,{attendees:(0,v.default)(new Set([].concat((0,v.default)(e.data.attendees),(0,v.default)(e.ids))))})]),m.ToastService.show("Invite event successfully"))}))).apply(this,arguments)};t.requestEventsChannel=function(e){return(A=A||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+(null!=e&&e.q?"&q="+e.q:""))).data;return console.log("asd"),(0,y.batch)((function(){t.events.length&&((0,g.syncEvents)(t.events),(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},e.path,t.events.map((function(e){return e.id.toString()}))))})))})),t.events}))).apply(this,arguments)};t.requestEventsJoinedChannel=function(e){return(p=p||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+"&state=joined"+(null!=e&&e.q?"&q="+e.q:""))).data;return(0,y.batch)((function(){t.events.length&&(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},"joined_"+e.path,t.events.map((function(e){return e.id.toString()}))))}))})),t.events}))).apply(this,arguments)};t.requestEventsProfile=function(e){return(f=f||(0,C.default)((function*(e){var t=(yield m.Fetch.postWithToken("@"+m.Core.systemPath+"/inside/ajax/api/profile/get?tail=events&username="+e.username)).data;(0,y.batch)((function(){t.events.length&&((0,g.syncEvents)(t.events),(0,g.setEventsQuery)((function(n){return Object.assign({},n,(0,h.default)({},e.username,t.events.map((function(e){return e.id.toString()}))))})))}))}))).apply(this,arguments)}},31536:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initCreateEvent=void 0;t.initCreateEvent={channel_id:0,name:"","time-time":"","time-date":"",owners:"",guests:"",added_by_guests:1,privacy:0,"cover-type":"image","cover-bg":"","cover-opacity":1,"cover-percent":100}}}]);//# sourceMappingURL=src_screens_CreateEventScreen_index_tsx.chunk.bundle.map?platform=ios