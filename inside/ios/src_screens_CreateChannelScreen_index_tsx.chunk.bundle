(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_CreateChannelScreen_index_tsx"],{15910:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.CreateChannelScreen=void 0;var a,o,l=r(n(19452)),u=r(n(38416)),i=r(n(17156)),s=r(n(27424)),c=n(91087),d=g(n(84481)),p=n(4007),f=g(n(46763)),h=n(11361),m=n(97999),y=n(70075),_=n(88583),v=r(n(78663)),C=n(33823);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var b={code:"function anonymous(){const{params}=this.__closure;return!!params.value.name;}"},j={code:"function anonymous(_key,_value){const{params}=this.__closure;params.value={...params.value,[_key]:_value};}"},k=(t.CreateChannelScreen=(0,d.memo)((function(){var e,t=(0,f.useSharedValue)(m.initCreateChannel),n=(0,p.useNavigationParams)().id,r=(0,d.useRef)(null),a=(0,f.useAnimatedRef)(),o=[{label:"Public, Company-wide",value:m.ETypeChannel.COMPANY},{label:"Team or department",value:m.ETypeChannel.TEAM}],l=(0,f.useDerivedValue)(((e=function(){return!!t.value.name}).__closure={params:t},e.__initData=b,e.__workletHash=0xc157b0598d0,e),[]),x=(0,p.useAsyncFn)((0,i.default)((function*(){-1!==n?yield(0,_.requestCreateChannel)(t.value):(yield(0,_.requestCreateChannel)(t.value),p.ToastService.show("Create channel successfully")),(0,p.goBack)()})),[n,t]),g=(0,s.default)(x,2),P=g[0],O=P.loading,I=(P.error,g[1]),T=(0,d.useCallback)((function(e,n){(0,f.runOnUI)(function(){var e=function(e,n){t.value=Object.assign({},t.value,(0,u.default)({},e,n))};return e.__closure={params:t},e.__initData=j,e.__workletHash=690685769123,e}())(e,n)}),[t]);return(0,C.jsx)(c.FullScreenWrapper,{children:(0,C.jsxs)(c.MyKeyboardAvoidingView,{ref:r,scrollRef:a,children:[(0,C.jsx)(y.HeaderCreatePost,{loading:O,onPress:I,active:l,title:"Create channel"}),(0,C.jsx)(v.default,{isVisible:O}),(0,C.jsx)(w,{ref:a,keyboardShouldPersistTaps:"handled",children:(0,C.jsxs)(k,{children:[(0,C.jsx)(c.UIInput.Text,{title:"Channel name",keyName:"name",params:t,placeholder:"---",onChangeValue:T,required:!0}),(0,C.jsx)(c.UIInput.Text,{title:"Channel path",keyName:"path",params:t,placeholder:"---",onChangeValue:T,required:!0}),(0,C.jsx)(c.UIInput.Selector,{title:"Channel type",keyName:"metatype",placeholder:"---",onChangeValue:T,options:o,required:!0}),(0,C.jsx)(c.UIInput.UserPicker,{title:"Channel admins",type:"user",keyName:"owners",onChangeValue:T,multiple:!0}),(0,C.jsx)(c.UIInput.UserPicker,{title:"Channel members",type:"user",params:t,keyName:"followers",onChangeValue:T,multiple:!0}),(0,C.jsx)(c.UIInput.Text,{title:"Short description",keyName:"content",placeholder:"---",params:t,onChangeValue:T,required:!0}),(0,C.jsx)(h.AnimatedBottomSpace,{})]})})]})})})),(0,p.styled)(f.default.View)(a||(a=(0,l.default)(["\n  flex: 1;\n  gap: 12px;\n  padding: 12px 16px;\n"])))),w=p.styled.ScrollView(o||(o=(0,l.default)(["\n  flex: 1;\n  background-color: white;\n  margin-top: 8px;\n"])))},70075:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCreatePost=void 0;var a,o,l=r(n(19452)),u=n(84481),i=n(25736),s=n(4007),c=n(25277),d=n(91087),p=n(25200),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(46763)),h=n(33823);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var y={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}"},_={code:"function anonymous(){const{interpolateColor,active,theme}=this.__closure;return{backgroundColor:interpolateColor(active.value?1:0,[0,1],[theme.neutral3,theme.primaryColor]),width:'100%'};}"},v={code:"function anonymous(){const{active}=this.__closure;return{pointerEvents:active.value?'auto':'none'};}"},C=(t.HeaderCreatePost=(0,u.memo)((function(e){var t,n=(0,p.useAnimatedSafeAreaInsets)().aTop,r=(0,f.useAnimatedStyle)(((t=function(){return{paddingTop:n.value}}).__closure={aTop:n},t.__initData=y,t.__workletHash=9978501313055,t)),a=(0,s.useTheme)(),o=e.title,l=e.active,u=e.id,m=e.onPress,g=(e.loading,e.onGoBack),b=(0,f.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:(0,f.interpolateColor)(l.value?1:0,[0,1],[a.neutral3,a.primaryColor]),width:"100%"}};return e.__closure={interpolateColor:f.interpolateColor,active:l,theme:a},e.__initData=_,e.__workletHash=0xefaedf5ccd0,e}(),[a]),j=(0,f.useAnimatedProps)(function(){var e=function(){return{pointerEvents:l.value?"auto":"none"}};return e.__closure={active:l},e.__initData=v,e.__workletHash=0xcd0f6a5dae1,e}());return(0,h.jsxs)(C,{style:r,children:[(0,h.jsxs)(i.FlexCenter,{gap:8,children:[(0,h.jsx)(d.UIButton,{source:c.IC_OUTLINED_LEFT,onPress:g||s.goBack}),(0,h.jsx)(d.UIText.HeaderLarge,{children:o})]}),(0,h.jsx)(f.default.View,{animatedProps:j,children:(0,h.jsx)(x,{title:u?"Update":"Create",onPress:m,style:b})})]})})),(0,s.styled)(f.default.View)(a||(a=(0,l.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ",";\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n"])),(function(e){return e.theme.neutral4}))),x=(0,s.styled)(d.UIButton).attrs((function(e){return{textStyle:Object.assign({},d.UITextStyle.body_medium_500,{color:"#fff"})}}))(o||(o=(0,l.default)(["\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor}))}}]);//# sourceMappingURL=src_screens_CreateChannelScreen_index_tsx.chunk.bundle.map?platform=ios