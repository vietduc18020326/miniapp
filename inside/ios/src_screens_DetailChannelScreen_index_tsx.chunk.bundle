(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_DetailChannelScreen_index_tsx"],{79384:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.AnnouncementThumbnail=void 0;var i,a,o,u,l,s,d,c,f=r(t(19452)),p=t(4007),h=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),m=t(25736),y=t(42755),v=t(48764),x=t(73781),g=t(91087),b=t(20349),j=t(92571),w=t(25277),O=r(t(30381)),C=t(60301),_=t(33823);function P(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(P=function(e){return e?t:n})(e)}n.AnnouncementThumbnail=(0,h.memo)((function(e){var n,t,r=e.id,i=(0,y.useAnnouncements)(r),a=(0,x.getChannels)((null==i?void 0:i.channel_id)||0),o=(0,h.useMemo)((function(){var e=v.Buffer.from((null==i?void 0:i.image)||"","base64").toString("utf-8");if(e){var n=JSON.parse(e);if(n&&n.image)return n}return null}),[null==i?void 0:i.image]),u=(0,h.useCallback)((function(){(0,b.navigateToDetailPostScreen)({id:r||0,user_id:(null==i?void 0:i.user_id)||0,time:(null==i?void 0:i.since)||0,hid:(null==i?void 0:i.hid)||""})}),[r]);return(0,_.jsxs)(T,{onPress:u,children:[(0,_.jsx)(I,{children:(0,_.jsx)(S,{source:{uri:(null==o?void 0:o.image)||""},resizeMode:"cover"})}),(0,_.jsxs)(M,{children:[(0,_.jsx)(g.UIText.HeaderSmall,{numberOfLines:2,children:null==i?void 0:i.name}),(0,_.jsxs)(D,{style:C.globalStyles.mt4,children:[(0,_.jsx)(A,{source:w.IC_FILLED_PUBLIC}),(0,_.jsx)(E,{numberOfLines:1,children:null==a?void 0:a.name})]}),(0,_.jsxs)(D,{children:[(0,_.jsx)(A,{source:w.IC_FILLED_PERSON}),(0,_.jsx)(E,{numberOfLines:1,children:null==a?void 0:a.name})]}),(0,_.jsxs)(D,{children:[(0,_.jsx)(A,{source:w.IC_FILLED_SCHEDULE}),(0,_.jsx)(E,{numberOfLines:1,children:(0,O.default)(1e3*(null==i?void 0:i.since)).format("HH:mm DD/MM/YYYY")}),null!=i&&i.seens&&(null==i||null==(n=i.seens)?void 0:n.length)>0?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(m.STextDivider,{children:" | "}),(0,_.jsxs)(k,{children:["Seen by "+(null==i||null==(t=i.seens)?void 0:t.length)," "]})]}):null]})]})]})}));var T=(0,p.styled)(j.Pressable)(i||(i=(0,f.default)(["\n  flex-direction: row;\n  padding: 16px;\n  background-color: white;\n  border-bottom-width: 1px;\n  border-bottom-color: ",";\n"])),(function(e){return e.theme.neutral6})),M=p.styled.View(a||(a=(0,f.default)(["\n  flex: 3;\n"]))),I=p.styled.View(o||(o=(0,f.default)(["\n  display: flex;\n  flex: 2;\n  margin-right: 12px;\n  background-color: ",";\n  border-radius: 8px;\n"])),(function(e){return e.theme.neutral7})),S=p.styled.Image(u||(u=(0,f.default)(["\n  height: 100%;\n  width: 100%;\n  max-height: 100px;\n  border-radius: 8px;\n"]))),E=(0,p.styled)(g.UIText.CaptionMedium400)(l||(l=(0,f.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral2})),k=(0,p.styled)(E)(s||(s=(0,f.default)(["\n  color: #05944f;\n"]))),D=(0,p.styled)(m.FlexCenter)(d||(d=(0,f.default)(["\n  margin-bottom: 8px;\n"]))),A=p.styled.Image(c||(c=(0,f.default)(["\n  width: 16px;\n  height: 16px;\n  tint-color: ",";\n  margin-right: 4px;\n"])),(function(e){return e.theme.neutral2}))},77585:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.AnnouncementChannel=void 0;var i=r(t(17156)),a=r(t(27424)),o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),u=t(91087),l=t(79384),s=t(42755),d=t(59824),c=t(31471),f=t(4007),p=t(33823);function h(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(h=function(e){return e?t:n})(e)}n.AnnouncementChannel=(0,o.memo)((function(e){var n,t=e.index,r=e.path,h=((0,f.useTheme)(),(0,o.useState)({})),m=(0,a.default)(h,2),y=m[0],v=(m[1],(0,o.useState)("")),x=(0,a.default)(v,2),g=x[0],b=x[1],j=(0,o.useCallback)((n=(0,i.default)((function*(e){b(e)})),function(e){return n.apply(this,arguments)}),[y]),w=(0,o.useCallback)((function(e,n,t){return(0,p.jsx)(l.AnnouncementThumbnail,{id:e})}),[r]);return(0,p.jsxs)(u.SingleTabView.Provider,{index:t,renderItem:w,getItemByQuery:s.getAnnouncementsByQuery,useItemByQuery:s.useAnnouncementsByQuery,itemHeight:150,tabs:[{title:"Announcements",content:function(e){return(0,p.jsx)(u.SingleTabView.List,{singleListIndex:e.singleListIndex,params:{path:r,q:g},requestFn:d.requestAnnouncementsChannel,query:r})}},{title:"Created by me",content:function(e){return(0,p.jsx)(u.SingleTabView.List,{singleListIndex:e.singleListIndex,params:{path:r},requestFn:d.requestCreatedAnnouncementsChannel,query:"created_"+r})}}],children:[(0,p.jsx)(u.SingleTabView.CollapsableTabBar,{children:(0,p.jsx)(c.HeaderTabCustom,{title:"Announcement",onChangeText:j})}),(0,p.jsx)(u.SingleTabView.Content,{})]})}))},30589:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.ActionMemberChannelBottomSheet=void 0;var i,a,o=r(t(19452)),u=r(t(17156)),l=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),s=t(33435),d=t(4007),c=t(25277),f=t(92571),p=t(60301),h=t(91087),m=t(20349),y=t(88583),v=t(33823);function x(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(x=function(e){return e?t:n})(e)}n.ActionMemberChannelBottomSheet=(0,d.memoForwardRef)((function(e,n){var t=e.id,r=(0,d.useUser)(t),i=(0,d.useTheme)(),a=(0,l.useMemo)((function(){return[{label:"View profile",value:"view",icon:c.IC_FILLED_PERSON,onPress:function(){var e;(0,m.navigateToProfileScreen)({username:(null==r?void 0:r.username)||"",user_id:null==r?void 0:r.id}),null==(e=n.current)||e.dismiss()}},{value:"make admin",label:"Make admin",icon:c.IC_FILLED_STAR,onPress:function(){x().then()}},{value:"remove",label:"Remove from channel",icon:c.IC_FILLED_DELETE,onPress:function(){console.log("remove")}}]}),[]),o=(0,l.useCallback)((function(e,n){return(0,v.jsxs)(g,{onPress:e.onPress,children:[(0,v.jsx)(b,{source:e.icon,isDelete:"remove"===e.value}),(0,v.jsx)(f.View,{style:p.globalStyles.ml12,children:(0,v.jsx)(h.UIText.BodyMedium400,{style:{color:"remove"===e.value?i.red1:i.neutral1},children:e.label})})]},n)}),[n]),x=(0,l.useCallback)((0,u.default)((function*(){yield(0,y.requestAdminGrantChannel)({id:t,username:(null==r?void 0:r.username)||""})})),[t]);return(0,v.jsx)(s.BottomSheetMenu,{name:"channel",ref:n,items:a,renderMenuItem:o})}));var g=d.styled.TouchableOpacity(i||(i=(0,o.default)(["\n  flex-direction: row;\n  padding: 8px 16px;\n  align-items: center;\n"]))),b=d.styled.Image(a||(a=(0,o.default)(["\n  width: 24px;\n  height: 24px;\n  tint-color: ",";\n"])),(function(e){return e.isDelete?e.theme.red1:e.theme.neutral1}))},73232:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.CoverDetailChannel=void 0;var i,a,o,u,l,s,d,c,f,p,h=r(t(19452)),m=r(t(17156)),y=t(4007),v=t(84481),x=t(25277),g=t(25736),b=t(51255),j=t(60301),w=t(20349),O=t(88583),C=t(33823),_=(n.CoverDetailChannel=(0,v.memo)((function(e){var n,t=e.image_uri,r=e.title,i=e.list_members,a=e.type,o=e.channelPath,u=e.channel_id,l=e.followers,s=(0,v.useCallback)((n=(0,m.default)((function*(e,n){yield(0,O.requestAddMemberChannel)({id:u||"",users:n})})),function(e,t){return n.apply(this,arguments)}),[]),d=(0,v.useCallback)((function(){(0,w.navigateToAddMemberScreen)({ids:l||[],onSubmit:s})}),[l]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_,{source:t?{uri:t}:x.IMG_DEFAULT_CHANNEL}),(0,C.jsxs)(T,{children:[(0,C.jsx)(P,{children:r}),(0,C.jsxs)(M,{children:[(0,C.jsx)(I,{children:(0,C.jsx)(D,{source:x.IC_OUTLINED_PUBLIC})}),(0,C.jsx)(S,{children:"company"===a?"Company-wide":"Group"}),(0,C.jsx)(S,{children:"  |  "}),(0,C.jsx)(A,{children:"@"+o})]}),(0,C.jsxs)(M,{children:[(0,C.jsx)(I,{children:(0,C.jsx)(D,{source:x.IC_FILLED_GROUP})}),(0,C.jsx)(S,{children:(null==i?void 0:i.length)+" members"})]}),(0,C.jsxs)(g.FlexSpaceBetween,{style:[j.globalStyles.mt12,j.globalStyles.ml8],children:[(0,C.jsx)(b.AttendeeAvatarList,{size:32,ids:i,maxUsers:6}),(0,C.jsx)(E,{onPress:d,children:(0,C.jsx)(k,{source:x.IC_FILLED_PERSON_ADD})})]})]})]})})),y.styled.ImageBackground(i||(i=(0,h.default)(["\n  flex: 1;\n  height: 180px;\n  width: auto;\n  background-color: #0b69a1;\n"])))),P=y.styled.Text(a||(a=(0,h.default)(["\n  font-family: ",";\n  color: ",";\n  /* Heading/H2 */\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 24px;\n"])),y.Fonts.Regular,(function(e){return e.theme.neutral1})),T=y.styled.View(o||(o=(0,h.default)(["\n  background-color: white;\n  padding: 16px;\n"]))),M=y.styled.View(u||(u=(0,h.default)(["\n  flex-direction: row;\n  align-items: center;\n  margin-top: 8px;\n"]))),I=y.styled.View(l||(l=(0,h.default)(["\n  width: 20px;\n  height: 20px;\n  align-items: center;\n  justify-content: center;\n  margin-right: 6px;\n"]))),S=y.styled.Text(s||(s=(0,h.default)(["\n  font-family: ",";\n  color: ",";\n  font-size: 14px;\n  line-height: 20px;\n"])),y.Fonts.Regular,(function(e){return e.theme.neutral2})),E=y.styled.TouchableOpacity(d||(d=(0,h.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n  border-radius: 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.primaryColor})),k=y.styled.Image(c||(c=(0,h.default)(["\n  width: 20px;\n  height: 20px;\n  tint-color: #ffffff;\n"]))),D=y.styled.Image(f||(f=(0,h.default)(["\n  width: 20px;\n  height: 20px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral2})),A=y.styled.Text(p||(p=(0,h.default)(["\n  color: #267cde;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n"])),y.Fonts.Regular)},55333:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.EventChannel=void 0;var i=r(t(17156)),a=r(t(27424)),o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=h(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),u=t(91087),l=t(83899),s=t(75867),d=t(79837),c=t(31471),f=t(4007),p=t(33823);function h(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(h=function(e){return e?t:n})(e)}n.EventChannel=(0,o.memo)((function(e){var n,t=e.index,r=e.path,h=((0,f.useTheme)(),(0,o.useState)({})),m=(0,a.default)(h,2),y=m[0],v=(m[1],(0,o.useState)("")),x=(0,a.default)(v,2),g=x[0],b=x[1],j=(0,o.useCallback)((n=(0,i.default)((function*(e){b(e)})),function(e){return n.apply(this,arguments)}),[y]),w=(0,o.useCallback)((function(e,n,t){return(0,p.jsx)(l.EventThumbnail,{id:e})}),[r]);return(0,p.jsxs)(u.SingleTabView.Provider,{index:t,renderItem:w,getItemByQuery:s.getEventsByQuery,useItemByQuery:s.useEventsByQuery,itemHeight:300,tabs:[{title:"Public event",content:function(e){return(0,p.jsx)(u.SingleTabView.List,{singleListIndex:e.singleListIndex,params:{path:r,q:g},requestFn:d.requestEventsChannel,query:r})}},{title:"Joined",content:function(e){return(0,p.jsx)(u.SingleTabView.List,{singleListIndex:e.singleListIndex,requestFn:d.requestEventsJoinedChannel,params:{path:r,q:g},query:"joined_"+r})}}],children:[(0,p.jsx)(u.SingleTabView.CollapsableTabBar,{hideSeparator:!0,children:(0,p.jsx)(c.HeaderTabCustom,{title:"Events",onChangeText:j})}),(0,p.jsx)(u.SingleTabView.Content,{})]})}))},42348:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderDetailChannel=void 0;var i,a,o,u,l,s=r(t(19452)),d=t(25200),c=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=b(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(46763)),f=t(4007),p=t(92571),h=t(25277),m=t(25736),y=t(60301),v=t(84481),x=t(20349),g=t(33823);function b(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(b=function(e){return e?t:n})(e)}var j={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}"},w=(n.HeaderDetailChannel=(0,f.memoForwardRef)((function(e){var n,t=(0,d.useAnimatedSafeAreaInsets)().aTop,r=(0,c.useAnimatedStyle)(((n=function(){return{paddingTop:t.value}}).__closure={aTop:t},n.__initData=j,n.__workletHash=9978501313055,n)),i=(0,v.useCallback)((function(){(0,x.openChannelActionScreen)({isCompany:e.isCompany})}),[]);return(0,g.jsxs)(w,{style:r,children:[(0,g.jsx)(O,{onPress:f.goBack,children:(0,g.jsx)(p.Image,{source:h.IC_OUTLINED_LEFT})}),(0,g.jsxs)(m.FlexCenter,{children:[(0,g.jsx)(P,{onPress:x.openSelectTypePostScreen,style:y.globalStyles.mr8,children:(0,g.jsx)(C,{source:h.IC_OUTLINED_EDIT_SQUARE})}),(0,g.jsx)(_,{onPress:i,children:(0,g.jsx)(p.Image,{source:h.IC_OUTLINED_MORE_HORIZ})})]})]})})),(0,f.styled)(c.default.View)(i||(i=(0,s.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  background-color: white;\n  padding: 8px 16px;\n"])))),O=f.styled.TouchableOpacity.attrs((function(e){return{hitSlop:{top:8,left:8,right:8,bottom:8}}}))(a||(a=(0,s.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n"]))),C=f.styled.Image(o||(o=(0,s.default)(["\n  width: 24px;\n  height: 24px\n"]))),_=f.styled.TouchableOpacity.attrs((function(e){return{hitSlop:{top:8,left:8}}}))(u||(u=(0,s.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n  margin-right: 4px;\n"]))),P=f.styled.TouchableOpacity(l||(l=(0,s.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n"])))},31471:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.HeaderTabCustom=void 0;var i,a,o,u,l,s=r(t(19452)),d=t(4007),c=b(t(84481)),f=t(92571),p=t(25277),h=t(64355),m=b(t(46763)),y=r(t(15817)),v=t(91087),x=t(33823);function g(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(g=function(e){return e?t:n})(e)}function b(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=g(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}var j={code:"function anonymous(){const{isShow}=this.__closure;return{opacity:isShow.value?0:1};}"},w={code:"function anonymous(){const{withTiming,isShow,Metrics}=this.__closure;return{width:withTiming(isShow.value?Metrics.screen.width-60:0),opacity:withTiming(isShow.value?1:0),display:isShow.value?'flex':'none'};}"},O={code:"function anonymous(){const{isShow}=this.__closure;isShow.value=!isShow.value;}"},C=(n.HeaderTabCustom=(0,c.memo)((function(e){var n,t=e.title,r=e.onChangeText,i=(0,m.useSharedValue)(!1),a=(0,m.useAnimatedStyle)(((n=function(){return{opacity:i.value?0:1}}).__closure={isShow:i},n.__initData=j,n.__workletHash=0xd6c7e697138,n)),o=(0,m.useAnimatedStyle)(function(){var e=function(){return{width:(0,m.withTiming)(i.value?y.default.screen.width-60:0),opacity:(0,m.withTiming)(i.value?1:0),display:i.value?"flex":"none"}};return e.__closure={withTiming:m.withTiming,isShow:i,Metrics:y.default},e.__initData=w,e.__workletHash=0xfdc1aa98fda,e}()),u=(0,m.useWorkletCallback)(function(){var e=function(){i.value=!i.value};return e.__closure={isShow:i},e.__initData=O,e.__workletHash=0xfffd2ed0393,e}(),[]);return(0,x.jsxs)(f.View,{style:{backgroundColor:"white"},children:[(0,x.jsxs)(T,{style:o,children:[(0,x.jsx)(h.MySearchBar,{containerStyle:{backgroundColor:"white",width:"100%"},onSearchTextChange:r}),(0,x.jsx)(M,{onPress:u})]}),(0,x.jsxs)(C,{pointerEvents:"box-none",style:a,children:[(0,x.jsx)(_,{children:t}),(0,x.jsx)(P,{onPress:u,children:(0,x.jsx)(f.Image,{source:p.IC_OUTLINED_SEARCH})})]})]})})),(0,d.styled)(m.default.View)(i||(i=(0,s.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 16px;\n  background-color: white;\n"])))),_=d.styled.Text(a||(a=(0,s.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),d.Fonts.Bold,(function(e){return e.theme.neutral1})),P=d.styled.TouchableOpacity(o||(o=(0,s.default)(["\n  width: 48px;\n  height: 48px;\n  align-items: center;\n  justify-content: center;\n"]))),T=(0,d.styled)(m.default.View)(u||(u=(0,s.default)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding: 0 16px;\n  border-radius: 8px;\n  flex-direction: row;\n  //align-items: center;\n  background-color: white;\n  justify-content: flex-end;\n  height: 80%;\n  z-index: 10;\n  margin-top: 4px;\n"]))),M=(0,d.styled)(v.UIButton).attrs((function(e){return{title:"Cancel",textStyle:{color:e.theme.neutral2}}}))(l||(l=(0,s.default)(["\n  align-items: center;\n  justify-content: center;\n  margin-left: 12px;\n"])))},27447:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.HomeChannel=void 0;var i,a=r(t(19452)),o=r(t(17156)),u=r(t(27424)),l=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=j(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),s=t(91087),d=t(60569),c=t(941),f=t(48814),p=t(36571),h=t(4007),m=t(25277),y=t(6093),v=r(t(42242)),x=t(92571),g=t(25736),b=t(33823);function j(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(j=function(e){return e?t:n})(e)}n.HomeChannel=(0,l.memo)((function(e){var n=e.index,t=e.path,r=(e.mounted,(0,l.useRef)(null)),i=(0,d.useUpdatesByQuery)("pinned_"+t),a=(0,l.useState)(y.EOrderUpdate.UPDATE),j=(0,u.default)(a,2),O=j[0],C=j[1],_=(0,h.useAsyncFn)((0,o.default)((function*(){(0,p.requestUpdatePostsChannel)({path:t||"",order:O}).then()})),[]),P=(0,u.default)(_,2),T=(P[0].loading,P[1]),M=(0,l.useCallback)((function(e,n,t){return(0,b.jsx)(f.PostThumbnail,{isInFeed:!0,id:e},n)}),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.ScrollableTabView.List,{index:n,requestFn:p.requestUpdatePostsChannel,query:t,renderItem:M,getItemByQuery:d.getUpdatesByQuery,useItemByQuery:d.useUpdatesByQuery,itemHeight:500,params:{path:t,order:O},ListHeaderComponent:(0,b.jsxs)(b.Fragment,{children:[i.length>0?(0,b.jsx)(c.PinnedUpdates,{listIds:i}):null,(0,b.jsx)(w,{children:(0,b.jsx)(x.TouchableOpacity,{onPress:function(){var e;null==(e=r.current)||e.present()},children:(0,b.jsxs)(g.FlexCenter,{children:[(0,b.jsx)(s.UIText.HeaderMedium,{children:O===y.EOrderUpdate.UPDATE?"Recently updated":"Recently created"}),(0,b.jsx)(s.UIButton,{source:m.IC_OUTLINED_EXPAND_MORE})]})})})]})}),(0,b.jsx)(v.default,{ref:r,setOrder:C,refreshHome:T})]})}));var w=h.styled.View(i||(i=(0,a.default)(["\n  flex-direction: row;\n  align-items: center;\n  padding: 12px 16px;\n"])))},9444:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.MemberChannel=void 0;var i,a=r(t(19452)),o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),u=t(92571),l=t(91087),s=t(80162),d=t(25736),c=t(25277),f=t(4007),p=t(97999),h=t(38417),m=t(33823);function y(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(y=function(e){return e?t:n})(e)}n.MemberChannel=(0,o.memo)((function(e){var n=e.data,t=e.index,r=(0,f.useMe)(),i=(0,f.useUserByQuery)("allIds"),a=(0,o.useMemo)((function(){return(null==n?void 0:n.type)===p.ETypeChannel.COMPANY?i:null==n?void 0:n.followers}),[]),y=(0,o.useMemo)((function(){var e;return(null==n||null==(e=n.owners)?void 0:e.includes(Number(null==r?void 0:r.id)||0))||Number(null==r?void 0:r.role)===d.EUserRole.ADMIN}),[]);return(0,m.jsxs)(l.SingleTabView.Provider,{index:t,tabs:[{title:"Members",content:function(e){return(0,m.jsx)(l.ScrollableList,{data:a||[],ListEmptyComponent:(0,m.jsx)(s.EmptyView,{text:"No member was found"}),loading:!1,renderItem:function(e){var n=e.item;return(0,m.jsx)(h.MemberItem,{id:n,isAdmin:y})},singleListIndex:e.singleListIndex,index:t})}},{title:"Admin",content:function(e){return(0,m.jsx)(l.ScrollableList,{data:(null==n?void 0:n.owners)||[],ListEmptyComponent:(0,m.jsx)(s.EmptyView,{}),loading:!1,renderItem:function(e){var n=e.item;return(0,m.jsx)(h.MemberItem,{id:n,isAdmin:y})},singleListIndex:e.singleListIndex,index:t})}},{title:"Invitations",content:function(e){return(0,m.jsx)(l.ScrollableList,{data:[],ListEmptyComponent:(0,m.jsx)(s.EmptyView,{text:"No invitations was found"}),loading:!1,renderItem:function(e){var n=e.item;return(0,m.jsx)(h.MemberItem,{id:n,isAdmin:y})},singleListIndex:e.singleListIndex,index:t})}}],children:[(0,m.jsx)(u.View,{style:{flex:1,backgroundColor:"white"},children:(0,m.jsx)(l.SingleTabView.Content,{})}),(0,m.jsx)(l.SingleTabView.CollapsableTabBar,{hideSeparator:!0,children:(0,m.jsx)(v,{children:(0,m.jsxs)(d.FlexSpaceBetween,{children:[(0,m.jsx)(l.UIText.HeaderMedium,{children:"Members"}),(0,m.jsx)(d.FlexCenter,{children:(0,m.jsx)(l.UIButton,{source:c.IC_OUTLINED_SEARCH})})]})})})]})}));var v=f.styled.View(i||(i=(0,a.default)(["\n  padding: 8px 16px;\n  background-color: white;\n"])))},38417:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.MemberItem=void 0;var i,a,o,u=r(t(19452)),l=t(4007),s=t(91087),d=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=y(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),c=t(92571),f=t(25277),p=t(30589),h=t(20349),m=t(33823);function y(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(y=function(e){return e?t:n})(e)}n.MemberItem=(0,d.memo)((function(e){var n=e.id,t=e.isAdmin,r=(0,l.useUser)(n),i=d.default.useRef(null),a=(0,d.useCallback)((function(){var e;null==(e=i.current)||e.present()}),[]),o=(0,d.useCallback)((function(){var e;t||(0,h.navigateToProfileScreen)({username:(null==(e=(0,l.getUser)((null==r?void 0:r.id)||0))?void 0:e.username)||"",user_id:null==r?void 0:r.id})}),[t]);return(0,m.jsxs)(v,{children:[(0,m.jsx)(s.Avatar,{userKey:(null==r?void 0:r.id)||"",size:40}),(0,m.jsxs)(x,{onPress:o,children:[(0,m.jsxs)(c.View,{children:[(0,m.jsx)(s.UIText.BodyLarge400,{children:null==r?void 0:r.name}),(0,m.jsx)(g,{children:(null==r?void 0:r.title)||"No job description"})]}),t?(0,m.jsx)(s.UIButton,{onPress:a,source:f.IC_OUTLINED_MORE_HORIZ}):null]}),(0,m.jsx)(p.ActionMemberChannelBottomSheet,{id:n,ref:i})]})}));var v=l.styled.View(i||(i=(0,u.default)(["\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  padding: 8px 16px;\n  background-color: ",";\n  margin-bottom: 4px;\n"])),(function(e){return e.theme.backgroundColor})),x=(0,l.styled)(c.Pressable)(a||(a=(0,u.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  flex: auto;\n  border-bottom-width: 1px;\n  border-bottom-color: #ebebeb;\n  margin-left: 12px;\n  padding-bottom: 16px;\n"]))),g=(0,l.styled)(s.UIText.BodyMedium400)(o||(o=(0,u.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral2}))},887:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.DetailChannelScreen=void 0;var i=r(t(27424)),a=t(91087),o=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=x(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),u=t(42348),l=t(73232),s=t(77585),d=t(4007),c=t(73781),f=t(55333),p=t(27447),h=t(92571),m=t(88583),y=t(9444),v=t(33823);function x(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(x=function(e){return e?t:n})(e)}var g=n.DetailChannelScreen=(0,o.memo)((function(){var e=(0,d.useNavigationParams)(),n=e.id,t=e.path,r=(0,c.useChannels)(n),x=(0,d.getUserByQuery)("allIds"),g=(0,d.useAsyncFn)((function(){return(0,m.requestChannelPath)({path:t})}),[n]),b=(0,i.default)(g,2),j=b[0],w=(j.loading,j.error,b[1]),O=(0,d.useAsyncFn)((function(){return(0,m.requestChannelPath)({path:t})}),[n]),C=(0,i.default)(O,2),_=C[0];_.loading,_.error,C[1];return(0,o.useEffect)((function(){w().then()}),[]),(0,v.jsxs)(a.ScreenWrapper,{isGrey:!0,children:[(0,v.jsx)(u.HeaderDetailChannel,{isCompany:"company"===(null==r?void 0:r.metatype)}),(0,v.jsxs)(a.ScrollableTabView.Provider,{tabs:[{title:"Home",content:function(e){return(0,v.jsx)(p.HomeChannel,{mounted:e.mounted,index:e.index,path:null==r?void 0:r.path})}},{title:"Announcements",content:function(e){return(0,v.jsx)(s.AnnouncementChannel,{index:e.index,path:(null==r?void 0:r.path)||""})}},{title:"Events",content:function(e){return(0,v.jsx)(f.EventChannel,{index:e.index,path:(null==r?void 0:r.path)||""})}},{title:"Members",content:function(e){return(0,v.jsx)(y.MemberChannel,{index:e.index,data:r})}}],children:[(0,v.jsx)(a.ScrollableTabView.CollapsableTabBar,{children:(0,v.jsx)(l.CoverDetailChannel,{title:null==r?void 0:r.name,list_members:"company"===(null==r?void 0:r.metatype)?x:null==r?void 0:r.followers,image_uri:null==r?void 0:r.image,type:null==r?void 0:r.metatype,channelPath:null==r?void 0:r.path,followers:null==r?void 0:r.followers})}),(0,v.jsx)(h.View,{style:{flex:1,marginTop:8},children:(0,v.jsx)(a.ScrollableTabView.Content,{})})]})]})}));n.default=g},83899:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.EventThumbnail=void 0;var i,a,o,u,l,s,d,c,f,p,h,m,y=r(t(19452)),v=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=P(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}r.default=e,t&&t.set(e,r);return r}(t(84481)),x=t(4007),g=r(t(30381)),b=t(20349),j=t(75867),w=t(48764),O=r(t(82825)),C=t(73781),_=t(33823);function P(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(P=function(e){return e?t:n})(e)}n.EventThumbnail=(0,v.memo)((function(e){var n=e.id,t=(0,j.useEvents)(n),r=(0,v.useMemo)((function(){var e=w.Buffer.from((null==t?void 0:t.cover)||"","base64").toString("utf-8");if(e){var n=JSON.parse(e);if(n&&n.image)return n}return null}),[null==t?void 0:t.cover]),i=(0,v.useCallback)((function(){(0,b.openDetailEventScreen)({id:n})}),[]),a=(0,v.useMemo)((function(){var e;return null==(e=(0,C.getChannels)((null==t?void 0:t.channel_id)||""))?void 0:e.name}),[]);return(0,_.jsx)(T,{children:(0,_.jsxs)(M,{onPress:i,children:[(0,_.jsxs)(I,{children:[(0,_.jsx)(F,{children:(0,_.jsx)(W,{children:a})}),(0,_.jsx)(S,{resizeMode:"cover",source:{uri:(null==r?void 0:r.image)||""}})]}),(0,_.jsxs)(E,{children:[(0,_.jsx)(D,{children:(0,g.default)(1e3*(null==t?void 0:t.time)).format("dddd, HH:mm DD/MM/YYYY")}),(0,_.jsx)(A,{children:null==t?void 0:t.name}),(0,_.jsxs)(k,{children:[(0,_.jsx)(q,{children:(null==t?void 0:t.attendees.length)+" attendees"}),(0,_.jsx)(L,{}),(0,_.jsx)(q,{children:null==t?void 0:t.address})]})]})]})})}));var T=x.styled.View(i||(i=(0,y.default)(["\n  background-color: transparent;\n"]))),M=x.styled.TouchableOpacity(a||(a=(0,y.default)(["\n  background-color: white;\n  border-radius: 8px;\n  border: 1px solid #ebebeb;\n  margin: 16px 16px 0 16px;\n  padding: 12px;\n"]))),I=x.styled.View(o||(o=(0,y.default)(["\n  width: 100%;\n"]))),S=(0,x.styled)(O.default)(u||(u=(0,y.default)(["\n  width: 100%;\n  height: 180px;\n  max-height: 180px;\n  border-radius: 8px;\n  background-color: #2a91d6;\n"]))),E=x.styled.View(l||(l=(0,y.default)(["\n  align-items: flex-start;\n  justify-content: center;\n"]))),k=x.styled.View(s||(s=(0,y.default)(["\n  flex-direction: row;\n  align-items: center;\n"]))),D=x.styled.Text(d||(d=(0,y.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 14px;\n  line-height: 20px;\n  margin-top: 8px;\n"])),(function(e){return e.theme.neutral2}),x.Fonts.Medium),A=x.styled.Text.attrs((function(e){return{numberOfLines:2}}))(c||(c=(0,y.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 16px;\n  line-height: 24px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.neutral1}),x.Fonts.Regular),q=x.styled.Text(f||(f=(0,y.default)(["\n  color: ",";\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px;\n  margin-top: 8px;\n"])),(function(e){return e.theme.neutral2}),x.Fonts.Medium),L=x.styled.View(p||(p=(0,y.default)(["\n  background-color: ",";\n  width: 4px;\n  height: 4px;\n  border-radius: 2px;\n  margin: 8px 6px 0 6px;\n"])),(function(e){return e.theme.neutral3})),F=x.styled.View(h||(h=(0,y.default)(["\n  display: inline-flex;\n  padding: 4px 8px;\n  justify-content: center;\n  align-items: center;\n  gap: 4px;\n  border-radius: 40px;\n  background-color: rgba(0, 0, 0, 0.65);\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  z-index: 10;\n"]))),W=x.styled.Text(m||(m=(0,y.default)(["\n  color: #fff;\n  /* Caption/caption-medium-500 */\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px; /* 133.333% */\n"])),x.Fonts.Medium)},59824:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.requestCreatedAnnouncementsChannel=n.requestCreatedAnnouncements=n.requestAnnouncementsChannel=n.requestAllAnnouncements=void 0;var i,a,o,u,l=r(t(38416)),s=r(t(17156)),d=t(4007),c=t(30806),f=t(42755);n.requestAllAnnouncements=(i=(0,s.default)((function*(){var e=(yield d.Fetch.postWithToken("@"+d.Core.systemPath+"/inside/ajax/api/announcement/gets")).data;return(0,c.batch)((function(){e.anns.length&&((0,f.syncAnnouncements)(e.anns),(0,f.setAnnouncementsQuery)((function(n){return Object.assign({},n,(0,l.default)({},"all",e.anns.map((function(e){return e.id.toString()}))))})))})),e.anns})),function(){return i.apply(this,arguments)}),n.requestCreatedAnnouncements=(a=(0,s.default)((function*(){var e=(yield d.Fetch.postWithToken("@"+d.Core.systemPath+"/inside/ajax/api/announcement/gets?created=mine")).data;return(0,c.batch)((function(){e.anns.length&&((0,f.syncAnnouncements)(e.anns),(0,f.setAnnouncementsQuery)((function(n){return Object.assign({},n,(0,l.default)({},"created",e.anns.map((function(e){return e.id.toString()}))))})))})),e.anns})),function(){return a.apply(this,arguments)}),n.requestAnnouncementsChannel=(o=(0,s.default)((function*(e){console.log("params",e);var n=(yield d.Fetch.postWithToken("@"+d.Core.systemPath+"/inside/ajax/api/channel/update/announcement?path="+e.path+(null!=e&&e.q?"&q="+e.q:""))).data;return(0,c.batch)((function(){n.announcements.length&&((0,f.syncAnnouncements)(n.announcements),(0,f.setAnnouncementsQuery)((function(t){return Object.assign({},t,(0,l.default)({},e.path,n.announcements.map((function(e){return e.id.toString()}))))})))})),n.announcements})),function(e){return o.apply(this,arguments)}),n.requestCreatedAnnouncementsChannel=(u=(0,s.default)((function*(e){var n=(yield d.Fetch.postWithToken("@"+d.Core.systemPath+"/inside/ajax/api/channel/update/announcement?created=mine&path="+e.path+(null!=e&&e.q?"&q="+e.q:""))).data;return(0,c.batch)((function(){n.announcements.length&&(0,f.setAnnouncementsQuery)((function(t){return Object.assign({},t,(0,l.default)({},"created_"+e.path,n.announcements.map((function(e){return e.id.toString()}))))}))})),n.announcements})),function(e){return u.apply(this,arguments)})},79837:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.requestRemoveEvent=n.requestPublicEvents=n.requestJoinedEvents=n.requestInviteEvent=n.requestEventsProfile=n.requestEventsJoinedChannel=n.requestEventsChannel=n.requestEvent=n.requestEditEvent=n.requestCreateEvent=n.requestAttendEvent=void 0;var i,a,o,u,l,s,d,c,f,p,h,m=r(t(861)),y=r(t(38416)),v=r(t(17156)),x=t(4007),g=t(30806),b=t(75867),j=t(60569);n.requestPublicEvents=(i=(0,v.default)((function*(){var e=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/gets")).data;return(0,g.batch)((function(){e.events.length&&((0,b.syncEvents)(e.events),(0,b.setEventsQuery)((function(n){return Object.assign({},n,(0,y.default)({},"all",e.events.map((function(e){return e.id.toString()}))))})))})),e.events})),function(){return i.apply(this,arguments)}),n.requestJoinedEvents=(a=(0,v.default)((function*(){var e=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/joined")).data;return(0,g.batch)((function(){e.events.length&&((0,b.syncEvents)(e.events),(0,b.setEventsQuery)((function(n){return Object.assign({},n,(0,y.default)({},"joined",e.events.map((function(e){return e.id.toString()}))))})))})),e.events})),function(){return a.apply(this,arguments)}),n.requestEvent=(o=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/get?event_id="+e.event_id)).data;return(0,g.batch)((function(){n.event&&(0,b.syncEvents)([n.event])})),n.event})),function(e){return o.apply(this,arguments)}),n.requestCreateEvent=(u=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/create",e)).data;(0,g.batch)((function(){n.event&&((0,b.syncEvents)([n.event]),(0,b.setEventsQuery)((function(e){return Object.assign({},e,(0,y.default)({},"all",[n.event.id.toString()].concat((0,m.default)(e.all||[]))))})))}))})),function(e){return u.apply(this,arguments)}),n.requestEditEvent=(l=(0,v.default)((function*(e,n){var t=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/edit",e)).data;(0,g.batch)((function(){if(t.event){if(n&&n>0){var e=(0,j.getUpdates)(n);e&&(0,j.syncUpdates)([Object.assign({},e,{attachment:t.event})])}(0,b.syncEvents)([t.event])}}))})),function(e,n){return l.apply(this,arguments)}),n.requestRemoveEvent=(s=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/remove",e)).data;(0,g.batch)((function(){"ok"===n.message&&(0,b.setEventsQuery)((function(n){return Object.assign({},n,(0,y.default)({},"all",(n.all||[]).filter((function(n){return n!==e.id.toString()}))))}))}))})),function(e){return s.apply(this,arguments)}),n.requestAttendEvent=(d=(0,v.default)((function*(e){"ok"==(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/attendee/attend",e)).data.message&&((0,b.syncEvents)([Object.assign({},e.data,{attendees:(0,m.default)(new Set([].concat((0,m.default)(e.data.attendees),[Number(e.myId)])))})]),x.ToastService.show("Attend event successfully"))})),function(e){return d.apply(this,arguments)}),n.requestInviteEvent=(c=(0,v.default)((function*(e){"ok"==(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/event/attendee/invite",e)).data.message&&e.data&&((0,b.syncEvents)([Object.assign({},e.data,{attendees:(0,m.default)(new Set([].concat((0,m.default)(e.data.attendees),(0,m.default)(e.ids))))})]),x.ToastService.show("Invite event successfully"))})),function(e){return c.apply(this,arguments)}),n.requestEventsChannel=(f=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+(null!=e&&e.q?"&q="+e.q:""))).data;return console.log("asd"),(0,g.batch)((function(){n.events.length&&((0,b.syncEvents)(n.events),(0,b.setEventsQuery)((function(t){return Object.assign({},t,(0,y.default)({},e.path,n.events.map((function(e){return e.id.toString()}))))})))})),n.events})),function(e){return f.apply(this,arguments)}),n.requestEventsJoinedChannel=(p=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/channel/update/event?path="+e.path+"&state=joined"+(null!=e&&e.q?"&q="+e.q:""))).data;return(0,g.batch)((function(){n.events.length&&(0,b.setEventsQuery)((function(t){return Object.assign({},t,(0,y.default)({},"joined_"+e.path,n.events.map((function(e){return e.id.toString()}))))}))})),n.events})),function(e){return p.apply(this,arguments)}),n.requestEventsProfile=(h=(0,v.default)((function*(e){var n=(yield x.Fetch.postWithToken("@"+x.Core.systemPath+"/inside/ajax/api/profile/get?tail=events&username="+e.username)).data;(0,g.batch)((function(){n.events.length&&((0,b.syncEvents)(n.events),(0,b.setEventsQuery)((function(t){return Object.assign({},t,(0,y.default)({},e.username,n.events.map((function(e){return e.id.toString()}))))})))}))})),function(e){return h.apply(this,arguments)})}}]);//# sourceMappingURL=src_screens_DetailChannelScreen_index_tsx.chunk.bundle.map?platform=ios