{"version":3,"file":"src_screens_CreateLetterScreen_index_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/CreateEventScreen/MyInputBackground.tsx","webpack:///./src/screens/CreateLetterScreen/index.tsx","webpack:///./src/screens/CreatePostScreen/HeaderCreatePost.tsx","webpack:///./src/store/letters/type.ts"],"sourcesContent":["import {memo, useCallback, useMemo, useState} from 'react';\nimport {Fonts, styled} from '@true/core';\nimport {openCameraRollScreen} from '@/utils';\nimport {ImageDTO} from '@/components/CameraRollPicker/useGallery';\nimport {IC_OUTLINED_IMAGE} from '@true/asset';\nimport {BG_TEMPLATE} from '@/components/PostThumbnail/type';\nimport {getTemplateImage} from '@/services/BgTemplateService';\nimport {SharedValue} from 'react-native-reanimated';\n\ninterface MyInputLogoProps {\n  onSelectedImage: (image: ImageDTO) => void;\n  image: string | undefined;\n}\n\nexport const MyInputBackground = memo(function (props: MyInputLogoProps) {\n  const {onSelectedImage, image} = props;\n  const [imageUri, setImageUri] = useState('');\n\n  const onSelect = useCallback(\n    (image: ImageDTO) => {\n      setImageUri(image.url);\n      onSelectedImage(image);\n    },\n    [onSelectedImage],\n  );\n  const onPress = useCallback(() => {\n    openCameraRollScreen({\n      onSubmit: onSelect,\n    });\n  }, []);\n\n  const source = useMemo(() => {\n    const _image = imageUri ? imageUri : image;\n\n    return Object.values(BG_TEMPLATE).includes(_image as BG_TEMPLATE)\n      ? getTemplateImage(_image as BG_TEMPLATE)\n      : {uri: _image};\n  }, [imageUri, image]);\n\n  return (\n    <SContainer>\n      <STitle>Background</STitle>\n      <SBackgroundWrapper resizeMode={'cover'} source={source}>\n        {imageUri || image ? (\n          <SButtonAction hasImage={imageUri || image} onPress={onPress}>\n            <STextAction hasImage={imageUri || image}>Change</STextAction>\n          </SButtonAction>\n        ) : (\n          <>\n            <SIconPhoto>\n              <SImageGallery source={IC_OUTLINED_IMAGE} />\n              <SText>Upload your background</SText>\n            </SIconPhoto>\n            <SButtonAction hasImage={imageUri || image} onPress={onPress}>\n              <STextAction>Choose file</STextAction>\n            </SButtonAction>\n          </>\n        )}\n      </SBackgroundWrapper>\n    </SContainer>\n  );\n});\nconst SContainer = styled.TouchableOpacity`\n  justify-content: center;\n  border-radius: 4px;\n  border: 1px solid #ebebeb;\n  padding: 0 16px 12px 16px;\n`;\n\nconst STitle = styled.Text`\n  font-family: ${Fonts.Regular};\n  font-size: 14px;\n  line-height: 20px;\n  color: ${p => p.theme.neutral2};\n  margin-top: 8px;\n  margin-bottom: 4px;\n`;\n\nconst SBackgroundWrapper = styled.ImageBackground`\n  background-color: ${p => p.theme.neutral9};\n  min-height: 180px;\n  border-radius: 8px;\n`;\n\nconst SText = styled.Text`\n  font-family: ${Fonts.Regular};\n  font-size: 14px;\n  line-height: 20px;\n  color: ${p => p.theme.neutral2};\n`;\n\nconst SButtonAction = styled.TouchableOpacity<{hasImage?: string}>`\n  width: 120px;\n  height: 40px;\n  padding: 4px 16px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  background: ${p => (p.hasImage ? 'rgba(0, 0, 0, 0.65)' : '#EAEAEA')};\n  margin-top: ${p => (p.hasImage ? 68 : 12)}px;\n  align-self: center;\n`;\nconst SIconPhoto = styled.View`\n  align-items: center;\n  justify-content: center;\n  margin-right: 4px;\n  margin-top: 36px;\n`;\nconst SImageGallery = styled.Image`\n  width: 32px;\n  height: 32px;\n  tint-color: ${p => p.theme.neutral2};\n`;\nconst STextAction = styled.Text<{hasImage?: string}>`\n  font-family: ${Fonts.Medium};\n  font-size: 14px;\n  line-height: 24px;\n  color: ${p => (p.hasImage ? p.theme.white : p.theme.neutral2)};\n`;\n","import React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { Fonts, goBack, styled, ToastService, useAutoToastError, useBoolean, useNavigationParams } from \"@true/core\";\nimport Animated, { runOnUI, useSharedValue } from \"react-native-reanimated\";\nimport { ICreateLetter, initCreateLetter } from \"@/store/letters/type\";\nimport { MyKeyboardAvoidingView, ScreenWrapper, UIInput, UITextInput } from \"@true/ui\";\nimport { AnimatedBottomSpace } from \"@/components/AnimatedBottomSpace\";\nimport { DiscardDialog } from \"@/components/DiscardDialog\";\nimport { ImageDTO } from \"@/components/CameraRollPicker/useGallery\";\nimport { IBase64, uploadImage } from \"@/utils/helper\";\nimport { useAsyncFn } from \"@/hooks/useAsyncFn\";\nimport { requestCreateLetter, requestEditLetter } from \"@/store/letters/function\";\nimport { getLetters } from \"@/store/letters\";\nimport { Buffer } from \"buffer\";\nimport { BottomSheetModal } from \"@gorhom/bottom-sheet\";\nimport { MyInputBackground } from \"@/screens/CreateEventScreen/MyInputBackground\";\nimport { HeaderCreatePost } from \"@/screens/CreatePostScreen/HeaderCreatePost\";\nimport { ETypeUpdate } from \"@/store/updates/type\";\nimport { CheckboxWithText } from \"@/components/CheckboxWithText\";\n\nexport interface CreateLetterScreenParams {\n  id: number;\n}\n\nexport const CreateLetterScreen = memo(function CreateLetterScreen() {\n  const { id } = useNavigationParams<CreateLetterScreenParams>();\n\n  const params = useSharedValue<ICreateLetter>(initCreateLetter);\n  const [visibleDialog, showDialog, hideDialog] = useBoolean();\n  const bottomSheetRef = useRef<BottomSheetModal | null>(null);\n  const [label, setLabel] = useState(\"\");\n\n  const onSelectBackground = useCallback(async (image: ImageDTO) => {\n    const imageUrl = await uploadImage(image);\n    onChangeValue(\"image\", imageUrl);\n  }, []);\n  const [{ loading, error: createError }, onPressSubmit] =\n    useAsyncFn(async () => {\n      if (id !== -1) {\n        await requestEditLetter(params.value);\n      } else {\n        await requestCreateLetter(params.value);\n        ToastService.show(\"Create letter successfully\");\n      }\n      goBack();\n    }, [id, params]);\n  useAutoToastError(createError);\n\n  const onGoBack = useCallback(() => {\n    console.log(\"ss\");\n    goBack();\n  }, []);\n\n  useEffect(() => {\n    let _params = {\n      ...initCreateLetter\n    };\n    if (id > 0) {\n      const letter = getLetters(id);\n      const coverImage: IBase64 = JSON.parse(\n        Buffer.from(\n          letter?.image ||\n          \"eyJ0eXBlIjoiIiwiY29sb3IiOiIiLCJvcGFjaXR5IjowLCJwZXJjZW50IjoxMDAsImltYWdlIjoiIiwidGV4dHMiOltdfQ\",\n          \"base64\"\n        ).toString(\"utf-8\")\n      );\n      _params = {\n        id: letter?.id,\n        content: letter?.content || \"\",\n        name: letter?.name || \"\",\n        image: letter?.image,\n        files: letter?.files,\n        notify: letter?.notify,\n        notify_email: letter?.notify_email,\n        disable_comment: letter?.disable_comment\n      };\n    }\n    params.value = _params;\n  }, [id]);\n  const onChangeValue = useCallback(\n    (key: string, value: any) => {\n      runOnUI((_key: string, _value) => {\n        \"worklet\";\n\n        params.value = {\n          ...params.value,\n          [_key]: _value\n        };\n      })(key, value);\n    },\n    [params]\n  );\n  return (\n    <ScreenWrapper>\n      <MyKeyboardAvoidingView>\n        <HeaderCreatePost\n          onPress={onPressSubmit}\n          type={ETypeUpdate.COMPANY_LETTER}\n          isActive={true}\n          id={id}\n          loading={loading}\n          onGoBack={onGoBack}\n        />\n        <SContainer>\n          <SField>\n            <SWrapperBackground>\n              <MyInputBackground\n                onSelectedImage={onSelectBackground}\n                image={params.value.image}\n              />\n            </SWrapperBackground>\n            <SWrapperInput>\n              <UIInput.Text\n                title={\"Title\"}\n                keyName={\"name\"}\n                params={params}\n                placeholder={\"---\"}\n                defaultValue={\"\"}\n                onChangeValue={onChangeValue}\n                required\n              />\n            </SWrapperInput>\n            <SWrapperInput>\n              <UITextInput\n                title={\"Content\"}\n                keyName={\"content\"}\n                params={params}\n                defaultValue={\"\"}\n                onChangeValue={onChangeValue}\n              />\n            </SWrapperInput>\n          </SField>\n          <SField>\n            <SWrapperInput>\n              <STextBold>Advanced settings</STextBold>\n            </SWrapperInput>\n            <CheckboxWithText\n              params={params}\n              keyName={\"draft\"}\n              title={\"Save as a draft\"}\n            />\n            <CheckboxWithText\n              params={params}\n              keyName={\"disable_comment\"}\n              title={\"Disable comments\"}\n            />\n            <CheckboxWithText\n              params={params}\n              keyName={\"notify\"}\n              title={\"Send notification\"}\n            />\n            <CheckboxWithText\n              params={params}\n              keyName={\"notify_email\"}\n              title={\"Send email to everyone\"}\n            />\n            <AnimatedBottomSpace />\n          </SField>\n        </SContainer>\n        <DiscardDialog\n          title={\"Discard change\"}\n          content={\n            \"You have made changes to this item that have not been saved. If you leave this page, your changes will be lost.\"\n          }\n          visible={visibleDialog}\n          onClose={hideDialog}\n        />\n      </MyKeyboardAvoidingView>\n    </ScreenWrapper>\n  );\n});\n\nconst SContainer = styled(Animated.View)`\n  flex: 1;\n`;\n\n\nconst SField = styled.View`\n  padding-bottom: 12px;\n  margin-top: 8px;\n  background-color: ${p => p.theme.white};\n`;\n\nconst SWrapperInput = styled.View`\n  margin: 8px 16px 0 16px;\n`;\n\nconst SWrapperBackground = styled.View`\n  margin-top: 8px;\n`;\n\nconst STextBold = styled.Text`\n  font-family: ${Fonts.Medium};\n  font-size: 16px;\n  line-height: 24px;\n  color: ${p => p.theme.neutral1};\n`;\n","import {memo} from 'react';\nimport {FlexCenter} from '@/utils/helper';\nimport {goBack, styled, useTheme} from '@true/core';\nimport {IC_OUTLINED_LEFT} from '@true/asset';\nimport {UIButton, UIText, UITextStyle} from '@true/ui';\nimport {useAnimatedSafeAreaInsets} from 'react-native-safe-area-context';\nimport Animated, {\n  interpolateColor,\n  SharedValue,\n  useAnimatedProps,\n  useAnimatedStyle,\n} from 'react-native-reanimated';\n\ninterface HeaderCreatePostProps {\n  active: SharedValue<boolean>;\n  onPress: () => void;\n  loading: boolean;\n  id?: number;\n  onGoBack?: () => void;\n  title: string;\n}\n\nexport const HeaderCreatePost = memo(function (props: HeaderCreatePostProps) {\n  const {aTop} = useAnimatedSafeAreaInsets();\n  const animatedPaddingTop = useAnimatedStyle(() => ({\n    paddingTop: aTop.value,\n  }));\n  const theme = useTheme();\n  const {title, active, id, onPress, loading, onGoBack} = props;\n\n  const animatedBtnStyle = useAnimatedStyle(() => {\n    return {\n      backgroundColor: interpolateColor(\n        active.value ? 1 : 0,\n        [0, 1],\n        [theme.neutral3, theme.primaryColor],\n      ),\n      width: '100%',\n    };\n  }, [theme]);\n\n  const animatedProps = useAnimatedProps(() => {\n    return {\n      pointerEvents: active.value ? 'auto' : 'none',\n    };\n  });\n\n  // useAutoToastError(createError);\n  return (\n    <HeaderWrapper style={animatedPaddingTop}>\n      <FlexCenter gap={8}>\n        <UIButton\n          source={IC_OUTLINED_LEFT}\n          onPress={onGoBack ? onGoBack : goBack}\n        />\n        <UIText.HeaderLarge>{title}</UIText.HeaderLarge>\n      </FlexCenter>\n      <Animated.View animatedProps={animatedProps as any}>\n        <SCreateBtn\n          title={id ? 'Update' : 'Create'}\n          onPress={onPress}\n          style={animatedBtnStyle}\n        />\n      </Animated.View>\n    </HeaderWrapper>\n  );\n});\nconst HeaderWrapper = styled(Animated.View)`\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom-color: ${p => p.theme.neutral4};\n  border-bottom-width: 1px;\n  padding: 6px 16px;\n  background-color: white;\n`;\n\nconst SCreateBtn = styled(UIButton).attrs(p => ({\n  textStyle: {\n    ...UITextStyle.body_medium_500,\n    color: '#fff',\n  },\n}))`\n  width: 94px;\n  height: 32px;\n  border-radius: 8px;\n  align-items: center;\n  justify-content: center;\n  padding: 4px 16px;\n  background-color: ${p => p.theme.primaryColor};\n`;\n","import {IReaction, IStats} from '@/store/updates/type';\n\nexport interface ILetter {\n  id: number;\n  metatype: string;\n  user_id: number;\n  status: number;\n  name: string;\n  content: string;\n  files: any[];\n  seens: number[];\n  update_id: number;\n  since: number;\n  last_update: number;\n  followers: number[];\n  disable_comment: number;\n  published_at: number;\n  notify: number;\n  notify_email: number;\n  link: string;\n  hid: string;\n  token: string;\n  image: string;\n  type: 'companyletters';\n  reactions: IReaction[];\n  stats: IStats;\n  managed: number;\n}\nexport interface ICreateLetter {\n  id?: number;\n  image?: string;\n  name: string;\n  content: string;\n  files?: any;\n  draft?: number;\n  notify?: number;\n  notify_email?: number;\n  disable_comment?: number;\n}\nexport const initCreateLetter: ICreateLetter = {\n  name: '',\n  content: '',\n};\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_react","require","_core","_utils","_asset","_type","_BgTemplateService","_jsxRuntime","MyInputBackground","memo","props","onSelectedImage","image","_useState","useState","_useState2","_slicedToArray2","default","imageUri","setImageUri","onSelect","useCallback","url","onPress","openCameraRollScreen","onSubmit","source","useMemo","_image","Object","values","BG_TEMPLATE","includes","getTemplateImage","uri","jsxs","SContainer","children","jsx","STitle","SBackgroundWrapper","resizeMode","SButtonAction","hasImage","STextAction","Fragment","SIconPhoto","SImageGallery","IC_OUTLINED_IMAGE","SText","exports","styled","TouchableOpacity","_taggedTemplateLiteralLoose2","Text","Fonts","Regular","p","theme","neutral2","ImageBackground","neutral9","View","Image","Medium","white","_interopRequireWildcard","_reactNativeReanimated","_ui","_AnimatedBottomSpace","_DiscardDialog","_helper","_useAsyncFn3","_function","_letters","_buffer","_MyInputBackground","_HeaderCreatePost","_type2","_CheckboxWithText","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_worklet_690685769123_init_data","code","location","sourceMap","version","CreateLetterScreen","_ref","id","useNavigationParams","params","useSharedValue","initCreateLetter","_useBoolean","useBoolean","_useBoolean2","visibleDialog","hideDialog","useRef","onSelectBackground","_x","_asyncToGenerator2","imageUrl","uploadImage","onChangeValue","apply","arguments","_useAsyncFn","useAsyncFn","requestEditLetter","value","requestCreateLetter","ToastService","show","goBack","_useAsyncFn2","_useAsyncFn2$","loading","createError","error","onPressSubmit","useAutoToastError","onGoBack","console","log","useEffect","_params","assign","letter","getLetters","JSON","parse","Buffer","from","toString","content","name","files","notify","notify_email","disable_comment","_e","anonymous","runOnUI","global","Error","_key","_value","_defineProperty2","__closure","__initData","__workletHash","__stackDetails","ScreenWrapper","MyKeyboardAvoidingView","HeaderCreatePost","type","ETypeUpdate","COMPANY_LETTER","isActive","SField","SWrapperBackground","SWrapperInput","UIInput","title","keyName","placeholder","defaultValue","required","UITextInput","STextBold","CheckboxWithText","AnimatedBottomSpace","DiscardDialog","visible","onClose","Animated","neutral1","_reactNativeSafeAreaContext","_worklet_9978501313055_init_data","_worklet_16470896921808_init_data","_worklet_14091630795489_init_data","aTop","useAnimatedSafeAreaInsets","animatedPaddingTop","useAnimatedStyle","paddingTop","useTheme","active","animatedBtnStyle","backgroundColor","interpolateColor","neutral3","primaryColor","width","animatedProps","useAnimatedProps","pointerEvents","HeaderWrapper","style","FlexCenter","gap","UIButton","IC_OUTLINED_LEFT","UIText","HeaderLarge","SCreateBtn","neutral4","attrs","textStyle","UITextStyle","body_medium_500","color"],"sourceRoot":""}