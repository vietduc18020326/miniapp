(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_screens_DetailPostScreen_index_tsx"],{46034:function(e,t,n){var o=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DetailPostScreen=void 0;var l,i,r,a,s,u,c,d,p=o(n(19452)),f=o(n(27424)),h=A(n(84481)),x=n(91087),y=n(4007),_=A(n(46763)),m=n(92571),g=n(25277),v=n(25200),j=n(60301),w=n(48814),P=n(60569),b=o(n(13301)),k=n(25736),T=n(36571),O=n(27811),C=n(20349),S=n(33823);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function A(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var r=l?Object.getOwnPropertyDescriptor(e,i):null;r&&(r.get||r.set)?Object.defineProperty(o,i,r):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}var D={code:"function anonymous(){const{aTop}=this.__closure;return{paddingTop:aTop.value};}"},E={code:"function anonymous(event){const{scroll_x}=this.__closure;const scrollValue=event.nativeEvent.contentOffset.y;scroll_x.value=scrollValue;}"},F={code:"function anonymous(){const{interpolate,scroll_x,Extrapolation}=this.__closure;const info_header_opacity=interpolate(scroll_x.value,[0,120],[0,1],{extrapolateRight:Extrapolation.CLAMP});return{opacity:info_header_opacity};}"},L=t.DetailPostScreen=(0,h.memo)((function(){var e,t,n,o=(0,y.useNavigationParams)(),l=o.user_id,i=o.time,r=o.id,a=o.hid,s=(0,y.useUser)(l),u=(0,P.useUpdates)(r),c=(0,v.useAnimatedSafeAreaInsets)().aTop,d=(0,_.useAnimatedStyle)(((n=function(){return{paddingTop:c.value}}).__closure={aTop:c},n.__initData=D,n.__workletHash=9978501313055,n)),p=(0,_.useSharedValue)(0),I=(0,_.useWorkletCallback)(function(){var e=function(e){var t=e.nativeEvent.contentOffset.y;p.value=t};return e.__closure={scroll_x:p},e.__initData=E,e.__workletHash=4428087754035,e}(),[]),A=(0,_.useAnimatedStyle)(function(){var e=function(){return{opacity:(0,_.interpolate)(p.value,[0,120],[0,1],{extrapolateRight:_.Extrapolation.CLAMP})}};return e.__closure={interpolate:_.interpolate,scroll_x:p,Extrapolation:_.Extrapolation},e.__initData=F,e.__workletHash=4966309020424,e}()),L=(0,h.useCallback)((function(){(0,C.openActionPostScreen)(),(0,O.setActiveUpdate)(null==u?void 0:u.truetype,r,l,a)}),[]),q=(0,y.useAsyncFn)((function(){return(0,T.requestUpdatePost)({update_id:r})}),[r]),B=(0,f.default)(q,2),K=B[0],Z=(K.loading,K.error,B[1]),G=(0,y.useAsyncFn)((function(){return(0,T.requestUpdatePost)({update_id:r})}),[r]),J=(0,f.default)(G,2),Q=J[0],X=Q.loading,Y=(Q.error,J[1]);return(0,h.useEffect)((function(){Z().then()}),[]),(0,S.jsx)(x.FullScreenWrapper,{children:(0,S.jsxs)(x.Comment.Provider,{appName:"inside",type:"comment",hid:(null==u||null==(e=u.attachment)?void 0:e.hid)||(null==u?void 0:u.hid)||"",token:(null==u||null==(t=u.attachment)?void 0:t.token)||(null==u?void 0:u.token)||"",children:[(0,S.jsxs)(M,{style:d,children:[(0,S.jsxs)(k.FlexCenter,{children:[(0,S.jsx)(R,{onPress:y.goBack,children:(0,S.jsx)(m.Image,{source:g.IC_OUTLINED_LEFT})}),(0,S.jsxs)(H,{style:A,children:[(0,S.jsx)(x.Avatar,{size:32,userKey:l}),(0,S.jsxs)(m.View,{style:j.globalStyles.ml8,children:[(0,S.jsx)(U,{children:null==s?void 0:s.name}),(0,S.jsxs)(k.FlexCenter,{children:["update"!==(null==u?void 0:u.truetype)?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(W,{children:(0,S.jsx)(z,{source:b.default.getTypePostImage((null==u?void 0:u.truetype)||"update")})}),(0,S.jsx)(V,{style:j.globalStyles.ml4,children:""+b.default.getReactionText((null==u?void 0:u.truetype)||"update")}),(0,S.jsx)(k.STextDivider,{children:" | "})]}):null,(0,S.jsx)(V,{children:(0,S.jsx)(x.TimeAgo,{time:1e3*i})})]})]})]})]}),(0,S.jsx)(N,{onPress:L,children:(0,S.jsx)(m.Image,{source:g.IC_OUTLINED_MORE_HORIZ})})]}),(0,S.jsx)(x.Comment.List,{refreshing:X,onLoadData:Y,ListHeaderComponent:(0,S.jsx)(w.PostThumbnail,{isInFeed:!1,id:r}),onScroll:I,appName:"inside"}),(0,S.jsx)(x.Comment.Input,{}),(0,S.jsx)(x.Comment.BottomSheet,{})]})})})),M=(0,y.styled)(_.default.View)(l||(l=(0,p.default)(["\n  background-color: white;\n  padding: 8px 16px 8px 0;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),R=y.styled.TouchableOpacity(i||(i=(0,p.default)(["\n  width: 48px;\n  height: 48px;\n  align-items: center;\n  justify-content: center;\n"]))),U=y.styled.Text(r||(r=(0,p.default)(["\n  font-family: ",";\n\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 16px;\n  color: #242424;\n"])),y.Fonts.Regular),V=y.styled.Text(a||(a=(0,p.default)(["\n  font-family: ",";\n\n  font-weight: 400;\n  font-size: 12px;\n  line-height: 16px;\n  color: #666666;\n"])),y.Fonts.Regular),H=(0,y.styled)(_.default.View)(s||(s=(0,p.default)(["\n  flex-direction: row;\n  align-items: center;\n"]))),N=y.styled.TouchableOpacity.attrs((function(e){return{hitSlop:{top:8,bottom:8,left:8,right:8}}}))(u||(u=(0,p.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: flex-start;\n"]))),W=y.styled.View(c||(c=(0,p.default)(["\n  width: 16px;\n  height: 16px;\n  align-items: center;\n  justify-content: center;\n"]))),z=y.styled.Image(d||(d=(0,p.default)(["\n  tint-color: #666666;\n  width: 16px;\n  height: 16px;\n"])));t.default=L}}]);//# sourceMappingURL=src_screens_DetailPostScreen_index_tsx.chunk.bundle.map?platform=android