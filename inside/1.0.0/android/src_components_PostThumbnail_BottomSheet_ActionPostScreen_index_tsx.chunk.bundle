(self.webpackChunkInside=self.webpackChunkInside||[]).push([["src_components_PostThumbnail_BottomSheet_ActionPostScreen_index_tsx"],{46413:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.ActionPostScreen=void 0;var i,r,o,d,s,u,l=a(n(19452)),c=a(n(17156)),p=n(91087),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var o=i?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(84481)),h=n(27811),g=n(20349),v=n(4007),y=n(25277),m=n(36571),x=n(60569),b=n(98355),P=n(6093),S=n(33823);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}var j=(0,f.memo)((function(e){var t=e.text,n=e.image,a=e.onPress,i=e.highlight;return(0,S.jsxs)(w,{onPress:a,children:[(0,S.jsx)(E,{children:(0,S.jsx)(O,{source:n,highlight:i})}),(0,S.jsx)(C,{children:(0,S.jsx)(I,{highlight:i,children:t})})]})})),_=(t.ActionPostScreen=(0,f.memo)((function(){var e,t=(0,h.useActiveUpdate)(),n=t.type,a=t.id,i=t.user_id,r=t.hid,o=null==(e=(0,v.getMe)())?void 0:e.id,d=(0,p.useBottomSheetNavigator)().onViewLayout,s=(0,f.useCallback)((function(){var e=(0,x.getUpdates)(a);n===P.ETypeUpdate.EVENT?(0,g.navigateToCreateEvent)({id:a}):n===P.ETypeUpdate.POLL?(0,g.navigateToCreatePollScreen)({id:a}):n===P.ETypeUpdate.TOPIC?(0,g.navigateToCreateTopicScreen)({id:null==e?void 0:e.attachment.id}):n===P.ETypeUpdate.STYLED?(0,g.navigateToCreateStyledUpdateScreen)({id:a}):(0,g.navigateToCreatePostScreen)({type:n||P.ETypeUpdate.TOPIC,id:a})}),[n,a]),u=(0,f.useCallback)((0,c.default)((function*(){yield(0,b.requestToggleSaved)({hid:r||"",status:1}).then(),(0,v.goBack)()})),[a]),l=(0,f.useCallback)((0,c.default)((function*(){yield(0,m.requestPinnedPost)({id:a||0}).then(),(0,v.goBack)()})),[a]),T=(0,f.useCallback)((0,c.default)((function*(){yield(0,m.requestRemovePost)({id:a,metatype:n||"update"}),(0,v.goBack)()})),[a]);return(0,S.jsx)(p.BottomSheetView,{onLayout:d("headers"),children:(0,S.jsxs)(_,{children:[(0,S.jsx)(j,{image:y.IC_FILLED_BOOKMARK,text:"Save update",onPress:u}),o===i?(0,S.jsx)(j,{image:y.IC_FILLED_SIGNATURE,text:"Edit update",onPress:s}):null,(0,S.jsx)(j,{image:y.IC_FILLED_PUSH_PIN,text:"Pin update",onPress:l}),(0,S.jsx)(j,{image:y.IC_FILLED_DELETE,text:"Remove update",onPress:T,highlight:!0})]})})})),v.styled.View(i||(i=(0,l.default)(["\n  width: 100%;\n  padding: 0 16px;\n  margin-top: 16px;\n"])))),w=v.styled.TouchableOpacity(r||(r=(0,l.default)(["\n  flex-direction: row;\n  align-items: flex-start;\n  margin-bottom: 16px;\n"]))),C=v.styled.View(o||(o=(0,l.default)(["\n  flex: 1;\n  padding-bottom: 16px;\n  border-bottom-width: 1px;\n  border-bottom-color: #ebebeb;\n"]))),E=v.styled.View(d||(d=(0,l.default)(["\n  width: 24px;\n  height: 24px;\n  align-items: center;\n  justify-content: center;\n  margin-right: 12px;\n"]))),O=v.styled.Image(s||(s=(0,l.default)(["\n  width: 24px;\n  height: 24px;\n  tint-color: ",";\n"])),(function(e){return e.highlight?e.theme.red1:e.theme.neutral1})),I=v.styled.Text(u||(u=(0,l.default)(["\n  font-family: ",";\n\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),v.Fonts.Regular,(function(e){return e.highlight?e.theme.red1:e.theme.neutral1}))},98355:function(e,t,n){var a=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestToggleSaved=t.requestSavedItems=void 0;var i,r,o=a(n(861)),d=a(n(38416)),s=a(n(17156)),u=n(4007),l=n(30806),c=n(92813);t.requestSavedItems=(i=(0,s.default)((function*(){var e=(yield u.Fetch.postWithToken("@"+u.Core.systemPath+"/inside/ajax/api/profile/get?tail=saved")).data;(0,l.batch)((function(){e.saved&&((0,c.syncSaved)(e.saved),(0,c.setSavedQuery)((function(t){return Object.assign({},t,(0,d.default)({},"all",e.saved.map((function(e){return e.id.toString()}))))})))}))})),function(){return i.apply(this,arguments)}),t.requestToggleSaved=(r=(0,s.default)((function*(e){var t=(yield u.Fetch.postWithToken("@"+u.Core.systemPath+"/inside/ajax/api/pref/save",e)).data;return(0,l.batch)((function(){t.saved&&((0,c.setSavedQuery)((function(e){return Object.assign({},e,(0,d.default)({},"all",(0,o.default)(e.all.filter((function(e){return e!==t.obj.id.toString()})))))})),u.ToastService.show("Saved successfully"))})),t.saved})),function(e){return r.apply(this,arguments)})}}]);//# sourceMappingURL=src_components_PostThumbnail_BottomSheet_ActionPostScreen_index_tsx.chunk.bundle.map?platform=android