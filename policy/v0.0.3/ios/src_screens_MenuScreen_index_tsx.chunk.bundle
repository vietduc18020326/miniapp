(self.webpackChunkMiniPolicy=self.webpackChunkMiniPolicy||[]).push([["src_screens_MenuScreen_index_tsx"],{9048:function(e,n,t){var r=t(64836);Object.defineProperty(n,"__esModule",{value:!0}),n.MenuScreen=void 0;var i,o,a,l,u,c,s,d,p,f,y=r(t(19452)),m=t(91087),x=function(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=w(n);if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,t&&t.set(e,r);return r}(t(84481)),g=t(4007),h=t(58469),v=t(92571),j=t(32602),b=t(20349),S=t(30975),_=t(25277),O=t(33823);function w(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(w=function(e){return e?t:n})(e)}n.MenuScreen=(0,x.memo)((function(){var e=(0,g.useMe)(),n=(0,x.useCallback)((function(e){var n=e.item,t=e.index;return(0,O.jsx)(q,{data:n,index:t})}),[]),t=(0,x.useCallback)((function(e){var n=e.item,t=e.index;e.toggle;return(0,O.jsx)(I,{data:n,index:t})}),[]),r=(0,j.useStoragesByQuery)("all"),i=(0,g.useUserGroupByQuery)("teams"),o=(0,x.useMemo)((function(){return[{id:"section_0",title:(0,g.translate)("policy.storages"),icon:_.Icons.Outlined.DOCUMENT_TEXT},{id:"section_1",title:(0,g.translate)("policy.senders"),icon:_.Icons.Outlined.BUILDING_OFFICE_2},{id:"section_2",title:(0,g.translate)("policy.saved"),icon:_.Icons.Outlined.SAVE}]}),[r,i]),a=(0,x.useMemo)((function(){return{section_0:r.map((function(e){return{id:e,type:"storage"}})),section_1:i.map((function(e){return{id:e,type:"sender"}})),section_2:["expired","rejected","archived","trash"].map((function(e){return{id:e,type:"saved"}}))}}),[r,i]);return(0,O.jsxs)(m.ScreenWrapper,{isGrey:!0,children:[(0,O.jsx)(m.LeftModalHeader,{hideSeparator:!0,title:(0,g.translate)("policy.menu"),rightComponent:(0,O.jsx)(M,{children:(0,O.jsx)(h.Button,{source:g.IC_SEARCH,onPress:b.navigateToSearchScreen})})}),(0,O.jsxs)(k,{children:[(0,O.jsx)(m.UserAvatar,{userKey:(null==e?void 0:e.id)||"",size:40}),(0,O.jsxs)(P,{children:[(0,O.jsx)(C,{children:null==e?void 0:e.name}),(0,O.jsx)(T,{children:null==e?void 0:e.email})]})]}),(0,O.jsx)(m.UIFlashList,{data:o,mapKey:"id",map:a,estimatedItemSize:50,renderItem:n,renderSection:t})]})}));var M=g.styled.View(i||(i=(0,y.default)(["\n  flex-direction: row;\n  margin-right: 16px;\n"]))),k=g.styled.View(o||(o=(0,y.default)(["\n  flex-direction: row;\n  padding: 8px 16px;\n  align-items: center;\n  background-color: ",";\n  border-bottom-width: 1px;\n  border-color: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.neutral5})),P=g.styled.View(a||(a=(0,y.default)(["\n  margin-left: 12px;\n"]))),C=g.styled.Text(l||(l=(0,y.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  font-family: ",";\n\n  color: ",";\n"])),g.Fonts.Regular,(function(e){return e.theme.neutral1})),T=g.styled.Text(u||(u=(0,y.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  font-family: ",";\n  color: ",";\n"])),g.Fonts.Regular,(function(e){return e.theme.neutral2})),I=(0,x.memo)((function(e){var n=e.data;e.index;return(0,O.jsxs)(F,{children:[(0,O.jsx)(U,{source:n.icon}),(0,O.jsx)(B,{children:n.title})]})})),q=(0,x.memo)((function(e){var n=e.data,t=(e.index,(0,x.useCallback)((function(e,n){return(0,O.jsx)(v.View,{children:(0,O.jsx)(V,{onPress:n,children:(0,O.jsx)(z,{children:e})})})}),[]));if("sender"===n.type){var r=(0,g.useUserGroup)(n.id);return t((0,g.stripSpecialCharacters)(null==r?void 0:r.name),(function(){(0,b.navigateToOneTabPolicyScreen)({params:{id:n.id},query:"sender",requestFn:S.requestPolicyBySender,title:(null==r?void 0:r.name)||"",items:["collection","storage","receiver","doctype"]})}))}if("storage"===n.type){var i=(0,j.useStorages)(n.id);return t((0,g.stripSpecialCharacters)(null==i?void 0:i.name),(function(){(0,b.navigateToOneTabPolicyScreen)({params:{id:n.id},query:"storage",requestFn:S.requestPolicyByStorage,title:(null==i?void 0:i.name)||"",items:["collection","doctype"]})}))}var o=(0,x.useMemo)((function(){return"trash"===n.id.toString()?(0,g.translate)("policy.soft_deleted"):(0,g.translate)("policy."+n.id.toString())}),[n.id]);return t(o,(function(){(0,b.navigateToOneTabPolicyScreen)({params:{tail:n.id},query:"saved",requestFn:S.requestPolicyBySaved,title:o,items:["collection","storage","receiver","doctype"],mainKey:"tail"})}))})),F=g.styled.View(c||(c=(0,y.default)(["\n  flex-direction: row;\n  align-items: center;\n  padding: 12px 16px;\n  background-color: ",";\n  margin-top: 8px;\n"])),(function(e){return e.theme.backgroundColor})),B=g.styled.Text(s||(s=(0,y.default)(["\n  color: ",";\n  font-size: 16px;\n  line-height: 24px;\n  font-family: ",";\n"])),(function(e){return e.theme.neutral1}),g.Fonts.Medium),U=g.styled.Image(d||(d=(0,y.default)(["\n  margin-right: 8px;\n  height: 24px;\n  width: 24px;\n"]))),V=g.styled.TouchableOpacity(p||(p=(0,y.default)(["\n  padding: 16px;\n  background-color: ",";\n"])),(function(e){return e.theme.backgroundColor})),z=g.styled.Text(f||(f=(0,y.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral1}))}}]);//# sourceMappingURL=src_screens_MenuScreen_index_tsx.chunk.bundle.map?platform=ios