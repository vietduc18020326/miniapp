{"version":3,"file":"src_screens_PolicyDetailScreen_ApproveScreen_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/components/Button/BottomButton.tsx","webpack:///./src/components/index.ts","webpack:///./src/screens/PolicyDetailScreen/ApproveScreen.tsx"],"sourcesContent":["import {memo} from 'react';\nimport {styled, useTheme} from '@true/core';\nimport Animated, {useAnimatedStyle} from 'react-native-reanimated';\nimport {StyleSheet, ViewProps} from 'react-native';\nimport {useAnimatedSafeAreaInsets} from 'react-native-safe-area-context';\nimport {Button} from '@policy/components';\nimport {Fonts} from '@true/core';\nimport {flatStyles} from '@true/core';\nimport {ButtonProvider} from './context';\n\ninterface IButton {\n  title: string;\n  onPress?: () => void;\n  textColor?: string;\n  backgroundColor?: string;\n  loading?: boolean;\n}\n\nexport const BottomButton = memo(\n  ({\n    isDivider,\n    buttons,\n    ...rest\n  }: {\n    isDivider?: boolean;\n    buttons: IButton[];\n  } & ViewProps) => {\n    const {aBottom} = useAnimatedSafeAreaInsets();\n    const animatedStyles = useAnimatedStyle(() => ({\n      paddingBottom: aBottom.value + 16,\n    }));\n\n    const theme = useTheme();\n\n    return (\n      <ButtonProvider>\n        <SWrapButton isDivider={isDivider} style={[rest.style, animatedStyles]}>\n          {buttons.map((item, index) => (\n            <Button\n              title={item.title}\n              loading={item.loading}\n              onPress={item.onPress}\n              textStyle={flatStyles(styles.text, {\n                color: item.textColor || theme.grey1,\n              })}\n              style={flatStyles(styles.button, {\n                backgroundColor: item.backgroundColor || theme.grey5,\n                marginLeft: index === 0 ? 0 : 12,\n              })}\n            />\n          ))}\n        </SWrapButton>\n      </ButtonProvider>\n    );\n  },\n);\n\nconst styles = StyleSheet.create({\n  text: {\n    fontFamily: Fonts.Medium,\n  },\n  button: {\n    borderRadius: 4,\n    flex: 1,\n    paddingVertical: 12,\n    paddingHorizontal: 8,\n    alignItems: 'center',\n  },\n});\n\nconst SWrapButton = styled(Animated.View)<{isDivider?: boolean}>`\n  flex-direction: row;\n  border-top-width: ${p => (p.isDivider ? 1 : 0)}px;\n  border-color: ${p => p.theme.neutral5};\n  margin: 0 16px;\n`;\n","export * from '@true/ui';\n\nexport * from './Button'\n","import React, { memo, useRef, useState } from \"react\";\nimport {\n  AnimatedKeyboardAvoidingViewRef,\n  DynamicHeader,\n  MyKeyboardAvoidingView,\n  MyTextInput,\n  ScreenWrapper\n} from \"@true/ui\";\nimport { useAutoToastError, useNavigationParams } from \"@true/core\";\nimport { styled, translate, useTheme } from \"@true/core\";\nimport { BottomButton } from \"@policy/components/Button/BottomButton\";\nimport { useAsyncFn } from \"react-use\";\nimport { requestApprove } from \"@policy/store/policies/functions\";\nimport { StyleSheet } from \"react-native\";\nimport Animated from \"react-native-reanimated\";\nimport { Colors } from \"@true/core\";\nimport { goBack } from \"@true/core\";\n\nexport interface ApproveScreenProps {\n  id: string | number;\n  title: string;\n  status: 1 | -1;\n}\n\nexport const ApproveScreen = memo(() => {\n  const {title, status, id} = useNavigationParams<ApproveScreenProps>();\n\n  const [note, setNote] = useState('');\n\n  const [{loading: approveLoading, error}, onApprove] = useAsyncFn(async () => {\n    await requestApprove({\n      id,\n      status,\n      note,\n    });\n    goBack();\n  }, [id, status, note]);\n\n  useAutoToastError(error);\n\n  const keyboardRef = useRef<AnimatedKeyboardAvoidingViewRef | null>(null);\n\n  const theme = useTheme();\n\n  return (\n    <ScreenWrapper>\n      <MyKeyboardAvoidingView ref={keyboardRef}>\n        <DynamicHeader title={title} />\n        <Animated.ScrollView ref={keyboardRef.current?.scrollRef}>\n          <SInputWrapper>\n            <MyTextInput\n              value={note}\n              title={\n                translate('policy.note') +\n                ' (' +\n                translate('policy.not_required') +\n                ')'\n              }\n              keyName={''}\n              onTextChange={(_, value) => {\n                setNote(value);\n              }}\n            />\n          </SInputWrapper>\n        </Animated.ScrollView>\n        <BottomButton\n          buttons={[\n            {\n              title:\n                status == 1\n                  ? translate('policy.approve')\n                  : translate('policy.reject'),\n              onPress: onApprove,\n              textColor: Colors.white,\n              backgroundColor: status == 1 ? Colors.green1 : Colors.red1,\n              loading: approveLoading,\n            },\n          ]}\n        />\n      </MyKeyboardAvoidingView>\n    </ScreenWrapper>\n  );\n});\n\nconst SInputWrapper = styled.View`\n  margin: 16px 16px 16px 16px;\n`;\n\nconst styles = StyleSheet.create({\n  input: {},\n});\n"],"names":["_templateObject","_react","require","_core","_reactNativeReanimated","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_reactNative","_reactNativeSafeAreaContext","_","_context","_jsxRuntime","_excluded","WeakMap","cacheBabelInterop","cacheNodeInterop","_worklet_14194919852759_init_data","code","styles","exports","memo","_ref","anonymous","isDivider","buttons","rest","_objectWithoutProperties2","aBottom","useAnimatedSafeAreaInsets","animatedStyles","useAnimatedStyle","paddingBottom","value","__closure","__initData","__workletHash","theme","useTheme","jsx","ButtonProvider","children","SWrapButton","style","map","item","index","Button","title","loading","onPress","textStyle","flatStyles","text","color","textColor","grey1","button","backgroundColor","grey5","marginLeft","StyleSheet","create","fontFamily","Fonts","Medium","borderRadius","flex","paddingVertical","paddingHorizontal","alignItems","styled","Animated","View","_taggedTemplateLiteralLoose2","p","neutral5","_ui","keys","forEach","enumerable","_Button","_BottomButton","_reactUse","_functions","_interopRequireDefault","_keyboardRef$current","_useNavigationParams","useNavigationParams","status","id","_useState","useState","_useState2","_slicedToArray2","note","setNote","_useAsyncFn","useAsyncFn","_asyncToGenerator2","requestApprove","goBack","_useAsyncFn2","_useAsyncFn2$","approveLoading","error","onApprove","useAutoToastError","keyboardRef","useRef","ScreenWrapper","jsxs","MyKeyboardAvoidingView","ref","DynamicHeader","ScrollView","current","scrollRef","SInputWrapper","MyTextInput","translate","keyName","onTextChange","BottomButton","Colors","white","green1","red1","input"],"sourceRoot":""}