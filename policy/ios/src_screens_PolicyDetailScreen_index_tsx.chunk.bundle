(self.webpackChunkMiniPolicy=self.webpackChunkMiniPolicy||[]).push([["src_screens_PolicyDetailScreen_index_tsx","src_components_AnimatedBottomSpace_tsx"],{11361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedBottomSpace=void 0;var r=u(n(84481)),o=n(25200),i=u(n(46763)),l=n(33823);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var s={code:"function anonymous(){const{aBottom}=this.__closure;return{height:aBottom.value};}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedBottomSpace.tsx",sourceMap:'{"version":3,"names":["anonymous","aBottom","__closure","height","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedBottomSpace.tsx"],"mappings":"AAQyC,SAAAA,UAAA,QAAAC,OAAA,OAAAC,SAAA,OAAO,CAC5CC,MAAM,CAAEF,OAAO,CAACG,KAClB,CAAC"}',version:"3.5.4"};t.AnimatedBottomSpace=(0,r.memo)((function(e){var t,r,a=(0,o.useAnimatedSafeAreaInsets)().aBottom,u=(0,i.useAnimatedStyle)((t=[new n.g.Error,-2,-27],(r=function(){return{height:a.value}}).__closure={aBottom:a},r.__initData=s,r.__workletHash=7203089036154,r.__stackDetails=t,r));return(0,l.jsx)(i.default.View,Object.assign({},e,{style:[e.style,u]}))}))},77556:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedCollapseWrapper=void 0;var o,i,l=r(n(19452)),a=n(4007),u=d(n(84481)),s=d(n(46763)),A=n(33823);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var f={code:"function anonymous(){const{visible}=this.__closure;if(visible.value==1){visible.value=0;return;}else{visible.value=1;}}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx"],"mappings":"AA4BsC,SAAAA,SAAMA,CAAA,QAAAC,OAAA,OAAAC,SAAA,CAEtC,GAAID,OAAO,CAACE,KAAK,EAAI,CAAC,CAAE,CACtBF,OAAO,CAACE,KAAK,CAAG,CAAC,CACjB,OACF,CAAC,IAAM,CACLF,OAAO,CAACE,KAAK,CAAG,CAAC,CACnB,CACF"}',version:"3.5.4"},p={code:"function anonymous(){const{visible,contentHeight}=this.__closure;return{_visible:visible.value,_contentHeight:contentHeight.value};}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","contentHeight","__closure","_visible","value","_contentHeight"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx"],"mappings":"AA2CM,SAAAA,UAAA,QAAAC,OAAA,CAAAC,aAAA,OAAAC,SAAA,OAAO,CACLC,QAAQ,CAAEH,OAAO,CAACI,KAAK,CACvBC,cAAc,CAAEJ,aAAa,CAACG,KAChC,CAAC"}',version:"3.5.4"},C={code:"function anonymous(cur,prev){const{animatedHeight,withTiming}=this.__closure;if((prev===null||prev===void 0?void 0:prev._contentHeight)==0){animatedHeight.value=cur._contentHeight;return;}if(cur._visible==1){animatedHeight.value=withTiming(cur._contentHeight,{duration:200});}else{animatedHeight.value=withTiming(0,{duration:200});}}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","cur","prev","animatedHeight","withTiming","__closure","_contentHeight","value","_visible","duration"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx"],"mappings":"AA+CM,QAAC,CAAAA,SAAKA,CAAAC,GAAS,CAAAC,IAAA,QAAAC,cAAA,CAAAC,UAAA,OAAAC,SAAA,CACb,GAAI,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,cAAc,GAAI,CAAC,CAAE,CAC7BH,cAAc,CAACI,KAAK,CAAGN,GAAG,CAACK,cAAc,CACzC,OACF,CACA,GAAIL,GAAG,CAACO,QAAQ,EAAI,CAAC,CAAE,CACrBL,cAAc,CAACI,KAAK,CAAGH,UAAU,CAACH,GAAG,CAACK,cAAc,CAAE,CACpDG,QAAQ,CAAE,GACZ,CAAC,CAAC,CACJ,CAAC,IAAM,CACLN,cAAc,CAACI,KAAK,CAAGH,UAAU,CAAC,CAAC,CAAE,CAACK,QAAQ,CAAE,GAAG,CAAC,CAAC,CACvD,CACF"}',version:"3.5.4"},h={code:"function anonymous(){const{animatedHeight,interpolate,contentHeight}=this.__closure;return{height:animatedHeight.value,opacity:interpolate(animatedHeight.value,[0,contentHeight.value],[0,1])};}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","animatedHeight","interpolate","contentHeight","__closure","height","value","opacity"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx"],"mappings":"AA8DoD,SAAAA,UAAA,QAAAC,cAAA,CAAAC,WAAA,CAAAC,aAAA,OAAAC,SAAA,OAAO,CACrDC,MAAM,CAAEJ,cAAc,CAACK,KAAK,CAC5BC,OAAO,CAAEL,WAAW,CAClBD,cAAc,CAACK,KAAK,CACpB,CAAC,CAAC,CAAEH,aAAa,CAACG,KAAK,CAAC,CACxB,CAAC,CAAC,CAAE,CAAC,CACP,CACF,CAAC"}',version:"3.5.4"},v={code:"function anonymous(e){const{contentHeight}=this.__closure;contentHeight.value=e.nativeEvent.layout.height;}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","e","contentHeight","__closure","value","nativeEvent","layout","height"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedCollapseWrapper/index.tsx"],"mappings":"AAuEwC,QAAC,CAAAA,SAAWA,CAAAC,CAAA,QAAAC,aAAA,OAAAC,SAAA,CAE9CD,aAAa,CAACE,KAAK,CAAGH,CAAC,CAACI,WAAW,CAACC,MAAM,CAACC,MAAM,CACnD"}',version:"3.5.4"},m=(t.AnimatedCollapseWrapper=(0,a.memoForwardRef)((function(e,t){var r,o,i=(0,s.useSharedValue)(1),l=(0,s.useSharedValue)(0),a=(0,s.useSharedValue)(0),c=(0,s.useWorkletCallback)((r=[new n.g.Error,-2,-27],(o=function(){1!=i.value?i.value=1:i.value=0}).__closure={visible:i},o.__initData=f,o.__workletHash=0xc0e3fdf7338,o.__stackDetails=r,o),[i]);(0,u.useImperativeHandle)(t,(function(){return{toggle:c}})),(0,s.useAnimatedReaction)(function(){var e=[new n.g.Error,-3,-27],t=function(){return{_visible:i.value,_contentHeight:a.value}};return t.__closure={visible:i,contentHeight:a},t.__initData=p,t.__workletHash=227105931522,t.__stackDetails=e,t}(),function(){var e=[new n.g.Error,-3,-27],t=function(e,t){0!=(null==t?void 0:t._contentHeight)?1==e._visible?l.value=(0,s.withTiming)(e._contentHeight,{duration:200}):l.value=(0,s.withTiming)(0,{duration:200}):l.value=e._contentHeight};return t.__closure={animatedHeight:l,withTiming:s.withTiming},t.__initData=C,t.__workletHash=9305212266114,t.__stackDetails=e,t}());var d=(0,s.useAnimatedStyle)(function(){var e=[new n.g.Error,-4,-27],t=function(){return{height:l.value,opacity:(0,s.interpolate)(l.value,[0,a.value],[0,1])}};return t.__closure={animatedHeight:l,interpolate:s.interpolate,contentHeight:a},t.__initData=h,t.__workletHash=1505093327717,t.__stackDetails=e,t}()),g=(0,s.useWorkletCallback)(function(){var e=[new n.g.Error,-2,-27],t=function(e){a.value=e.nativeEvent.layout.height};return t.__closure={contentHeight:a},t.__initData=v,t.__workletHash=0xf0f72b63548,t.__stackDetails=e,t}(),[]);return(0,A.jsx)(m,{children:(0,A.jsx)(y,{style:[{overflow:"scroll"},d],children:(0,A.jsx)(s.default.View,{style:e.contentStyle,onLayout:g,children:e.children})})})})),(0,a.styled)(s.default.View)(o||(o=(0,l.default)(["\n  //padding: 12px 16px;\n"])))),y=(0,a.styled)(s.default.View)(i||(i=(0,l.default)([""])))},38300:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.BottomSheetMenu=void 0;r(n(84481));var o=n(91087),i=n(74186),l=n(19855),a=n(4007),u=n(11361),s=n(33823);t.BottomSheetMenu=(0,a.memoForwardRef)((function(e,t){var n=e.name,r=e.items,a=(0,o.useAnimatedSnapPoints)(),A=a.animatedSnapPoints,c=a.onViewLayout,d=a.onListLayout;return(0,s.jsx)(o.MyBottomSheet,{ref:t,name:n,snapPoints:A,children:(0,s.jsxs)(i.BottomSheetView,{onLayout:c("body"),children:[(0,s.jsx)(i.BottomSheetFlatList,{data:r,renderItem:function(e){var t=e.item;return(0,s.jsx)(l.MenuItem,{source:t.source,title:t.title,onPress:t.onPress})},onLayout:d}),(0,s.jsx)(u.AnimatedBottomSpace,{})]})})}))},20222:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.Checkbox=void 0;var o,i,l=r(n(19452)),a=f(n(84481)),u=r(n(95194)),s=f(n(46763)),A=n(25277),c=n(33823);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var p={code:"function anonymous(){const{isSelected,withTiming}=this.__closure;return{opacity:isSelected.value?withTiming(1,{duration:100}):withTiming(0,{duration:100})};}",location:"/Volumes/T7/phamduc/policy/src/components/Checkbox.tsx",sourceMap:'{"version":3,"names":["anonymous","isSelected","withTiming","__closure","opacity","value","duration"],"sources":["/Volumes/T7/phamduc/policy/src/components/Checkbox.tsx"],"mappings":"AA2BM,SAAAA,UAAA,QAAAC,UAAA,CAAAC,UAAA,OAAAC,SAAA,OAAO,CACLC,OAAO,CAAEH,UAAU,CAACI,KAAK,CACrBH,UAAU,CAAC,CAAC,CAAE,CAACI,QAAQ,CAAE,GAAG,CAAC,CAAC,CAC9BJ,UAAU,CAAC,CAAC,CAAE,CAACI,QAAQ,CAAE,GAAG,CAAC,CACnC,CAAC"}',version:"3.5.4"},C=(t.Checkbox=(0,a.memo)((function(e){var t,r,o=e.keyName,i=e.onChangeValue,l=e.size,u=void 0===l?24:l,d=(0,s.useSharedValue)(!1),f=(0,a.useCallback)((function(){d.value=!d.value,i(o,!d.value)}),[o,d]),v=(0,s.useAnimatedStyle)((t=[new n.g.Error,-3,-27],(r=function(){return{opacity:d.value?(0,s.withTiming)(1,{duration:100}):(0,s.withTiming)(0,{duration:100})}}).__closure={isSelected:d,withTiming:s.withTiming},r.__initData=p,r.__workletHash=1836568895750,r.__stackDetails=t,r),[]);return(0,c.jsx)(C,{size:u,onPress:f,children:(0,c.jsx)(h,{source:A.IC_FILLED_CHECK_CIRCLE,size:u,style:v})})})),u.default.TouchableOpacity(o||(o=(0,l.default)(["\n  height: ","px;\n  width: ","px;\n  border-width: 1px;\n  border-radius: ","px;\n  border-color: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return 17*e.size/24-.5}),(function(e){return 17*e.size/24-.5}),(function(e){return e.size/17}),(function(e){return e.theme.neutral2}))),h=(0,u.default)(s.default.Image)(i||(i=(0,l.default)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size}))},66205:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailSectionWrapper=void 0;var o,i,l,a,u,s,A=r(n(19452)),c=n(4007),d=n(25277),f=m(n(84481)),p=m(n(46763)),C=n(92571),h=n(33823);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var y={code:"function anonymous(){const{visible,contentHeight}=this.__closure;return{_visible:visible.value,_contentHeight:contentHeight.value};}",location:"/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","contentHeight","__closure","_visible","value","_contentHeight"],"sources":["/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx"],"mappings":"AA2CI,SAAAA,UAAA,QAAAC,OAAA,CAAAC,aAAA,OAAAC,SAAA,OAAO,CACLC,QAAQ,CAAEH,OAAO,CAACI,KAAK,CACvBC,cAAc,CAAEJ,aAAa,CAACG,KAChC,CAAC"}',version:"3.5.4"},g={code:"function anonymous(cur,prev){const{animatedHeight,withTiming}=this.__closure;if((prev===null||prev===void 0?void 0:prev._contentHeight)==0){animatedHeight.value=cur._contentHeight;return;}if(cur._visible==1){animatedHeight.value=withTiming(cur._contentHeight,{duration:200});}else{animatedHeight.value=withTiming(0,{duration:200});}}",location:"/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","cur","prev","animatedHeight","withTiming","__closure","_contentHeight","value","_visible","duration"],"sources":["/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx"],"mappings":"AA+CI,QAAC,CAAAA,SAAKA,CAAAC,GAAS,CAAAC,IAAA,QAAAC,cAAA,CAAAC,UAAA,OAAAC,SAAA,CACb,GAAI,CAAAH,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,cAAc,GAAI,CAAC,CAAE,CAC7BH,cAAc,CAACI,KAAK,CAAGN,GAAG,CAACK,cAAc,CACzC,OACF,CACA,GAAIL,GAAG,CAACO,QAAQ,EAAI,CAAC,CAAE,CACrBL,cAAc,CAACI,KAAK,CAAGH,UAAU,CAACH,GAAG,CAACK,cAAc,CAAE,CAACG,QAAQ,CAAE,GAAG,CAAC,CAAC,CACxE,CAAC,IAAM,CACLN,cAAc,CAACI,KAAK,CAAGH,UAAU,CAAC,CAAC,CAAE,CAACK,QAAQ,CAAE,GAAG,CAAC,CAAC,CACvD,CACF"}',version:"3.5.4"},x={code:"function anonymous(){const{interpolate,animatedRotate}=this.__closure;return{transform:[{rotate:interpolate(animatedRotate.value,[0,1],[-90,0])+'deg'}]};}",location:"/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolate","animatedRotate","__closure","transform","rotate","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx"],"mappings":"AA8DI,SAAAA,UAAA,QAAAC,WAAA,CAAAC,cAAA,OAAAC,SAAA,OAAO,CACLC,SAAS,CAAE,CACT,CACEC,MAAM,CAAEJ,WAAW,CAACC,cAAc,CAACI,KAAK,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,EAAE,CAAE,CAAC,CAAC,CAAC,CAAG,KAChE,CAAC,CAEL,CAAC"}',version:"3.5.4"},_={code:"function anonymous(){const{animatedHeight,interpolate,contentHeight}=this.__closure;return{height:animatedHeight.value,opacity:interpolate(animatedHeight.value,[0,contentHeight.value],[0,1])};}",location:"/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","animatedHeight","interpolate","contentHeight","__closure","height","value","opacity"],"sources":["/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx"],"mappings":"AAyEI,SAAAA,UAAA,QAAAC,cAAA,CAAAC,WAAA,CAAAC,aAAA,OAAAC,SAAA,OAAO,CACLC,MAAM,CAAEJ,cAAc,CAACK,KAAK,CAC5BC,OAAO,CAAEL,WAAW,CAClBD,cAAc,CAACK,KAAK,CACpB,CAAC,CAAC,CAAEH,aAAa,CAACG,KAAK,CAAC,CACxB,CAAC,CAAC,CAAE,CAAC,CACP,CACF,CAAC"}',version:"3.5.4"},b={code:"function anonymous(e){const{contentHeight}=this.__closure;contentHeight.value=e.nativeEvent.layout.height;}",location:"/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx",sourceMap:'{"version":3,"names":["anonymous","e","contentHeight","__closure","value","nativeEvent","layout","height"],"sources":["/Volumes/T7/phamduc/policy/src/components/DetailSectionWrapper/index.tsx"],"mappings":"AAqFI,QAAC,CAAAA,SAAWA,CAAAC,CAAA,QAAAC,aAAA,OAAAC,SAAA,CAEVD,aAAa,CAACE,KAAK,CAAGH,CAAC,CAACI,WAAW,CAACC,MAAM,CAACC,MAAM,CACnD"}',version:"3.5.4"},j=(t.DetailSectionWrapper=(0,f.memo)((function(e){e.isDivider;var t,r,o=(0,p.useSharedValue)(1),i=(0,p.useSharedValue)(1),l=(0,p.useSharedValue)(0),a=(0,p.useSharedValue)(0),u=(0,f.useCallback)((function(){if(1==o.value)return o.value=0,void(i.value=(0,p.withTiming)(0,{duration:200}));o.value=1,i.value=(0,p.withTiming)(1,{duration:200})}),[o,i]);(0,p.useAnimatedReaction)((t=[new n.g.Error,-3,-27],(r=function(){return{_visible:o.value,_contentHeight:a.value}}).__closure={visible:o,contentHeight:a},r.__initData=y,r.__workletHash=227105931522,r.__stackDetails=t,r),function(){var e=[new n.g.Error,-3,-27],t=function(e,t){0!=(null==t?void 0:t._contentHeight)?1==e._visible?l.value=(0,p.withTiming)(e._contentHeight,{duration:200}):l.value=(0,p.withTiming)(0,{duration:200}):l.value=e._contentHeight};return t.__closure={animatedHeight:l,withTiming:p.withTiming},t.__initData=g,t.__workletHash=9305212266114,t.__stackDetails=e,t}(),[]);var s=(0,p.useAnimatedStyle)(function(){var e=[new n.g.Error,-3,-27],t=function(){return{transform:[{rotate:(0,p.interpolate)(i.value,[0,1],[-90,0])+"deg"}]}};return t.__closure={interpolate:p.interpolate,animatedRotate:i},t.__initData=x,t.__workletHash=0xda61a9005ff,t.__stackDetails=e,t}(),[]),A=(0,p.useAnimatedStyle)(function(){var e=[new n.g.Error,-4,-27],t=function(){return{height:l.value,opacity:(0,p.interpolate)(l.value,[0,a.value],[0,1])}};return t.__closure={animatedHeight:l,interpolate:p.interpolate,contentHeight:a},t.__initData=_,t.__workletHash=1505093327717,t.__stackDetails=e,t}(),[]),c=(0,p.useWorkletCallback)(function(){var e=[new n.g.Error,-2,-27],t=function(e){a.value=e.nativeEvent.layout.height};return t.__closure={contentHeight:a},t.__initData=b,t.__workletHash=0xf0f72b63548,t.__stackDetails=e,t}(),[a]);return(0,h.jsxs)(j,{children:[(0,h.jsxs)(w,{disabled:!e.isCollapsable,onPress:u,children:[(0,h.jsx)(O,{children:e.title}),e.rightComp?e.rightComp:e.isCollapsable?(0,h.jsx)(S,{children:(0,h.jsx)(D,{style:s,source:d.IC_OUTLINED_EXPAND_MORE})}):null]}),(0,h.jsx)(M,{style:[{overflow:"scroll"},e.isCollapsable?A:null],children:(0,h.jsx)(C.View,{style:e.contentStyle,onLayout:c,children:e.children})})]})})),c.styled.View(o||(o=(0,A.default)(["\n  //padding: 12px 16px;\n  background-color: ",";\n  margin-top: 8px;\n"])),(function(e){return e.theme.backgroundColor}))),w=c.styled.TouchableOpacity(i||(i=(0,A.default)(["\n  flex-direction: row;\n  padding: 12px 16px;\n  align-items: center;\n"]))),O=c.styled.Text(l||(l=(0,A.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  font-family: ",";\n  flex: 1;\n  color: ",";\n"])),c.Fonts.Medium,(function(e){return e.theme.neutral1})),M=(0,c.styled)(p.default.View)(a||(a=(0,A.default)([""]))),S=c.styled.View(u||(u=(0,A.default)([""]))),D=(0,c.styled)(p.default.Image)(s||(s=(0,A.default)(["\n  height: 16px;\n  width: 16px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral1}))},70673:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MapList=void 0;t.MapList=function(e){var t=e.data,n=e.renderItem;return t.map((function(e,t){return n({item:e,index:t})}))}},19855:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var o,i,l,a,u,s=r(n(19452)),A=r(n(70215)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),d=n(4007),f=n(33823),p=["source","title","textColor"];function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}t.MenuItem=(0,c.memo)((function(e){var t=e.source,n=e.title,r=e.textColor,o=(0,A.default)(e,p);return(0,f.jsxs)(h,Object.assign({},o,{children:[(0,f.jsxs)(v,{children:[t?(0,f.jsx)(m,{source:t}):null,(0,f.jsx)(y,{textColor:r,children:n})]}),(0,f.jsx)(g,{})]}))}));var h=d.styled.TouchableOpacity(o||(o=(0,s.default)([""]))),v=d.styled.View(i||(i=(0,s.default)(["\n  flex-direction: row;\n  align-items: center;\n  padding: 16px;\n"]))),m=d.styled.Image(l||(l=(0,s.default)(["\n  margin-right: 8px;\n"]))),y=d.styled.Text(a||(a=(0,s.default)(["\n  color: ",";\n"])),(function(e){return e.textColor||e.theme.neutral1})),g=d.styled.View(u||(u=(0,s.default)(["\n  height: 1px;\n  background-color: ",";\n  margin: 0 16px;\n"])),(function(e){return e.theme.neutral5}))},48115:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedCollapseContent=void 0;var o,i,l,a=r(n(19452)),u=v(n(84481)),s=r(n(95194)),A=v(n(46763)),c=r(n(55174)),d=n(91087),f=n(4007),p=n(20349),C=n(33823);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var m={code:"function anonymous({nativeEvent:{layout:{height:_height}}}){const{contentHeight,visible}=this.__closure;contentHeight.value=_height;visible.value=_height>80;}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","nativeEvent","layout","height","_height","contentHeight","visible","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AA+BM,QAAC,CAAAA,UAAA,CACCC,WAAW,CAAE,CACXC,MAAM,CAAE,CAACC,MAAM,CAAEC,OAAO,CAC1B,CACC,CAAiB,CAAK,OAAAC,aAAA,CAAAC,OAAA,OAAAC,SAAA,CACvBF,aAAa,CAACG,KAAK,CAAGJ,OAAO,CAC7BE,OAAO,CAACE,KAAK,CAAGJ,OAAO,CAAG,EAAE,CAC9B"}',version:"3.5.4"},y={code:"function anonymous(){const{maxHeight,contentHeight}=this.__closure;var _maxHeight;return{_maxHeight:(_maxHeight=maxHeight)===null||_maxHeight===void 0?void 0:_maxHeight.value,_contentHeight:contentHeight.value};}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","maxHeight","contentHeight","__closure","_maxHeight","value","_contentHeight"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AA2CM,SAAAA,UAAA,QAAAC,SAAA,CAAAC,aAAA,OAAAC,SAAA,KAAAC,UAAA,OAAO,CACLA,UAAU,EAAAA,UAAA,CAAEH,SAAS,UAAAG,UAAA,iBAATA,UAAA,CAAWC,KAAK,CAC5BC,cAAc,CAAEJ,aAAa,CAACG,KAChC,CAAC"}',version:"3.5.4"},g={code:"function anonymous(cur,prev){const{height,visible}=this.__closure;if(cur._maxHeight&&cur._contentHeight&&height.value===80){height.value=Math.min(cur._maxHeight,cur._contentHeight);visible.value=cur._maxHeight<cur._contentHeight;}}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","cur","prev","height","visible","__closure","_maxHeight","_contentHeight","value","Math","min"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AA+CM,QAAC,CAAAA,SAAKA,CAAAC,GAAS,CAAAC,IAAA,QAAAC,MAAA,CAAAC,OAAA,OAAAC,SAAA,CACb,GAAIJ,GAAG,CAACK,UAAU,EAAIL,GAAG,CAACM,cAAc,EAAIJ,MAAM,CAACK,KAAK,GAAK,EAAE,CAAE,CAC/DL,MAAM,CAACK,KAAK,CAAGC,IAAI,CAACC,GAAG,CAACT,GAAG,CAACK,UAAU,CAAEL,GAAG,CAACM,cAAc,CAAC,CAC3DH,OAAO,CAACI,KAAK,CAAGP,GAAG,CAACK,UAAU,CAAGL,GAAG,CAACM,cAAc,CACrD,CACF"}',version:"3.5.4"},x={code:"function anonymous(){const{height}=this.__closure;if(!height.value){return{overflow:'scroll'};}return{maxHeight:height.value,overflow:'scroll'};}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","height","__closure","value","overflow","maxHeight"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AAuD2C,SAAAA,SAAMA,CAAA,QAAAC,MAAA,OAAAC,SAAA,CAC3C,GAAI,CAACD,MAAM,CAACE,KAAK,CAAE,CACjB,MAAO,CACLC,QAAQ,CAAE,QACZ,CAAC,CACH,CAEA,MAAO,CACLC,SAAS,CAAEJ,MAAM,CAACE,KAAK,CACvBC,QAAQ,CAAE,QACZ,CAAC,CACH"}',version:"3.5.4"},_={code:"function anonymous(){const{visible}=this.__closure;return{opacity:visible.value?1:0,height:visible.value?29:0};}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","__closure","opacity","value","height"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AAoE+C,SAAAA,SAAMA,CAAA,QAAAC,OAAA,OAAAC,SAAA,CAC/C,MAAO,CACLC,OAAO,CAAEF,OAAO,CAACG,KAAK,CAAG,CAAC,CAAG,CAAC,CAC9BC,MAAM,CAAEJ,OAAO,CAACG,KAAK,CAAG,EAAE,CAAG,CAC/B,CAAC,CACH"}',version:"3.5.4"},b={code:"function anonymous(){const{visible}=this.__closure;return{maxHeight:visible.value?200:0,overflow:'scroll'};}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","__closure","maxHeight","value","overflow"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AA2EiD,SAAAA,SAAMA,CAAA,QAAAC,OAAA,OAAAC,SAAA,CACjD,MAAO,CACLC,SAAS,CAAEF,OAAO,CAACG,KAAK,CAAG,GAAG,CAAG,CAAC,CAClCC,QAAQ,CAAE,QACZ,CAAC,CACH"}',version:"3.5.4"},j={code:"function anonymous(){const{visible,maxHeight,contentHeight,height,withTiming}=this.__closure;visible.value=!visible.value;if(maxHeight){if(maxHeight.value>0){if(contentHeight.value>maxHeight.value){height.value=withTiming(contentHeight.value,{duration:500},function(finished){if(finished){maxHeight.value=contentHeight.value;}});}}else{height.value=withTiming(contentHeight.value,{duration:500},function(finished){if(finished){maxHeight.value=contentHeight.value;}});}}else{height.value=withTiming(contentHeight.value,{duration:500});}}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","visible","maxHeight","contentHeight","height","withTiming","__closure","value","duration","finished"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AAkFyC,SAAAA,SAAMA,CAAA,QAAAC,OAAA,CAAAC,SAAA,CAAAC,aAAA,CAAAC,MAAA,CAAAC,UAAA,OAAAC,SAAA,CACzCL,OAAO,CAACM,KAAK,CAAG,CAACN,OAAO,CAACM,KAAK,CAC9B,GAAIL,SAAS,CAAE,CACb,GAAIA,SAAS,CAACK,KAAK,CAAG,CAAC,CAAE,CACvB,GAAIJ,aAAa,CAACI,KAAK,CAAGL,SAAS,CAACK,KAAK,CAAE,CACzCH,MAAM,CAACG,KAAK,CAAGF,UAAU,CACvBF,aAAa,CAACI,KAAK,CACnB,CAACC,QAAQ,CAAE,GAAG,CAAC,CACf,SAAAC,QAAQ,CAAI,CACV,GAAIA,QAAQ,CAAE,CACZP,SAAS,CAACK,KAAK,CAAGJ,aAAa,CAACI,KAAK,CACvC,CACF,CACF,CAAC,CACH,CACF,CAAC,IAAM,CACLH,MAAM,CAACG,KAAK,CAAGF,UAAU,CACvBF,aAAa,CAACI,KAAK,CACnB,CAACC,QAAQ,CAAE,GAAG,CAAC,CACf,SAAAC,QAAQ,CAAI,CACV,GAAIA,QAAQ,CAAE,CACZP,SAAS,CAACK,KAAK,CAAGJ,aAAa,CAACI,KAAK,CACvC,CACF,CACF,CAAC,CACH,CACF,CAAC,IAAM,CACLH,MAAM,CAACG,KAAK,CAAGF,UAAU,CAACF,aAAa,CAACI,KAAK,CAAE,CAACC,QAAQ,CAAE,GAAG,CAAC,CAAC,CACjE,CACF"}',version:"3.5.4"},w={code:"function anonymous(finished){const{maxHeight,contentHeight}=this.__closure;if(finished){maxHeight.value=contentHeight.value;}}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","finished","maxHeight","contentHeight","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AA0Fc,SAAAA,UAAQC,QAAI,QAAAC,SAAA,CAAAC,aAAA,OAAAC,SAAA,CACV,GAAIH,QAAQ,CAAE,CACZC,SAAS,CAACG,KAAK,CAAGF,aAAa,CAACE,KAAK,CACvC,CACF"}',version:"3.5.4"},O={code:"function anonymous(finished){const{maxHeight,contentHeight}=this.__closure;if(finished){maxHeight.value=contentHeight.value;}}",location:"/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx",sourceMap:'{"version":3,"names":["anonymous","finished","maxHeight","contentHeight","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/Text/AnimatedCollapseContent.tsx"],"mappings":"AAqGY,SAAAA,UAAQC,QAAI,QAAAC,SAAA,CAAAC,aAAA,OAAAC,SAAA,CACV,GAAIH,QAAQ,CAAE,CACZC,SAAS,CAACG,KAAK,CAAGF,aAAa,CAACE,KAAK,CACvC,CACF"}',version:"3.5.4"},M=(t.AnimatedCollapseContent=(0,u.memo)((function(e){var t,r,o=e.content,i=e.backgroundColor,l=e.textColor,a=e.blurColor,u=e.maxHeight,s=(0,A.useSharedValue)(0),f=(0,A.useSharedValue)(80),h=(0,A.useSharedValue)(!0),v=(0,A.useWorkletCallback)((t=[new n.g.Error,-3,-27],(r=function(e){var t=e.nativeEvent.layout.height;s.value=t,h.value=t>80}).__closure={contentHeight:s,visible:h},r.__initData=m,r.__workletHash=0xb50aded4883,r.__stackDetails=t,r),[s]);(0,A.useAnimatedReaction)(function(){var e=[new n.g.Error,-3,-27],t=function(){return{_maxHeight:null==u?void 0:u.value,_contentHeight:s.value}};return t.__closure={maxHeight:u,contentHeight:s},t.__initData=y,t.__workletHash=0x98badd8ae9b,t.__stackDetails=e,t}(),function(){var e=[new n.g.Error,-3,-27],t=function(e,t){e._maxHeight&&e._contentHeight&&80===f.value&&(f.value=Math.min(e._maxHeight,e._contentHeight),h.value=e._maxHeight<e._contentHeight)};return t.__closure={height:f,visible:h},t.__initData=g,t.__workletHash=0x92b04d3c0e7,t.__stackDetails=e,t}());var P=(0,A.useAnimatedStyle)(function(){var e=[new n.g.Error,-2,-27],t=function(){return f.value?{maxHeight:f.value,overflow:"scroll"}:{overflow:"scroll"}};return t.__closure={height:f},t.__initData=x,t.__workletHash=0x9bc1a581426,t.__stackDetails=e,t}()),H=(0,A.useAnimatedStyle)(function(){var e=[new n.g.Error,-2,-27],t=function(){return{opacity:h.value?1:0,height:h.value?29:0}};return t.__closure={visible:h},t.__initData=_,t.__workletHash=0xd041ce38e84,t.__stackDetails=e,t}()),T=(0,A.useAnimatedStyle)(function(){var e=[new n.g.Error,-2,-27],t=function(){return{maxHeight:h.value?200:0,overflow:"scroll"}};return t.__closure={visible:h},t.__initData=b,t.__workletHash=0xf511f9228ae,t.__stackDetails=e,t}()),k=(0,A.useWorkletCallback)(function(){var e=[new n.g.Error,-6,-27],t=function(){h.value=!h.value,u?u.value>0?s.value>u.value&&(f.value=(0,A.withTiming)(s.value,{duration:500},function(){var e=[new n.g.Error,-3,-27],t=function(e){e&&(u.value=s.value)};return t.__closure={maxHeight:u,contentHeight:s},t.__initData=w,t.__workletHash=5391625212943,t.__stackDetails=e,t}())):f.value=(0,A.withTiming)(s.value,{duration:500},function(){var e=[new n.g.Error,-3,-27],t=function(e){e&&(u.value=s.value)};return t.__closure={maxHeight:u,contentHeight:s},t.__initData=O,t.__workletHash=5391625212943,t.__stackDetails=e,t}()):f.value=(0,A.withTiming)(s.value,{duration:500})};return t.__closure={visible:h,maxHeight:u,contentHeight:s,height:f,withTiming:A.withTiming},t.__initData=j,t.__workletHash=667615460435,t.__stackDetails=e,t}(),[]);return o?(0,C.jsxs)(M,{backgroundColor:i,children:[(0,C.jsxs)(A.default.View,{style:P,children:[(0,C.jsx)(A.default.View,{onLayout:v,children:(0,C.jsx)(d.HTMLRenderer,{htmlContent:o||"",containerStyle:[{overflow:"hidden",backgroundColor:"transparent"}],defaultTextProps:{style:{fontSize:14,lineHeight:20,color:l||"#333"}}})}),(0,C.jsx)(A.default.View,{style:[H,{position:"absolute",bottom:0,left:0,right:0}],children:(0,C.jsx)(c.default,{colors:[(0,p.hexToRgbA)(a||"#ffffff",0),(0,p.hexToRgbA)(a||"#ffffff",.3),(0,p.hexToRgbA)(a||"#ffffff",.4),(0,p.hexToRgbA)(a||"#ffffff",.5),(0,p.hexToRgbA)(a||"#ffffff",.6),(0,p.hexToRgbA)(a||"#ffffff",.7),(0,p.hexToRgbA)(a||"#ffffff",.8),(0,p.hexToRgbA)(a||"#ffffff",.9),(0,p.hexToRgbA)(a||"#ffffff",1)],style:{height:"100%",width:"100%"}})})]}),(0,C.jsx)(S,{onPress:k,children:(0,C.jsx)(A.default.View,{style:T,children:(0,C.jsx)(D,{children:"See more"})})})]}):null})),(0,s.default)(A.default.View)(o||(o=(0,a.default)(["\n  margin-bottom: 16px;\n  border-radius: 8px;\n  overflow: scroll;\n  background-color: ",";\n  border-width: 1px;\n  border-color: #ebebf1;\n  padding: 12px;\n"])),(function(e){return e.backgroundColor||"#fff"}))),S=s.default.TouchableOpacity(i||(i=(0,a.default)(["\n  flex: 1;\n  justify-content: center;\n  align-items: center;\n  overflow: scroll;\n"]))),D=s.default.Text(l||(l=(0,a.default)(["\n  font-size: 14px;\n  line-height: 24px;\n  color: #267cde;\n  font-family: ",";\n"])),f.Fonts.Medium)},33254:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.TextAvatar=void 0;var o,i,l=r(n(19452)),a=r(n(70215)),u=n(4007),s=n(84481),A=n(20349),c=n(33823),d=["text","size"],f=(t.TextAvatar=(0,s.memo)((function(e){var t=e.text,n=e.size,r=(0,a.default)(e,d);return(0,c.jsx)(f,Object.assign({},r,{size:n,color:(0,A.strToColor)(t),children:(0,c.jsx)(p,{children:(0,A.firstChar)(t)})}))})),u.styled.View(o||(o=(0,l.default)(["\n  width: ","px;\n  height: ","px;\n  border-radius: ","px;\n  background-color: ",";\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.color}))),p=u.styled.Text(i||(i=(0,l.default)(["\n  font-family: ",";\n  font-size: 16px;\n  line-height: 20px;\n  color: ",";\n"])),u.Fonts.Medium,u.Colors.white)},7462:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.UsersAvatarRow=void 0;var o,i,l,a=r(n(19452)),u=n(4007),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),A=n(91087),c=n(70673),d=n(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.UsersAvatarRow=(0,s.memo)((function(e){var t=e.ids,n=e.maxUsers,r=void 0===n?6:n,o=e.size,i=e.onPress;if(null==t||!t.length)return null;var l=(0,u.useTheme)(),a=(0,s.useMemo)((function(){return t.slice(0,r)}),[t.length]),f=(0,s.useMemo)((function(){return Math.min(100,Math.max(0,t.length-r)).toString()}),[t.length,r]);return(0,d.jsxs)(p,{onPress:i,hitSlop:{top:8,bottom:8,left:8,right:8},children:[(0,d.jsx)(c.MapList,{data:a,renderItem:function(e){var t=e.item,n=e.index;return(0,d.jsx)(A.UserAvatar,{userKey:t||"",size:o,style:{marginRight:-o/3,borderWidth:1,borderColor:l.backgroundColor}},n)}}),"0"!==f&&(0,d.jsx)(h,{size:o,style:{marginRight:-o/3,borderWidth:1,borderColor:l.backgroundColor},children:(0,d.jsx)(C,{style:{fontSize:o/3,lineHeight:o/3+2},children:"100"==f?"+99":f})})]})}));var p=u.styled.TouchableOpacity(o||(o=(0,a.default)(["\n  flex-direction: row;\n"]))),C=u.styled.Text(i||(i=(0,a.default)(["\n  color: ",";\n"])),(function(e){return e.theme.backgroundColor})),h=u.styled.View(l||(l=(0,a.default)(["\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: ","px;\n  width: ","px;\n  height: ","px;\n"])),(function(e){return e.theme.neutral2}),(function(e){return e.size/2}),(function(e){return e.size}),(function(e){return e.size}))},52647:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.UserItem=t.MEMBER_ROW_HEIGHT=void 0;var o,i,l,a,u,s,A=r(n(19452)),c=r(n(17156)),d=r(n(27424)),f=n(4007),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),C=n(57812),h=r(n(46763)),v=n(23244),m=n(91087),y=n(33823);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var x=h.default.createAnimatedComponent(v.TouchableOpacity),_=(t.UserItem=(0,p.memo)((function(e){var t=e.item,n=(0,C.useUserList)(),r=n.onPressItem,o=(n.selectedIds,n._onTrashPress),i=(n.rawData,n.data,n.hideTrashIcon),l=(0,f.useBoolean)(!1),a=(0,d.default)(l,3),u=a[0],s=a[1],A=a[2],h=(0,f.useUser)(t),v=(0,p.useCallback)((function(){r(t)}),[t]),g=(0,f.useAsyncFn)((0,c.default)((function*(){yield null==o?void 0:o(t)})),[t]),x=(0,d.default)(g,2),_=x[0],M=_.loading,S=_.error,D=x[1];return(0,f.useAutoToastError)(S),(0,y.jsxs)(b,{onPress:v,onLongPress:s,children:[(0,y.jsx)(m.UserAvatar,{size:40,userKey:t}),(0,y.jsxs)(j,{children:[(0,y.jsx)(w,{numberOfLines:1,children:(null==h?void 0:h.name)||"Deactivated account"}),null!=h&&h.title?(0,y.jsx)(O,{numberOfLines:1,children:h.title}):null]}),i?null:(0,y.jsx)(m.UIButton,{onPress:D,source:f.IC_TRASH_OUTLINE,loading:M,hideContentWhileLoading:!0}),(0,y.jsx)(m.ProfileLightBox,{userKey:t,isVisible:u,onCloseRequest:A})]})})),(0,f.styled)(x)(o||(o=(0,A.default)(["\n  padding: 12px 16px;\n"]))),f.styled.Text(i||(i=(0,A.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral1})),t.MEMBER_ROW_HEIGHT=56),b=f.styled.TouchableOpacity(l||(l=(0,A.default)(["\n  height: ","px;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 16px;\n  width: 100%;\n  border-color: ",";\n"])),_,(function(e){return e.theme.neutral5})),j=f.styled.View(a||(a=(0,A.default)(["\n  margin-left: 16px;\n  flex: 1;\n"]))),w=f.styled.Text(u||(u=(0,A.default)(["\n  font-size: 16px;\n  font-family: ",";\n  line-height: 20px;\n  color: ",";\n"])),f.Fonts.Bold,(function(e){return e.theme.neutral1})),O=f.styled.Text(s||(s=(0,A.default)(["\n  font-size: 14px;\n  line-height: 18px;\n  color: ",";\n"])),(function(e){return e.theme.grey3}))},31158:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.UserListScreen=void 0;var o=r(n(861)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),l=n(91087),a=n(57812),u=n(25955),s=n(4007),A=n(74186),c=n(62942),d=n(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=(0,s.memoForwardRef)((function(e,t){e.data;var n,r=e.title,s=e.onSave,f=(e.multiple,e.rightActionText,(0,a.useUserList)()),p=f.selectedIds,C=f.rawData,h=f.setRawData,v=((0,i.useCallback)((function(){null==s||s(p.value)}),[]),(0,i.useCallback)((function(e){h((function(t){return(0,o.default)(t).filter((function(t){return t!==e}))}))}),[]));return(0,i.useImperativeHandle)(t,(function(){return Object.assign({},t.current,{removeItem:v})}),[t]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(A.BottomSheetView,{children:(0,d.jsx)(l.BottomMenuHeader,{title:r,onClose:null==(n=c.UserListRef.current)?void 0:n.dismiss})}),(0,d.jsx)(u.UserList,{data:C,isBottomSheet:!0})]})}));t.UserListScreen=(0,s.memoForwardRef)((function(e,t){return(0,d.jsx)(l.MyBottomSheet,{ref:t,name:e.name,snapPoints:["100%"],children:function(e){return(0,d.jsx)(a.UserListProvider,Object.assign({},e.data,{children:(0,d.jsx)(p,Object.assign({ref:t},e.data))}))}})}))},25955:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserList=void 0;var r=n(4007),o=n(91087),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),l=n(52647),a=n(33823);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.UserList=(0,r.memoForwardRef)((function(e){var t=e.data,n=e.isBottomSheet,r=(0,i.useCallback)((function(e){var t=e.item;return(0,a.jsx)(l.UserItem,{item:t})}),[]);return(0,a.jsx)(o.UIFlashList,{data:t,renderItem:r,estimatedItemSize:50,isBottomSheet:n})}))},57812:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.useUserList=t.UserListProvider=void 0;var o=r(n(17156)),i=r(n(861)),l=r(n(27424)),a=n(84481),u=r(n(37535)),s=n(46763),A=(0,u.default)((function(e){var t=e.data,n=(e.title,e.onSave),r=e.multiple,u=(e.rightActionText,e.onTrashPress),A=e.hideTrashIcon,c=(0,a.useState)(t),d=(0,l.default)(c,2),f=d[0],p=d[1],C=(0,s.useSharedValue)([]),h=(0,a.useCallback)((function(e){var t=(0,i.default)(C.value);if(r)return-1===C.value.indexOf(e)?C.value=[].concat((0,i.default)(t),[e]):C.value=t.filter((function(t){return t!=e}));null==n||n([e])}),[C,n]),v=(0,a.useCallback)(function(){var e=(0,o.default)((function*(e){yield null==u?void 0:u([e])}));return function(t){return e.apply(this,arguments)}}(),[u]);return(0,a.useMemo)((function(){return{data:t,hideTrashIcon:A,rawData:f,setRawData:p,selectedIds:C,onPressItem:h,_onTrashPress:v}}),[C,v,h,f,p,t,A])}),(function(e){return e})),c=(0,l.default)(A,2);t.UserListProvider=c[0],t.useUserList=c[1]},62942:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.navigateUserListScreen=t.UserListRef=void 0;var r=n(4007),o=n(84481);t.UserListRef=(0,o.createRef)(),t.navigateUserListScreen=(0,r.createNavigate)("UserListScreen")},9011:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(91087);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n(58469);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},69189:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4007);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},4669:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.ApproveButton=void 0;var o,i,l,a,u,s=r(n(19452)),A=r(n(17156)),c=r(n(27424)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),f=n(25277),p=n(92571),C=n(4007),h=n(91087),v=n(23921),m=n(20349),y=n(11361),g=n(20222),x=n(30975),_=n(33823);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}t.ApproveButton=(0,d.memo)((function(e){var t,n=e.approvableData,r=e.id,o=e.animatedButtonHeight;if(-1==n.status)return null;var i=(0,d.useState)(!1),l=(0,c.default)(i,2),a=l[0],u=l[1],s=(0,C.useBoolean)(),b=(0,c.default)(s,3),D=b[0],P=b[1],H=b[2],T=(0,C.useBoolean)(),k=(0,c.default)(T,3),E=k[0],I=k[1],V=k[2],K=(0,C.useTheme)(),W=(0,C.useAsyncFn)((0,A.default)((function*(){return yield(0,x.requestAttestPolicy)({id:r})})),[r]),B=(0,c.default)(W,2),G=B[0],L=G.loading,F=G.error,R=B[1];return(0,C.useAutoToastError)(F),(0,_.jsxs)(S,{onLayout:function(e){o&&(o.value=e.nativeEvent.layout.height)},children:[(0,_.jsxs)(j,{style:void 0!==n.backgroundColor?{backgroundColor:n.backgroundColor}:{},children:[n.status==v.EReview.attest?(0,_.jsx)(g.Checkbox,{keyName:"",onChangeValue:function(e,t){u(t)}}):(0,_.jsx)(w,{style:{tintColor:n.color},source:0===n.status?f.IC_FILLED_CHECK_CIRCLE:1===n.status?f.IC_FILLED_SCHEDULE:f.IC_FILLED_CANCEL}),(0,_.jsxs)(O,{children:[n.text," ",(0,_.jsx)(p.Text,{style:{fontFamily:C.Fonts.Medium},children:null==(t=(0,C.getUser)(n.prevUserId||""))?void 0:t.name})]}),(0,_.jsx)(M,{style:{color:n.color},children:n.rightNum})]}),n.status==v.EReview.pending||n.hideButton?null:n.status==v.EReview.attest?(0,_.jsx)(h.MyButton,{containerStyle:{marginHorizontal:16},title:n.testRequired?(0,C.translate)("policy.do_test"):(0,C.translate)("policy.complete_attest"),backgroundColor:a?K.primaryColor:K.grey3,textColor:C.Colors.white,disabled:!a,onPress:n.testRequired?I:P}):(0,_.jsx)(h.BottomButton,{containerStyle:{paddingHorizontal:16},leftText:(0,C.translate)("policy.reject"),rightText:(0,C.translate)("policy.approve"),leftBgColor:C.Colors.red1,rightBgColor:C.Colors.green1,textColor:C.Colors.white,leftContainerStyle:{borderRadius:8},rightContainerStyle:{borderRadius:8},onLeftPress:function(){(0,m.navigateToApproveScreen)({id:r,status:-1,title:(0,C.translate)("policy.reject_policy")})},onRightPress:function(){(0,m.navigateToApproveScreen)({id:r,status:1,title:(0,C.translate)("policy.approve_policy")})}}),(0,_.jsx)(y.AnimatedBottomSpace,{}),(0,_.jsx)(h.ConfirmationDialog,{isVisible:D,onCloseRequest:H,title:(0,C.translate)("policy.complete_attest"),content:(0,C.translate)("policy.are_you_sure_to_attest_this_document"),buttons:[{text:(0,C.translate)("policy.close")},{text:(0,C.translate)("policy.confirm"),color:C.Colors.white,backgroundColor:K.primaryColor,onPress:R,loading:L}]}),(0,_.jsx)(h.ConfirmationDialog,{isVisible:E,onCloseRequest:V,title:(0,C.translate)("policy.doTest"),buttons:[]})]})}));var j=C.styled.View(o||(o=(0,s.default)(["\n  flex-direction: row;\n  margin-bottom: 12px;\n  padding: 8px 16px;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){return e.theme.grey6})),w=C.styled.Image(i||(i=(0,s.default)(["\n  width: 16px;\n  height: 16px;\n"]))),O=C.styled.Text(l||(l=(0,s.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n  flex: 1;\n  margin-left: 4px;\n"])),(function(e){return e.theme.neutral1})),M=C.styled.Text(a||(a=(0,s.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 4px;\n  font-family: ",";\n  color: ",";\n"])),C.Fonts.Medium,(function(e){return e.theme.neutral1})),S=C.styled.View(u||(u=(0,s.default)(["\n  background-color: ",";\n  padding-bottom: 12px;\n"])),(function(e){return e.theme.backgroundColor}))},41735:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentPreview=void 0;var o,i,l,a,u,s,A,c,d,f,p=r(n(19452)),C=r(n(17156)),h=r(n(27424)),v=n(4007),m=D(n(84481)),y=n(25277),g=n(77556),x=n(92571),_=D(n(46763)),b=n(20349),j=r(n(27867)),w=n(29881),O=n(78435),M=n(33823);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function D(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var P=["3gp","asf","avi","flv","m4v","mov","mp4","mpg","srt","swf","ts","vob","wmv"],H={top:8,bottom:8,left:8,right:8},T={code:"function anonymous(){const{animatedRotate}=this.__closure;return{transform:[{rotate:animatedRotate.value+'deg'}],height:17,width:17};}",location:"/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/AttachmentPreview.tsx",sourceMap:'{"version":3,"names":["anonymous","animatedRotate","__closure","transform","rotate","value","height","width"],"sources":["/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/AttachmentPreview.tsx"],"mappings":"AAuDyC,SAAAA,UAAA,QAAAC,cAAA,OAAAC,SAAA,OAAO,CAC5CC,SAAS,CAAE,CAAC,CAACC,MAAM,CAAEH,cAAc,CAACI,KAAK,CAAG,KAAK,CAAC,CAAC,CACnDC,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EACT,CAAC"}',version:"3.5.4"},k=(t.AttachmentPreview=(0,m.memo)((function(e){var t,r,o,i,l,a,u=(0,m.useRef)(null),s=(0,_.useSharedValue)(0),A=(0,_.useAnimatedStyle)((l=[new n.g.Error,-2,-27],(a=function(){return{transform:[{rotate:s.value+"deg"}],height:17,width:17}}).__closure={animatedRotate:s},a.__initData=T,a.__workletHash=0xd6d4d0e5dde,a.__stackDetails=l,a)),c=(0,m.useCallback)((function(){var e;null==(e=u.current)||e.toggle(),0==s.value?s.value=(0,_.withTiming)(-90,{duration:200}):s.value=(0,_.withTiming)(0,{duration:200})}),[u.current]),d=(0,w.useAsyncFn)((0,C.default)((function*(){var t;return(0,O.showFile)((null==(t=e.file)?void 0:t.url)||"")}))),f=(0,h.default)(d,2),p=f[0].loading,S=f[1],D=(0,m.useMemo)((function(){if(e.file){var t,n=null==(t=e.file)?void 0:t.fid.split(".");return-1!==P.indexOf(n[n.length-1])}return!1}),[null==(t=e.file)?void 0:t.fid]),R=(0,m.useMemo)((function(){var t;if(!e.file)return{uri:""};var n=null==(t=e.file)?void 0:t.fid.split(".");return-1!==P.indexOf(n[n.length-1])?{html:'<video width="100%" height="100%" controls autoplay="false">\n  <source src="'+e.file.url+'" type="video/mp4">\n</video>'}:{html:'<iframe src="'+("http://docs.google.com/gview?url="+e.file.url+"&embedded=true")+'" style="width: 100%; height: 100%" />'}}),[e.file]),U=(0,m.useCallback)((0,C.default)((function*(){var t;if(null!=(t=e.file)&&t.url){var n=yield v.File.download({url:e.file.url});return console.log(n),n}})),[null==(r=e.file)?void 0:r.url]);return(0,M.jsxs)(k,{isFirst:e.isFirst,children:[(0,M.jsxs)(E,{style:{opacity:p?.4:1},children:[(0,M.jsxs)(W,{onPress:D?c:S,disabled:p,children:[(0,M.jsx)(I,{children:null==(o=e.file)?void 0:o.name}),(0,M.jsx)(B,{children:(0,b.humanFileSize)((null==(i=e.file)?void 0:i.size)||0,!0)})]}),(0,M.jsx)(V,{hitSlop:H,onPress:U,children:(0,M.jsx)(K,{source:v.IC_DOWNLOAD})}),(0,M.jsx)(V,{hitSlop:H,onPress:c,children:(0,M.jsx)(K,{style:A,source:y.IC_OUTLINED_EXPAND_MORE})})]}),(0,M.jsx)(g.AnimatedCollapseWrapper,{ref:u,children:(0,M.jsxs)(x.TouchableOpacity,{onPress:S,disabled:p||D,children:[(0,M.jsx)(j.default,{mediaPlaybackRequiresUserAction:!0,scalesPageToFit:!1,scrollEnabled:!1,style:{height:200,opacity:.99},source:R}),(0,M.jsx)(F,{}),p?(0,M.jsxs)(G,{children:[(0,M.jsx)(L,{}),(0,M.jsx)(x.ActivityIndicator,{color:v.Colors.white})]}):null]})})]})})),v.styled.View(o||(o=(0,p.default)(["\n  margin-top: ","px;\n  border-radius: 4px;\n  border-width: 1px;\n  border-color: ",";\n"])),(function(e){return e.isFirst?0:12}),(function(e){return e.theme.neutral5}))),E=v.styled.View(i||(i=(0,p.default)(["\n  flex-direction: row;\n  align-items: flex-start;\n  padding: 8px 12px;\n"]))),I=v.styled.Text(l||(l=(0,p.default)(["\n  flex: 1;\n  font-size: 14px;\n  line-height: 20px;\n  font-family: ",";\n  margin-right: 16px;\n  color: ",";\n"])),v.Fonts.Bold,(function(e){return e.theme.neutral1})),V=v.styled.TouchableOpacity(a||(a=(0,p.default)(["\n  justify-content: center;\n  align-items: center;\n  margin-left: 8px;\n  height: 24px;\n"]))),K=(0,v.styled)(_.default.Image)(u||(u=(0,p.default)(["\n  width: 24px;\n  height: 24px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral1})),W=v.styled.TouchableOpacity(s||(s=(0,p.default)(["\n  flex: 1;\n"]))),B=v.styled.Text(A||(A=(0,p.default)(["\n  font-family: ",";\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n  margin-top: 4px;\n"])),v.Fonts.Regular,(function(e){return e.theme.neutral2})),G=v.styled.View(c||(c=(0,p.default)(["\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]))),L=v.styled.View(d||(d=(0,p.default)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ",";\n  opacity: 0.2;\n"])),v.Colors.black),F=v.styled.View(f||(f=(0,p.default)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"])))},32907:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailAttachments=void 0;var o,i=r(n(19452)),l=n(4007),a=n(84481),u=n(41735),s=n(33823),A=(t.DetailAttachments=(0,a.memo)((function(e){var t,n=(0,a.useMemo)((function(){var t;return null==(t=e.policy)?void 0:t.files}),[null==(t=e.policy)?void 0:t.files]);return(0,s.jsx)(A,{children:(0,s.jsx)(s.Fragment,{children:null==n?void 0:n.map((function(e,t){return(0,s.jsx)(u.AttachmentPreview,{file:e,isFirst:0==t})}))})})})),l.styled.View(o||(o=(0,i.default)([""]))))},26957:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailBottomSheet=void 0;var o=r(n(17156)),i=r(n(27424)),l=n(4007),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),u=n(38300),s=n(23921),A=n(30975),c=n(91087),d=n(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}t.DetailBottomSheet=(0,l.memoForwardRef)((function(e,t){var n=e.policy;if(void 0===(null==n?void 0:n.id))return null;var r=(0,l.useBoolean)(),f=(0,i.default)(r,3),p=f[0],C=f[1],h=f[2],v=(0,a.useState)({title:"",onPress:function(){}}),m=(0,i.default)(v,2),y=m[0],g=m[1],x=(0,l.useAsyncFn)((0,o.default)((function*(){return yield(0,A.requestSoftDeletePolicy)(["all","pending"])({id:null==n?void 0:n.id,value:-1})})),[n]),_=(0,i.default)(x,2),b=_[0],j=b.loading,w=b.error,O=_[1],M=(0,l.useAsyncFn)((0,o.default)((function*(){return yield(0,A.requestSoftDeletePolicy)(["all","pending"])({id:null==n?void 0:n.id,value:1})})),[n]),S=(0,i.default)(M,2),D=S[0],P=D.loading,H=D.error,T=S[1],k=(0,l.useAsyncFn)((0,o.default)((function*(){return yield(0,A.requestPermanentlyDeletePolicy)({id:null==n?void 0:n.id})})),[n]),E=(0,i.default)(k,2),I=E[0],V=I.loading,K=I.error,W=E[1],B=(0,l.useMe)(),G=(0,l.useTheme)(),L=(0,a.useMemo)((function(){for(var e in null==n?void 0:n.owners){var t=null==n?void 0:n.owners[e];if((null==B?void 0:B.id)==(null==t?void 0:t.id)&&(null==t?void 0:t.status)==s.EReview.pending&&(null==n?void 0:n.status)==s.EReview.pending&&0==(null==n?void 0:n.archived))return[{title:(0,l.translate)("policy.soft_delete"),onPress:function(){g({title:(0,l.translate)("policy.soft_delete"),onPress:function(){return O()}}),(0,l.interactManager)((function(){return C()}))}},{title:(0,l.translate)("policy.permanently_delete"),onPress:function(){g({title:(0,l.translate)("policy.permanently_delete"),onPress:function(){return W()}}),(0,l.interactManager)((function(){return C()}))}},{title:(0,l.translate)("policy.archived"),onPress:function(){g({title:(0,l.translate)("policy.archived"),onPress:function(){return T()}}),(0,l.interactManager)((function(){return C()}))}},{title:(0,l.translate)("policy.activity_logs"),onPress:function(){}}]}return[{title:(0,l.translate)("policy.activity_logs"),onPress:function(){}}]}),[null==n?void 0:n.owners,null==n?void 0:n.status]);return(0,l.useAutoToastError)(w),(0,l.useAutoToastError)(H),(0,l.useAutoToastError)(K),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.BottomSheetMenu,{name:"detailScreen",ref:t,items:L}),(0,d.jsx)(c.ConfirmationDialog,{isVisible:p,onCloseRequest:h,title:y.title,content:(0,l.translate)("policy.confirm_detail_content",{type:y.title}),buttons:[{text:(0,l.translate)("policy.close")},{text:(0,l.translate)("policy.confirm"),backgroundColor:G.primaryColor,color:l.Colors.white,onPress:y.onPress,loading:j||P||V}]})]})}))},51596:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailDiscussions=void 0;var o,i=r(n(19452)),l=n(4007),a=p(n(84481)),u=n(25200),s=p(n(46763)),A=n(11361),c=n(91087),d=n(33823);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var C={code:"function anonymous(){const{aBottom}=this.__closure;return{marginBottom:-aBottom.value};}",location:"/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/DetailDiscussions.tsx",sourceMap:'{"version":3,"names":["anonymous","aBottom","__closure","marginBottom","value"],"sources":["/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/DetailDiscussions.tsx"],"mappings":"AAqByC,SAAAA,UAAA,QAAAC,OAAA,OAAAC,SAAA,OAAO,CAC5CC,YAAY,CAAE,CAACF,OAAO,CAACG,KACzB,CAAC"}',version:"3.5.4"},h=(t.DetailDiscussions=(0,a.memo)((function(e){var t,r,o,i,l=(0,u.useAnimatedSafeAreaInsets)().aBottom,a=(0,s.useAnimatedStyle)((o=[new n.g.Error,-2,-27],(i=function(){return{marginBottom:-l.value}}).__closure={aBottom:l},i.__initData=C,i.__workletHash=5163823633849,i.__stackDetails=o,i));return(0,d.jsx)(c.CommentPreview.Provider,{hid:null==(t=e.policy)?void 0:t.hid,appName:"policy",type:"post",token:null==(r=e.policy)?void 0:r.token,children:(0,d.jsxs)(h,{style:-1!==e.isApprovable?a:void 0,children:[(0,d.jsx)(c.CommentPreview.List,{ref:e.listRef}),(0,d.jsx)(c.CommentPreview.Input,{}),(0,d.jsx)(A.AnimatedBottomSpace,{})]})})})),(0,l.styled)(s.default.View)(o||(o=(0,i.default)(["\n  padding-bottom: 16px;\n"]))))},1593:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailDoctype=void 0;var o,i,l,a,u,s,A,c,d,f,p=r(n(19452)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),h=n(4007),v=n(25277),m=n(35315),y=n(33823);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}t.DetailDoctype=(0,C.memo)((function(e){var t,n=e.policy,r=null==(t=(0,m.useDoctypes)(null==n?void 0:n.doctype_id))?void 0:t.name,o=null==n?void 0:n.form;return(0,y.jsxs)(x,{children:[(0,y.jsxs)(_,{children:[(0,y.jsx)(b,{children:(0,y.jsx)(j,{source:v.IC_OUTLINED_DESCRIPTION})}),(0,y.jsxs)(S,{children:[(0,y.jsx)(D,{children:r}),(0,y.jsx)(P,{children:(0,h.translate)("policy.custom_field")})]})]}),(0,y.jsx)(M,{children:o&&(null==o?void 0:o.length)>0&&(null==o?void 0:o.map((function(e,t){return(0,y.jsxs)(w,{isFirst:0===t,children:[(0,y.jsx)(P,{numberOfLines:1,children:null==e?void 0:e.name}),(0,y.jsx)(O,{children:null==e?void 0:e.display})]})})))})]})}));var x=h.styled.View(o||(o=(0,p.default)(["\n  padding: 8px 0 12px;\n"]))),_=h.styled.View(i||(i=(0,p.default)(["\n  flex-direction: row;\n"]))),b=h.styled.View(l||(l=(0,p.default)(["\n  margin-right: 8px;\n  justify-content: center;\n  max-height: 44px;\n"]))),j=h.styled.Image(a||(a=(0,p.default)(["\n  width: 24px;\n  height: 24px;\n"]))),w=h.styled.View(u||(u=(0,p.default)(["\n  margin-top: ","px;\n"])),(function(e){return e.isFirst?0:12})),O=h.styled.Text(s||(s=(0,p.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  font-family: ",";\n  color: ",";\n  padding-bottom: 4px;\n"])),h.Fonts.Medium,(function(e){return e.theme.neutral1})),M=h.styled.View(A||(A=(0,p.default)(["\n  margin-left: 48px;\n  border-left-width: 1px;\n  border-color: ",";\n  padding-left: 12px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.neutral5})),S=h.styled.View(c||(c=(0,p.default)([""]))),D=h.styled.Text(d||(d=(0,p.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  font-family: ",";\n  color: ",";\n"])),h.Fonts.Medium,(function(e){return e.theme.neutral1})),P=h.styled.Text(f||(f=(0,p.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n"])),(function(e){return e.theme.neutral2}))},28205:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailFollowers=void 0;var o,i,l,a=r(n(19452)),u=r(n(17156)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),A=n(4007),c=n(7462),d=n(25277),f=n(92571),p=n(20349),C=n(30975),h=n(62942),v=n(31158),m=n(33823);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}t.DetailFollowers=(0,s.memo)((function(e){var t=e.ids,n=e.showIcon,r=e.policy,o=e.type,i=(0,s.useCallback)((function(){(0,p.navigateToUserPickerModal)({title:(0,A.translate)("policy.followers"),multiple:!1,onSubmit:function(e){(0,C.requestFollowPolicy)({obj_id:(null==r?void 0:r.id)||-1,obj_token:(null==r?void 0:r.token)||"",obj_type:(null==r?void 0:r.type)||"",user_id:e}).then()}})}),[]);return(0,m.jsxs)(g,{children:[(0,m.jsx)(c.UsersAvatarRow,{maxUsers:3,size:32,ids:t,onPress:function(){var e,n;null==(e=h.UserListRef.current)||e.present({data:t,title:(0,A.translate)("policy."+o+"s"),onTrashPress:(n=(0,u.default)((function*(e){var t;yield(0,C.requestFollowPolicy)({obj_id:(null==r?void 0:r.id)||-1,obj_token:(null==r?void 0:r.token)||"",obj_type:(null==r?void 0:r.type)||"",user_id:e[0]}),null==(t=h.UserListRef.current)||t.removeItem(e[0])})),function(e){return n.apply(this,arguments)}),hideTrashIcon:"seen"===o})}}),(0,m.jsx)(f.View,{style:{flex:1}}),n?(0,m.jsx)(x,{onPress:i,children:(0,m.jsx)(_,{source:d.IC_FILLED_PERSON_ADD})}):null,(0,m.jsx)(v.UserListScreen,{ref:h.UserListRef,name:"add_follower"})]})}));var g=A.styled.View(o||(o=(0,a.default)(["\n  padding-bottom: 16px;\n  flex-direction: row;\n  align-items: center;\n"]))),x=A.styled.TouchableOpacity.attrs((function(e){return{hitSlop:{top:8,bottom:8,left:8,right:8}}}))(i||(i=(0,a.default)([""]))),_=A.styled.Image(l||(l=(0,a.default)(["\n  height: 24px;\n  width: 24px;\n  tint-color: ",";\n"])),(function(e){return e.theme.neutral1}))},46808:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailHeader=void 0;var o,i,l,a,u,s,A,c=r(n(19452)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),f=n(4007),p=n(71896),C=n(7405),h=n(35315),v=n(28645),m=n(92571),y=n(25277),g=n(33823);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}t.DetailHeader=(0,d.memo)((function(e){var t,n,r,o,i=e.policy,l=e.show,a=(0,f.useUser)((null==i?void 0:i.user_id)||""),u=(0,f.useTheme)(),s=(0,d.useMemo)((function(){return 1==(null==i?void 0:i.status)?y.IMG_PUBLISHED_BADGE:0==(null==i?void 0:i.status)?y.IMG_PENDING_BADGE:-1==(null==i?void 0:i.status)?y.IMG_REJECTED_BADGE:null}),[null==i?void 0:i.status]);return(0,g.jsxs)(b,{children:[(0,g.jsxs)(j,{children:[(0,g.jsx)(v.SCodeComp,{policy:i}),(0,g.jsx)(M,{numberOfLines:3,children:(0,f.stripSpecialCharacters)(null==i?void 0:i.name)})]}),(0,g.jsx)(w,{children:(0,g.jsxs)(O,{children:[(0,g.jsx)(C.SubInfoComp,{fontSize:14,style:_.subInfo,label:(0,f.translate)("policy.issued_date"),value:null==i||null==(t=i.date)?void 0:t.released_date,isDate:!0}),(0,g.jsx)(C.SubInfoComp,{fontSize:14,style:_.subInfo,label:(0,f.translate)("policy.effective_date"),value:null==i||null==(n=i.date)?void 0:n.effective_date,isDate:!0}),(0,g.jsx)(C.SubInfoComp,{style:_.subInfo,fontSize:14,label:(0,f.translate)("policy.expired_date"),value:null==i||null==(r=i.date)?void 0:r.expired_date,isDate:!0}),(0,g.jsx)(C.SubInfoComp,{fontSize:14,style:_.subInfo,label:(0,f.translate)("policy.published_by"),value:null==a?void 0:a.name,onPress:l}),(0,g.jsxs)(D,{style:_.subInfo,children:[(0,g.jsxs)(m.View,{style:{flex:1},children:[(0,g.jsx)(C.SubInfoComp,{fontSize:14,label:(0,f.translate)("policy.status"),value:(0,p.getStatus)(i).text,color:(0,p.getStatus)(i).color}),(0,g.jsx)(C.SubInfoComp,{fontSize:14,style:_.subInfo,label:(0,f.translate)("policy.type"),value:null==(o=(0,h.getDoctypes)((null==i?void 0:i.doctype_id)||""))?void 0:o.name,color:u.blue1})]}),(0,g.jsx)(S,{source:s})]})]})})]})}));var _=m.StyleSheet.create({subInfo:{marginTop:8},leftSubInfo:{paddingRight:8,marginTop:8},rightSubInfo:{marginTop:8}}),b=f.styled.View(o||(o=(0,c.default)(["\n  background-color: ",";\n"])),(function(e){return e.theme.backgroundColor})),j=f.styled.View(i||(i=(0,c.default)(["\n  flex: 1;\n  padding: 0 16px;\n"]))),w=f.styled.View(l||(l=(0,c.default)(["\n  flex-direction: row;\n"]))),O=f.styled.View(a||(a=(0,c.default)(["\n  padding: 0 16px;\n  flex: 1;\n"]))),M=f.styled.Text(u||(u=(0,c.default)(["\n  font-size: 18px;\n  line-height: 24px;\n  color: ",";\n  font-family: ",";\n  margin-bottom: 12px;\n"])),(function(e){return e.theme.neutral1}),f.Fonts.Medium),S=f.styled.Image(s||(s=(0,c.default)(["\n  height: 44px;\n  width: 52px;\n"]))),D=f.styled.View(A||(A=(0,c.default)(["\n  flex-direction: row;\n"])))},48136:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailLinkedDocument=void 0;var o,i,l,a,u,s,A,c=r(n(19452)),d=n(84481),f=n(4007),p=n(96738),C=n(25277),h=n(70673),v=n(20349),m=n(33823),y=(t.DetailLinkedDocument=(0,d.memo)((function(e){var t=e.policy;return(0,m.jsx)(y,{children:(0,m.jsx)(h.MapList,{data:(null==t?void 0:t.links)||[],renderItem:function(e){var t=e.item;return(0,m.jsx)(g,{id:t})}})})})),f.styled.View(o||(o=(0,c.default)(["\n  padding-bottom: 8px;\n"])))),g=(0,d.memo)((function(e){var t=e.id,n=(0,p.usePolicies)(t),r=(0,d.useCallback)((function(){(0,v.navigateToPolicyDetail)({id:t})}),[t]);return(0,m.jsxs)(x,{onPress:r,children:[(0,m.jsx)(_,{children:(0,m.jsx)(b,{source:C.IC_OUTLINED_DESCRIPTION})}),(0,m.jsxs)(j,{children:[(0,m.jsx)(w,{children:null==n?void 0:n.name}),(0,m.jsx)(O,{children:null==n?void 0:n.scode})]})]})})),x=f.styled.TouchableOpacity(i||(i=(0,c.default)(["\n  flex-direction: row;\n  padding: 8px 0;\n"]))),_=f.styled.View(l||(l=(0,c.default)(["\n  justify-content: center;\n  max-height: 36px;\n"]))),b=f.styled.Image(a||(a=(0,c.default)(["\n  margin-right: 8px;\n  width: 24px;\n  height: 24px;\n"]))),j=f.styled.View(u||(u=(0,c.default)(["\n  flex: 1;\n"]))),w=f.styled.Text(s||(s=(0,c.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  font-family: ",";\n"])),(function(e){return e.theme.neutral1}),f.Fonts.Medium),O=f.styled.Text(A||(A=(0,c.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n"])),(function(e){return e.theme.neutral2}))},64879:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailMasterVersioning=void 0;var o,i,l,a,u,s,A,c,d,f,p=r(n(19452)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),h=n(4007),v=n(25277),m=n(1906),y=n(71896),g=n(33823);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}t.DetailMasterVersioning=(0,C.memo)((function(e){var t,n=e.policy,r=(0,m.useDetailPolicy)();return(0,g.jsxs)(_,{children:[(0,g.jsxs)(b,{children:[(0,g.jsx)(w,{children:(0,g.jsx)(O,{source:v.IC_OUTLINED_FOLDER})}),(0,g.jsxs)(M,{children:[(0,g.jsx)(P,{numberOfLines:2,children:null==n||null==(t=n.mv_export)?void 0:t.name}),(0,g.jsxs)(H,{children:[null==r?void 0:r.length," versions"]})]})]}),(0,g.jsx)(j,{children:r&&r.length>0&&r.map((function(e,t){return(0,g.jsxs)(S,{isFirst:0===t,children:[(0,g.jsxs)(D,{numberOfLines:1,children:[(0,g.jsxs)(D,{isMediumText:!0,children:["[",null==e?void 0:e.mv_code,"]"]})," ","- ",null==e?void 0:e.name]}),(0,g.jsxs)(H,{children:[(0,y.getStatus)(e).text," - ",null==e?void 0:e.scode]})]})}))})]})}));var _=h.styled.View(o||(o=(0,p.default)(["\n  padding: 8px 0 12px;\n  margin-right: 16px;\n"]))),b=h.styled.View(i||(i=(0,p.default)(["\n  flex-direction: row;\n"]))),j=h.styled.View(l||(l=(0,p.default)(["\n  margin-left: 48px;\n  border-left-width: 1px;\n  border-color: ",";\n  padding-left: 12px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.neutral5})),w=h.styled.View(a||(a=(0,p.default)(["\n  margin-right: 8px;\n"]))),O=h.styled.Image(u||(u=(0,p.default)(["\n  height: 24px;\n  width: 24px;\n"]))),M=h.styled.View(s||(s=(0,p.default)(["\n  margin-right: 16px;\n"]))),S=h.styled.View(A||(A=(0,p.default)(["\n  margin-top: ","px;\n"])),(function(e){return e.isFirst?0:12})),D=h.styled.Text(c||(c=(0,p.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  font-family: ",";\n  color: ",";\n  padding-bottom: 4px;\n"])),(function(e){return e.isMediumText?h.Fonts.Medium:h.Fonts.Regular}),(function(e){return e.theme.neutral1})),P=h.styled.Text(d||(d=(0,p.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  font-family: ",";\n  color: ",";\n"])),h.Fonts.Medium,(function(e){return e.theme.neutral1})),H=h.styled.Text(f||(f=(0,p.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n"])),(function(e){return e.theme.neutral2}))},21859:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailPolicyNote=void 0;var o,i,l=r(n(19452)),a=r(n(27424)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),s=n(92571),A=n(4007),c=n(33823);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}t.DetailPolicyNote=(0,u.memo)((function(e){(0,A.useTheme)();var t,n=(0,A.useBoolean)(),r=(0,a.default)(n,4);r[0],r[1],r[2],r[3];return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(f,{children:(0,c.jsx)(p,{children:(0,A.stripSpecialCharacters)(null==(t=e.policy)?void 0:t.note)})})})})),s.StyleSheet.create({html:{borderLeftWidth:4,padding:12,borderRadius:4},myButtonContainer:{justifyContent:"flex-start",minHeight:void 0,marginLeft:0,marginTop:8},myButtonText:{paddingLeft:0,paddingRight:0,fontSize:14,lineHeight:24,fontFamily:A.Fonts.Medium}});var f=A.styled.View(o||(o=(0,l.default)(["\n  border-width: 1px;\n  border-color: ",";\n  border-radius: 4px;\n  padding: 12px;\n"])),(function(e){return e.theme.neutral5})),p=A.styled.Text(i||(i=(0,l.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n"])),(function(e){return e.theme.neutral1}))},6253:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailRecipient=void 0;var o,i,l,a,u,s=r(n(19452)),A=n(4007),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),d=n(33254),f=n(70673),p=n(33823);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}t.DetailRecipient=(0,c.memo)((function(e){var t=e.policy;return(0,p.jsx)(h,{children:(0,p.jsx)(f.MapList,{data:(null==t?void 0:t.teams)||[],renderItem:function(e){var t=e.item;return(0,p.jsx)(v,{id:t})}})})}));var h=A.styled.View(o||(o=(0,s.default)(["\n  margin-bottom: 8px;\n"]))),v=(0,c.memo)((function(e){var t=e.id,n=(0,A.useUserGroup)(t),r=(0,c.useMemo)((function(){var e;return"user"==(null==n?void 0:n.metatype)?"@"+(null==n?void 0:n.path)+" . "+(0,A.translate)("policy.specific_user"):"@"+(null==n?void 0:n.path)+" . "+((null==n||null==(e=n.owners)?void 0:e.length)||0)+" members"}),[n]);return(0,p.jsxs)(m,{children:[(0,p.jsx)(d.TextAvatar,{size:40,text:(null==n?void 0:n.name)||""}),(0,p.jsxs)(y,{children:[(0,p.jsx)(g,{children:(0,A.stripSpecialCharacters)(null==n?void 0:n.name)}),(0,p.jsx)(x,{children:r})]})]})})),m=A.styled.View(i||(i=(0,s.default)(["\n  flex-direction: row;\n  align-items: center;\n  margin: 8px 0;\n"]))),y=A.styled.View(l||(l=(0,s.default)(["\n  margin-left: 8px;\n"]))),g=A.styled.Text(a||(a=(0,s.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n  font-family: ",";\n"])),(function(e){return e.theme.neutral1}),A.Fonts.Regular),x=A.styled.Text(u||(u=(0,s.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  color: ",";\n"])),(function(e){return e.theme.neutral2}))},36271:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DetailStorage=void 0;var o,i,l,a,u,s,A=r(n(19452)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),d=n(4007),f=n(25277),p=n(32602),C=n(33823);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}t.DetailStorage=(0,c.memo)((function(e){var t=e.policy,n=(0,p.useStorages)(null==t?void 0:t.storage_id);return(0,C.jsx)(v,{children:(0,C.jsxs)(m,{children:[(0,C.jsx)(y,{children:(0,C.jsx)(g,{source:f.IC_OUTLINED_FOLDER})}),(0,C.jsx)(x,{children:(0,C.jsx)(_,{children:null==n?void 0:n.name})})]})})}));var v=d.styled.View(o||(o=(0,A.default)(["\n  padding: 8px 0 12px;\n"]))),m=d.styled.View(i||(i=(0,A.default)(["\n  flex-direction: row;\n"]))),y=d.styled.View(l||(l=(0,A.default)(["\n  margin-right: 8px;\n"]))),g=d.styled.Image(a||(a=(0,A.default)(["\n  width: 24px;\n  height: 24px;\n"]))),x=d.styled.View(u||(u=(0,A.default)([""]))),_=d.styled.Text(s||(s=(0,A.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n"])),(function(e){return e.theme.neutral1}))},89956:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentReview=void 0;var o,i,l,a,u,s,A,c,d,f,p=r(n(27424)),C=r(n(19452)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),v=n(4007),m=n(9011),y=n(91087),g=n(92571),x=n(25277),_=n(33823);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}t.DocumentReview=(0,h.memo)((function(e){var t;return(0,_.jsx)(j,{children:(0,_.jsx)(g.FlatList,{data:null==(t=e.policy)?void 0:t.owners,renderItem:function(t){var n=t.item,r=t.index;return(0,_.jsx)(w,{index:r,approvableData:e.approvableData,owner:n})}})})}));var j=v.styled.View(o||(o=(0,C.default)(["\n  padding-bottom: 8px;\n"]))),w=(0,h.memo)((function(e){var t=e.index,n=e.owner,r=e.approvableData,o=(0,v.useBoolean)(),i=(0,p.default)(o,3),l=i[0],a=i[1],u=i[2],s=(0,h.useMemo)((function(){return 0==(null==n?void 0:n.status)?{text:"Pending",source:x.IC_FILLED_SCHEDULE,color:v.Colors.orange1}:"1"==(null==n?void 0:n.status)?{text:"Approved",source:x.IC_FILLED_CHECK_CIRCLE,color:v.Colors.green1}:{text:"Rejected",source:x.IC_FILLED_CANCEL,color:v.Colors.red1}}),[null==n?void 0:n.status]),A=(0,h.useMemo)((function(){return void 0!==(null==r?void 0:r.currentIndex)&&t>r.currentIndex+1?.4:1}),[null==r?void 0:r.currentIndex,t]),c=(0,v.useUser)(n.id);return(0,_.jsxs)(O,{style:{opacity:A},onLongPress:a,children:[(0,_.jsxs)(M,{children:[(0,_.jsx)(D,{children:(0,_.jsx)(m.UserAvatar,{userKey:n.id,size:40})}),(0,_.jsxs)(S,{children:[(0,_.jsx)(H,{children:null==c?void 0:c.name}),null!=c&&c.title?(0,_.jsx)(T,{children:null==c?void 0:c.title}):null]})]}),(0,_.jsxs)(P,{children:[(0,_.jsx)(k,{style:{color:s.color},children:s.text}),(0,_.jsx)(E,{source:s.source,tintColor:s.color})]}),(0,_.jsx)(y.ProfileLightBox,{isVisible:l,userKey:n.id,onCloseRequest:u})]})})),O=v.styled.TouchableOpacity(i||(i=(0,C.default)(["\n  flex-direction: row;\n  min-height: 40px;\n  margin: 8px 0;\n"]))),M=v.styled.View(l||(l=(0,C.default)(["\n  flex-direction: row;\n  //align-items: center;\n  flex: 1;\n"]))),S=v.styled.View(a||(a=(0,C.default)(["\n  margin-left: 8px;\n  flex: 1;\n  justify-content: center;\n"]))),D=v.styled.View(u||(u=(0,C.default)(["\n  justify-content: center;\n  max-height: 52px;\n"]))),P=v.styled.View(s||(s=(0,C.default)(["\n  flex-direction: row;\n  align-items: center;\n  max-height: 52px;\n"]))),H=v.styled.Text(A||(A=(0,C.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  font-family: ",";\n  color: ",";\n"])),v.Fonts.Regular,(function(e){return e.theme.neutral1})),T=v.styled.Text(c||(c=(0,C.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n"])),(function(e){return e.theme.neutral2})),k=v.styled.Text(d||(d=(0,C.default)(["\n  margin-right: 4px;\n  font-size: 12px;\n  line-height: 16px;\n  font-family: ",";\n"])),v.Fonts.Medium),E=v.styled.Image(f||(f=(0,C.default)(["\n  height: 16px;\n  width: 16px;\n  tint-color: ",";\n"])),(function(e){return e.tintColor}))},67495:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralDetails=void 0;var o,i,l,a,u,s,A,c=r(n(19452)),d=n(4007),f=n(84481),p=n(35315),C=n(32602),h=r(n(30381)),v=n(33823),m=function(e){return e?(0,h.default)(e,"X").format("DD/MM/YYYY"):(0,d.translate)("policy.not_specified")},y=(t.GeneralDetails=(0,f.memo)((function(e){var t,n=e.policy,r=(0,p.useDoctypes)(null==n?void 0:n.doctype_id),o=(0,C.useStorages)(null==n?void 0:n.storage_id),i=(0,d.useUser)(null==n?void 0:n.user_id),l=(0,f.useCallback)((function(){var e;return(0,v.jsx)(j,{children:null==n||null==(e=n.tags)?void 0:e.map((function(e,t){return(0,v.jsx)(w,{index:t,children:(0,v.jsx)(O,{children:e})})}))})}),[null==n?void 0:n.tags]);return(0,v.jsxs)(y,{children:[(0,v.jsx)(g,{title:(0,d.translate)("policy.collection"),value:null==n?void 0:n.collection_export.name,index:0}),(0,v.jsx)(g,{title:(0,d.translate)("policy.document_type"),value:null==r?void 0:r.name,index:1}),(0,v.jsx)(g,{title:(0,d.translate)("policy.storage_info"),value:null==o?void 0:o.name,index:2}),(0,v.jsx)(g,{title:(0,d.translate)("policy.created_date"),value:m(null==n?void 0:n.since),index:3}),(0,v.jsx)(g,{title:(0,d.translate)("policy.expired_date"),value:m(null==n?void 0:n.date.expired_date),index:4}),(0,v.jsx)(g,{title:(0,d.translate)("policy.creator"),value:null==i?void 0:i.name,index:5}),null!=n&&null!=(t=n.tags)&&t.length?(0,v.jsx)(g,{title:(0,d.translate)("policy.keywords"),rightComp:l(),index:6}):null]})})),d.styled.View(o||(o=(0,c.default)(["\n  border-width: 1px;\n  border-color: ",";\n  border-radius: 4px;\n"])),(function(e){return e.theme.neutral5}))),g=(0,f.memo)((function(e){var t=e.title,n=e.value,r=e.index,o=e.rightComp;return(0,v.jsxs)(x,{index:r,children:[(0,v.jsx)(_,{children:t}),n?(0,v.jsx)(b,{children:n}):o||null]})})),x=d.styled.View(i||(i=(0,c.default)(["\n  background-color: ",";\n  flex-direction: row;\n  padding: 18px 12px;\n  border-radius: 4px;\n  justify-content: space-between;\n"])),(function(e){return e.index%2!=0?e.theme.neutral9:e.theme.backgroundColor})),_=d.styled.Text(l||(l=(0,c.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  margin-right: 8px;\n"])),(function(e){return e.theme.neutral2})),b=d.styled.Text(a||(a=(0,c.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  color: ",";\n  font-family: ",";\n  text-align: right;\n  flex: 1;\n"])),(function(e){return e.theme.neutral1}),d.Fonts.Medium),j=d.styled.View(u||(u=(0,c.default)(["\n  flex-direction: row;\n  margin: -6px 0;\n"]))),w=d.styled.View(s||(s=(0,c.default)(["\n  border-radius: 4px;\n  border-color: ",";\n  border-width: 1px;\n  padding: 8px 12px;\n  align-items: center;\n  justify-content: center;\n  margin-left: ","px;\n"])),(function(e){return e.theme.neutral5}),(function(e){return 0==e.index?0:12})),O=d.styled.Text(A||(A=(0,c.default)(["\n  font-size: 12px;\n  line-height: 16px;\n  font-family: ",";\n  color: ",";\n"])),d.Fonts.Medium,(function(e){return e.theme.neutral1}))},94538:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.MainInformation=void 0;var o,i=r(n(19452)),l=n(4007),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),u=n(66205),s=n(92571),A=n(32907),c=n(67495),d=n(51596),f=r(n(46763)),p=n(21859),C=n(48115),h=n(33823);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}t.MainInformation=(0,a.memo)((function(e){var t,n,r,o,i;return(0,h.jsxs)(m,{children:[null!=(t=e.policy)&&t.content?(0,h.jsx)(u.DetailSectionWrapper,{title:(0,l.translate)("policy.note"),contentStyle:y.wrapper,children:(0,h.jsx)(C.AnimatedCollapseContent,{content:(0,l.stripSpecialCharacters)((null==(n=e.policy)?void 0:n.content)||"")})}):null,null!=(r=e.policy)&&null!=(o=r.files)&&o.length?(0,h.jsx)(u.DetailSectionWrapper,{title:(0,l.translate)("policy.attachments"),contentStyle:y.wrapper,children:(0,h.jsx)(A.DetailAttachments,{policy:e.policy})}):null,null!=(i=e.policy)&&i.note?(0,h.jsx)(u.DetailSectionWrapper,{title:(0,l.translate)("policy.note"),contentStyle:y.wrapper,children:(0,h.jsx)(p.DetailPolicyNote,{policy:e.policy})}):null,(0,h.jsx)(u.DetailSectionWrapper,{isCollapsable:!0,title:(0,l.translate)("policy.general_detail"),contentStyle:y.wrapper,children:(0,h.jsx)(c.GeneralDetails,{policy:e.policy})}),(0,h.jsx)(u.DetailSectionWrapper,{isDivider:!1,title:(0,l.translate)("policy.comments"),children:(0,h.jsx)(d.DetailDiscussions,{listRef:e.listRef,isApprovable:e.isApprovable,policy:e.policy})})]})}));var m=(0,l.styled)(f.default.View)(o||(o=(0,i.default)(["\n  flex: 1;\n"]))),y=s.StyleSheet.create({html:{borderLeftWidth:4,padding:12,borderRadius:4},myButtonContainer:{justifyContent:"flex-start",minHeight:void 0,marginLeft:0,marginTop:8},myButtonText:{paddingLeft:0,paddingRight:0,fontSize:14,lineHeight:24,fontFamily:l.Fonts.Medium},wrapper:{paddingHorizontal:16,paddingBottom:16}})},49460:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.OtherInformation=void 0;var o,i,l,a=r(n(19452)),u=r(n(17156)),s=r(n(27424)),A=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),c=n(4007),d=n(66205),f=n(92571),p=n(89956),C=n(6253),h=n(48136),v=n(28205),m=n(58469),y=n(11361),g=n(64879),x=n(1593),_=n(36271),b=n(29881),j=n(30975),w=n(33823);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}t.OtherInformation=(0,A.memo)((function(e){var t,n,r,o,i,l,a,f,m,O,P,H,T,k=(0,c.useTheme)(),E=(0,c.useMe)(),I=(0,b.useAsyncFn)((0,u.default)((function*(){var t,n,r;return yield(0,j.requestFollowPolicy)({obj_id:(null==(t=e.policy)?void 0:t.id)||-1,obj_token:(null==(n=e.policy)?void 0:n.token)||"",obj_type:(null==(r=e.policy)?void 0:r.type)||"",user_id:(null==E?void 0:E.id)||-1})})),[null==E?void 0:E.id,e]),V=(0,s.default)(I,2),K=V[0],W=K.loading,B=K.error,G=V[1];(0,c.useAutoToastError)(B);var L=(0,A.useRef)(null);return(0,w.jsxs)(M,{children:[null!=(t=e.policy)&&t.owners.length?(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.document_review")+(null!=(n=e.policy)&&n.owners.length?" ("+(null==(r=e.policy)?void 0:r.owners.length)+")":null),contentStyle:D.wrapper,children:(0,w.jsx)(p.DocumentReview,{policy:e.policy,approvableData:e.approvableData})}):null,null!=(o=e.policy)&&null!=(i=o.mv_export)&&i.name?(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.versioning"),contentStyle:D.wrapper,children:(0,w.jsx)(g.DetailMasterVersioning,{policy:e.policy})}):null,(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.doctypes"),contentStyle:D.wrapper,children:(0,w.jsx)(x.DetailDoctype,{policy:e.policy})}),(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.recipients"),contentStyle:D.wrapper,children:(0,w.jsx)(C.DetailRecipient,{policy:e.policy})}),(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.storage_info"),contentStyle:D.wrapper,children:(0,w.jsx)(_.DetailStorage,{policy:e.policy})}),null!=(l=e.policy)&&l.links.length?(0,w.jsx)(d.DetailSectionWrapper,{isCollapsable:!0,title:(0,c.translate)("policy.linked_documents"),contentStyle:D.wrapper,children:(0,w.jsx)(h.DetailLinkedDocument,{policy:e.policy})}):null,(0,w.jsx)(d.DetailSectionWrapper,{title:(0,c.translate)("policy.followers")+(null!=(a=e.policy)&&a.followers.length?" ("+(null==(f=e.policy)?void 0:f.followers.length)+")":""),contentStyle:D.wrapper,rightComp:(0,w.jsx)(S,{title:-1===(null==(m=e.policy)?void 0:m.followers.indexOf((null==E?void 0:E.id)||-1))?"Follow":"Unfollow",textStyle:{fontSize:14,lineHeight:24,color:k.primaryColor,fontFamily:c.Fonts.Medium},onPress:G,loading:W,timeout:L}),children:(0,w.jsx)(v.DetailFollowers,{type:"follower",ids:null==(O=e.policy)?void 0:O.followers,showIcon:!0,policy:e.policy})}),(0,w.jsx)(d.DetailSectionWrapper,{isDivider:!1,title:(0,c.translate)("policy.seens")+(null!=(P=e.policy)&&P.seens.length?" ("+(null==(H=e.policy)?void 0:H.seens.length)+")":""),contentStyle:D.wrapper,children:(0,w.jsx)(v.DetailFollowers,{type:"seen",ids:null==(T=e.policy)?void 0:T.seens})}),-1===e.isApprovable?(0,w.jsx)(y.AnimatedBottomSpace,{style:{backgroundColor:k.backgroundColor}}):void 0]})}));var M=c.styled.View(o||(o=(0,a.default)(["\n  flex: 1;\n"]))),S=(0,c.styled)(m.Button)(i||(i=(0,a.default)(["\n  padding: 4px 0;\n  margin: -4px 0;\n"]))),D=((0,c.styled)(m.Button)(l||(l=(0,a.default)(["\n  border-radius: 4px;\n  padding: 4px 8px;\n  margin: -4px 0;\n"]))),f.StyleSheet.create({html:{borderLeftWidth:4,padding:12,borderRadius:4},myButtonContainer:{justifyContent:"flex-start",minHeight:void 0,marginLeft:0,marginTop:8},myButtonText:{paddingLeft:0,paddingRight:0,fontSize:14,lineHeight:24,fontFamily:c.Fonts.Medium},wrapper:{paddingHorizontal:16}}))},23921:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyDetailScreen=t.EReview=void 0;var o,i,l,a=r(n(17156)),u=r(n(27424)),s=r(n(19452)),A=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),c=n(91087),d=n(69189),f=n(9011),p=n(46763),C=n(4007),h=n(25277),v=n(94538),m=n(92571),y=n(49460),g=n(29881),x=n(50253),_=n(96738),b=n(46808),j=n(17315),w=r(n(82825)),O=n(18802),M=n(4669),S=n(26957),D=n(33823);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}C.styled.View(o||(o=(0,s.default)([""])));var H=t.EReview=function(e){return e[e.disable=-1]="disable",e[e.pending=0]="pending",e[e.sequence=1]="sequence",e[e.parallel=2]="parallel",e[e.attest=3]="attest",e[e.rejected=4]="rejected",e}({}),T={code:"function anonymous(index){const{curPage,animatedScrollOffset,interactManager,scrollRef}=this.__closure;curPage.value=index;if(animatedScrollOffset.value>148)interactManager(function(){var _scrollRef$current;return(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollTo(148);},300,true);}",location:"/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","index","curPage","animatedScrollOffset","interactManager","scrollRef","__closure","value","_scrollRef$current","current","scrollTo"],"sources":["/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/index.tsx"],"mappings":"AAmHM,QAAC,CAAAA,SAAkBA,CAAAC,KAAA,QAAAC,OAAA,CAAAC,oBAAA,CAAAC,eAAA,CAAAC,SAAA,OAAAC,SAAA,CACjBJ,OAAO,CAACK,KAAK,CAAGN,KAAK,CAErB,GAAIE,oBAAoB,CAACI,KAAK,CAAG,GAAG,CAClCH,eAAe,CAAC,eAAAI,kBAAA,QAAAA,kBAAA,CAAMH,SAAS,CAACI,OAAO,UAAAD,kBAAA,iBAAjBA,kBAAA,CAAmBE,QAAQ,CAAC,GAAG,CAAC,GAAE,GAAG,CAAE,IAAI,CAAC,CACtE"}',version:"3.5.4"},k={code:"function anonymous(index){const{animatedScrollOffset}=this.__closure;animatedScrollOffset.value=index;}",location:"/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/index.tsx",sourceMap:'{"version":3,"names":["anonymous","index","animatedScrollOffset","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/screens/PolicyDetailScreen/index.tsx"],"mappings":"AA6RgD,QAAC,CAAAA,SAAkBA,CAAAC,KAAA,QAAAC,oBAAA,OAAAC,SAAA,CAC7DD,oBAAoB,CAACE,KAAK,CAAGH,KAAK,CACpC"}',version:"3.5.4"},E=(0,A.memo)((function(e){var t=e.animatedButtonHeight,r=(0,d.useNavigationParams)().id,o=(0,p.useAnimatedRef)(),i=(0,A.useRef)(null),l=(0,A.useRef)(null),s=(0,_.usePolicies)(r),w=(0,A.useState)(!1),P=(0,u.default)(w,2),E=P[0],K=P[1],W=(0,d.useBoolean)(),B=(0,u.default)(W,3),G=B[0],L=B[1],F=B[2],R=(0,C.useTheme)(),U=(0,g.useAsyncFn)(x.requestDetailPolicy),Q=(0,u.default)(U,2),z=Q[0].loading,N=Q[1],q=(0,g.useAsyncFn)(x.requestDetailPolicy),J=(0,u.default)(q,2),Z=J[0].loading,Y=J[1];(0,A.useEffect)((function(){var e;K(!1),null==s||null==(e=s.links)||e.forEach((function(e){return(0,x.requestDetailPolicy)({id:e}).then()})),N({id:r}).then((function(){K(!0)}))}),[r]);var $,X,ee=(0,A.useCallback)((function(){var e;Y({id:r}).then(),null==(e=l.current)||e.refresh().then()}),[]),te=(0,C.useMe)(),ne=(0,p.useSharedValue)(0),re=(0,p.useSharedValue)(0),oe=((0,p.useWorkletCallback)(($=[new n.g.Error,-5,-27],(X=function(e){ne.value=e,re.value>148&&(0,C.interactManager)((function(){var e;return null==(e=o.current)?void 0:e.scrollTo(148)}),300,!0)}).__closure={curPage:ne,animatedScrollOffset:re,interactManager:C.interactManager,scrollRef:o},X.__initData=T,X.__workletHash=0xdd56fdfcb7e,X.__stackDetails=$,X),[ne.value,o.current,re]),(0,A.useMemo)((function(){var e=-1;if(0==(null==s?void 0:s.status)){if(1==(null==s?void 0:s.review_sequentially)){for(var t=0;t<(null==s?void 0:s.owners.length);t++){var n,r=null==s?void 0:s.owners[t],o=null==s||null==(n=s.owners)?void 0:n[t-1];if(1==(null==r?void 0:r.status)&&(e=t),r.id==(null==te?void 0:te.id)&&0==r.status){if(0==t)return{status:H.sequence,isFirst:!0,text:(0,C.translate)("policy.you_are_the_first_approver_of_this_policy"),currentIndex:e,rightNum:t+1+"/"+(null==s?void 0:s.owners.length),color:C.Colors.green1,backgroundColor:C.Colors.green3};if(1==(null==o?void 0:o.status))return{status:H.sequence,text:(0,C.translate)("policy.you_can_approve_this_policy"),currentIndex:e,rightNum:t+1+"/"+(null==s?void 0:s.owners.length),color:C.Colors.green1,backgroundColor:C.Colors.green3}}if(r.id==(null==te?void 0:te.id))return 1==r.status?{status:H.disable,currentIndex:e}:{status:H.pending,prevUserId:null==o?void 0:o.id,text:(0,C.translate)("policy.waiting_for_approval_from"),currentIndex:e,color:C.Colors.orange1,backgroundColor:C.Colors.orange3}}return{status:H.disable,currentIndex:e}}for(var i of null==s?void 0:s.owners)if(0==i.status&&i.id==(null==te?void 0:te.id))return{status:H.parallel,text:(0,C.translate)("policy.you_can_approve_this_policy"),rightNum:((null==s?void 0:s.owners.length)||0)+" "+(0,C.translate)("policy.approvers"),color:C.Colors.green1,backgroundColor:C.Colors.green3};return{status:H.disable}}if(1==(null==s?void 0:s.require_attest)&&-1===(null==s?void 0:s.attests.indexOf(null==te?void 0:te.id)))return{text:(0,C.translate)("policy.confirm_that_i_attest_the_policy"),status:H.attest,testRequired:null==s?void 0:s.require_attestation_test};for(var l=0;l<((null==s||null==(a=s.owners)?void 0:a.length)||0);l++){var a,u=null==s?void 0:s.owners[l];if(-1==(null==u?void 0:u.status))return{status:H.rejected,text:(0,C.translate)("policy.you_have_rejected_this_policy"),color:C.Colors.red1,backgroundColor:C.Colors.red3,hideButton:!0};if(1==(null==u?void 0:u.status)&&(e=l),u.id==(null==te?void 0:te.id))return 1==s.review_sequentially?{status:H.sequence,text:(0,C.translate)("policy.you_have_approved_this_policy"),currentIndex:e,rightNum:l+1+"/"+(null==s?void 0:s.owners.length),color:C.Colors.green1,backgroundColor:C.Colors.green3,hideButton:!0}:{status:H.parallel,text:(0,C.translate)("policy.you_have_approved_this_policy"),rightNum:((null==s?void 0:s.owners.length)||0)+" "+(0,C.translate)("policy.approvers"),color:C.Colors.green1,backgroundColor:C.Colors.green3,hideButton:!0}}return{status:H.disable}}),[s])),ie=(0,p.useWorkletCallback)(function(){var e=[new n.g.Error,-2,-27],t=function(e){re.value=e};return t.__closure={animatedScrollOffset:re},t.__initData=k,t.__workletHash=9286227296686,t.__stackDetails=e,t}(),[]),le=(0,g.useAsyncFn)((0,a.default)((function*(){yield(0,O.requestFavDoc)({id:r})})),[r]),ae=(0,u.default)(le,2),ue=ae[0].loading,se=ae[1],Ae=(0,j.useFavDocs)(),ce=(0,A.useMemo)((function(){return-1!==(null==Ae?void 0:Ae.indexOf(parseInt(r)))}),[r,Ae]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(f.DynamicHeader,{hideSeparator:!0,isAnimatedDuration:!0,title:null==s?void 0:s.name,animatedCollapseIndex:re,rightComponent:(0,D.jsxs)(I,{children:[(0,D.jsx)(f.Button,{loading:ue,onPress:se,imageStyle:{tintColor:R.neutral1},source:ce?void 0:h.IC_OUTLINED_STAR,children:ce?(0,D.jsx)(V,{source:h.IC_FILLED_STAR}):null}),(0,D.jsx)(f.Button,{style:{marginLeft:8},source:C.IC_MORE,onPress:function(){var e,t;null==(e=i.current)||e.present(),null==(t=i.current)||t.expand()}})]})}),(0,D.jsxs)(c.ScrollableTabView.Provider,{deps:[r],onCollapse:ie,refreshControl:function(e){return(0,D.jsx)(c.BaseRefreshControl,{progressViewOffset:e.progressViewOffset,refreshing:Z,onRefresh:ee})},tabs:[{title:(0,C.translate)("policy.main_information"),content:function(e){return(0,D.jsx)(c.ScrollableTabView.ScrollView,{index:e.index,keyboardShouldPersistTaps:"handled",children:(0,D.jsx)(v.MainInformation,{listRef:l,isApprovable:oe.status,policy:s})})}},{title:(0,C.translate)("policy.other_information"),content:function(e){return(0,D.jsx)(c.ScrollableTabView.ScrollView,{index:e.index,children:(0,D.jsx)(y.OtherInformation,{isApprovable:oe.status,approvableData:oe,policy:s})})}}],children:[(0,D.jsx)(c.ScrollableTabView.CollapsableTabBar,{children:(0,D.jsx)(b.DetailHeader,{show:L,policy:s})}),E&&!z?(0,D.jsx)(c.ScrollableTabView.Content,{}):(0,D.jsx)(m.ActivityIndicator,{style:{top:250}})]}),(0,D.jsx)(M.ApproveButton,{approvableData:oe,id:r,animatedButtonHeight:t}),(0,D.jsx)(c.ProfileLightBox,{isVisible:G,userKey:(null==s?void 0:s.user_id)||"",onCloseRequest:F}),(0,D.jsx)(S.DetailBottomSheet,{ref:i,policy:s})]})})),I=(t.PolicyDetailScreen=(0,A.memo)((function(){var e=(0,p.useSharedValue)(0);return(0,D.jsx)(c.ScreenWrapper,{isGrey:!0,children:(0,D.jsx)(c.MyKeyboardAvoidingView,{scrollInputAdditionalOffset:e,children:(0,D.jsx)(E,{animatedButtonHeight:e})})})})),C.styled.View(i||(i=(0,s.default)(["\n  flex-direction: row;\n  margin: 0 16px;\n"])))),V=(0,C.styled)(w.default)(l||(l=(0,s.default)(["\n  height: 24px;\n  width: 24px;\n  tint-color: ",";\n"])),C.Colors.yellow1)},50253:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.requestDetailPolicy=void 0;var o=r(n(17156)),i=n(4007),l=n(30806),a=n(1906),u=n(96738),s=n(37121);t.requestDetailPolicy=function(){var e=(0,o.default)((function*(e){var t=(yield i.Fetch.postWithToken("@"+i.Core.systemPath+"/policy/ajax/api/mobile/doc/detail",e)).data;return(0,l.batch)((function(){t.doc&&((0,u.syncPolicies)([t.doc]),(0,a.syncDetailPolicy)(t.versions),(0,s.syncAcl)(t.acl))})),t.doc}));return function(t){return e.apply(this,arguments)}}()}}]);//# sourceMappingURL=src_screens_PolicyDetailScreen_index_tsx.chunk.bundle.map?platform=ios