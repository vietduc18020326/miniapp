{"version":3,"file":"src_screens_SearchScreen_SearchFilter_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/SearchScreen/SearchFilter.tsx","webpack:///./src/screens/SearchScreen/index.tsx"],"sourcesContent":["import React, { memo } from \"react\";\nimport { DynamicHeader, ScreenWrapper } from \"@true/ui\";\nimport { translate, useNavigationParams } from \"@true/core\";\nimport { defaultParams } from \"@policy/screens/SearchScreen/index\";\nimport { IRequestSearchPolicyParams } from \"@policy/store/policies/functions\";\nimport { FilterComp } from \"@policy/components/FilterComp\";\n\nexport interface SearchFilterProps {\n  params: IRequestSearchPolicyParams;\n  setParams: (value: any) => void;\n}\n\nexport const SearchFilter = memo(() => {\n  const {params, setParams} = useNavigationParams<SearchFilterProps>();\n\n  return (\n    <ScreenWrapper>\n      <DynamicHeader title={translate('policy.filter')} />\n      <FilterComp\n        items={[\n          'collection',\n          'folder',\n          'storage',\n          'receiver',\n          'doctype',\n          'created_by',\n          'created_date',\n          'effective_date',\n          'expired_date',\n        ]}\n        params={params}\n        setParams={setParams}\n        defaultParams={defaultParams}\n      />\n    </ScreenWrapper>\n  );\n});\n","import React, {memo, useCallback, useState} from 'react';\nimport {\n  EmptyHeader,\n  FullScreenWrapper,\n  ScrollableTabView,\n  SearchBar,\n} from '@true/ui';\nimport {goBack, IC_ARROW, styled, translate} from '@true/core';\nimport {navigateToSearchFilter} from '@policy/utils';\nimport {\n  IRequestSearchPolicyParams,\n  requestSearchPolicy,\n} from '@policy/store/policies/functions';\nimport {getPoliciesByQuery, usePoliciesByQuery} from '@policy/store/policies';\nimport {PoliciesItem} from '@policy/screens/HomeScreen/PoliciesItem';\nimport {FilterIcon} from '@policy/components/FilterIcon';\nimport {\n  SelectedItemProvider,\n  useSelectedItem,\n} from '@policy/context/SelectedItemContext';\nimport {SelectedHeader} from '@policy/screens/HomeScreen/SelectedHeader';\nimport {useDerivedValue} from 'react-native-reanimated';\n\nexport interface SearchScreenProps {}\n\nexport const defaultParams: IRequestSearchPolicyParams = {\n  storage: undefined,\n  receiver: undefined,\n  collection: undefined,\n  folder: undefined,\n  doctype: undefined,\n  created_date_from: '',\n  created_date_to: '',\n  effective_date_from: '',\n  effective_date_to: '',\n  expired_date_from: '',\n  expired_date_to: '',\n  q: '',\n  created_by: undefined,\n};\n\nconst _SearchScreen = memo(() => {\n  const [params, setParams] = useState(defaultParams);\n\n  const {selectedState, selectedIds} = useSelectedItem();\n\n  const scrollEnable = useDerivedValue(() => selectedIds.value.length == 0);\n\n  const renderItem = useCallback(\n    (policyId: string | number, index?: number, isLast?: boolean) => {\n      return <PoliciesItem id={policyId as number} isLast={isLast} />;\n    },\n    [],\n  );\n\n  return (\n    <FullScreenWrapper isGrey={true}>\n      <SEmptyHeader>\n        <SRow>\n          <SBackBtn onPress={goBack}>\n            <SBackIc source={IC_ARROW} />\n          </SBackBtn>\n          <SView>\n            <SearchBar\n              containerStyle={{\n                height: 40,\n                marginTop: 0,\n                marginBottom: 0,\n              }}\n              onSearchTextChange={e => {\n                setParams(prev => ({\n                  ...prev,\n                  q: e,\n                }));\n              }}\n            />\n          </SView>\n          <FilterIcon\n            params={params}\n            onPress={() =>\n              navigateToSearchFilter({\n                params,\n                setParams,\n              })\n            }\n          />\n        </SRow>\n      </SEmptyHeader>\n      <SViewContent>\n        <SelectedHeader title={translate('policy.search')} />\n        <ScrollableTabView.Provider\n          disabledLoadData={selectedState}\n          scrollEnabled={scrollEnable}\n          params={params}\n          requestFn={requestSearchPolicy}\n          query={'search'}\n          getItemByQuery={getPoliciesByQuery}\n          useItemByQuery={usePoliciesByQuery}\n          renderItem={renderItem}\n          tabs={[\n            {\n              title: translate('policy.sent_to_me'),\n              content: p => (\n                <ScrollableTabView.List index={0} tab={'documents'} />\n              ),\n            },\n            {\n              title: translate('policy.followings'),\n              content: p => (\n                <ScrollableTabView.List index={1} tab={'following'} />\n              ),\n            },\n            {\n              title: translate('policy.created_by_me'),\n              content: p => <ScrollableTabView.List index={2} tab={'sent'} />,\n            },\n          ]}>\n          <ScrollableTabView.TabBar />\n          <ScrollableTabView.Content />\n        </ScrollableTabView.Provider>\n      </SViewContent>\n    </FullScreenWrapper>\n  );\n});\n\nexport const SearchScreen = memo(() => {\n  return (\n    <SelectedItemProvider>\n      <_SearchScreen />\n    </SelectedItemProvider>\n  );\n});\n\nconst SEmptyHeader = styled(EmptyHeader)`\n  background-color: ${p => p.theme.backgroundColor};\n`;\n\nconst SViewContent = styled.View`\n  background-color: ${p => p.theme.neutral9};\n  flex: 1;\n`;\n\nconst SRow = styled.View`\n  flex-direction: row;\n  padding: 0 16px;\n  align-items: center;\n`;\n\nconst SBackBtn = styled.TouchableOpacity.attrs(p => ({\n  hitSlop: {\n    top: 8,\n    bottom: 8,\n    left: 8,\n    right: 8,\n  },\n}))``;\n\nconst SBackIc = styled.Image``;\nconst SView = styled.View`\n  flex: 1;\n  margin-right: 8px;\n`;\n"],"names":["_react","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_ui","_core","_index","_FilterComp","_jsxRuntime","WeakMap","cacheBabelInterop","cacheNodeInterop","exports","memo","_useNavigationParams","useNavigationParams","params","setParams","jsxs","ScreenWrapper","children","jsx","DynamicHeader","title","translate","FilterComp","items","defaultParams","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_utils","_functions","_policies","_PoliciesItem","_FilterIcon","_SelectedItemContext","_SelectedHeader","_reactNativeReanimated","storage","undefined","receiver","collection","folder","doctype","created_date_from","created_date_to","effective_date_from","effective_date_to","expired_date_from","expired_date_to","q","created_by","_worklet_5912787252731_init_data","code","location","sourceMap","version","_SearchScreen","_e","anonymous","_useState","useState","_useState2","_slicedToArray2","_useSelectedItem","useSelectedItem","selectedState","selectedIds","scrollEnable","useDerivedValue","global","Error","value","length","__closure","__initData","__workletHash","__stackDetails","renderItem","useCallback","policyId","index","isLast","PoliciesItem","id","FullScreenWrapper","isGrey","SEmptyHeader","SRow","SBackBtn","onPress","goBack","SBackIc","source","IC_ARROW","SView","SearchBar","containerStyle","height","marginTop","marginBottom","onSearchTextChange","e","prev","assign","FilterIcon","navigateToSearchFilter","SViewContent","SelectedHeader","ScrollableTabView","Provider","disabledLoadData","scrollEnabled","requestFn","requestSearchPolicy","query","getItemByQuery","getPoliciesByQuery","useItemByQuery","usePoliciesByQuery","tabs","content","p","List","tab","TabBar","Content","SelectedItemProvider","styled","EmptyHeader","_taggedTemplateLiteralLoose2","theme","backgroundColor","View","neutral9","TouchableOpacity","attrs","hitSlop","top","bottom","left","right","Image"],"sourceRoot":""}