{"version":3,"file":"src_screens_SearchScreen_index_tsx.chunk.bundle","mappings":"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","sources":["webpack:///./src/screens/SearchScreen/index.tsx"],"sourcesContent":["import React, {memo, useCallback, useState} from 'react';\nimport {\n  EmptyHeader,\n  FullScreenWrapper,\n  ScrollableTabView,\n  SearchBar,\n} from '@true/ui';\nimport {goBack, IC_ARROW, styled, translate} from '@true/core';\nimport {navigateToSearchFilter} from '@policy/utils';\nimport {\n  IRequestSearchPolicyParams,\n  requestSearchPolicy,\n} from '@policy/store/policies/functions';\nimport {getPoliciesByQuery, usePoliciesByQuery} from '@policy/store/policies';\nimport {PoliciesItem} from '@policy/screens/HomeScreen/PoliciesItem';\nimport {FilterIcon} from '@policy/components/FilterIcon';\nimport {\n  SelectedItemProvider,\n  useSelectedItem,\n} from '@policy/context/SelectedItemContext';\nimport {SelectedHeader} from '@policy/screens/HomeScreen/SelectedHeader';\nimport {useDerivedValue} from 'react-native-reanimated';\n\nexport interface SearchScreenProps {}\n\nexport const defaultParams: IRequestSearchPolicyParams = {\n  storage: undefined,\n  receiver: undefined,\n  collection: undefined,\n  folder: undefined,\n  doctype: undefined,\n  created_date_from: '',\n  created_date_to: '',\n  effective_date_from: '',\n  effective_date_to: '',\n  expired_date_from: '',\n  expired_date_to: '',\n  q: '',\n  created_by: undefined,\n};\n\nconst _SearchScreen = memo(() => {\n  const [params, setParams] = useState(defaultParams);\n\n  const {selectedState, selectedIds} = useSelectedItem();\n\n  const scrollEnable = useDerivedValue(() => selectedIds.value.length == 0);\n\n  const renderItem = useCallback(\n    (policyId: string | number, index?: number, isLast?: boolean) => {\n      return <PoliciesItem id={policyId as number} isLast={isLast} />;\n    },\n    [],\n  );\n\n  return (\n    <FullScreenWrapper isGrey={true}>\n      <SEmptyHeader>\n        <SRow>\n          <SBackBtn onPress={goBack}>\n            <SBackIc source={IC_ARROW} />\n          </SBackBtn>\n          <SView>\n            <SearchBar\n              containerStyle={{\n                height: 40,\n                marginTop: 0,\n                marginBottom: 0,\n              }}\n              onSearchTextChange={e => {\n                setParams(prev => ({\n                  ...prev,\n                  q: e,\n                }));\n              }}\n            />\n          </SView>\n          <FilterIcon\n            params={params}\n            onPress={() =>\n              navigateToSearchFilter({\n                params,\n                setParams,\n              })\n            }\n          />\n        </SRow>\n      </SEmptyHeader>\n      <SViewContent>\n        <SelectedHeader title={translate('policy.search')} />\n        <ScrollableTabView.Provider\n          disabledLoadData={selectedState}\n          scrollEnabled={scrollEnable}\n          params={params}\n          requestFn={requestSearchPolicy}\n          query={'search'}\n          getItemByQuery={getPoliciesByQuery}\n          useItemByQuery={usePoliciesByQuery}\n          renderItem={renderItem}\n          tabs={[\n            {\n              title: translate('policy.sent_to_me'),\n              content: p => (\n                <ScrollableTabView.List index={0} tab={'documents'} />\n              ),\n            },\n            {\n              title: translate('policy.followings'),\n              content: p => (\n                <ScrollableTabView.List index={1} tab={'following'} />\n              ),\n            },\n            {\n              title: translate('policy.created_by_me'),\n              content: p => <ScrollableTabView.List index={2} tab={'sent'} />,\n            },\n          ]}>\n          <ScrollableTabView.TabBar />\n          <ScrollableTabView.Content />\n        </ScrollableTabView.Provider>\n      </SViewContent>\n    </FullScreenWrapper>\n  );\n});\n\nexport const SearchScreen = memo(() => {\n  return (\n    <SelectedItemProvider>\n      <_SearchScreen />\n    </SelectedItemProvider>\n  );\n});\n\nconst SEmptyHeader = styled(EmptyHeader)`\n  background-color: ${p => p.theme.backgroundColor};\n`;\n\nconst SViewContent = styled.View`\n  background-color: ${p => p.theme.neutral9};\n  flex: 1;\n`;\n\nconst SRow = styled.View`\n  flex-direction: row;\n  padding: 0 16px;\n  align-items: center;\n`;\n\nconst SBackBtn = styled.TouchableOpacity.attrs(p => ({\n  hitSlop: {\n    top: 8,\n    bottom: 8,\n    left: 8,\n    right: 8,\n  },\n}))``;\n\nconst SBackIc = styled.Image``;\nconst SView = styled.View`\n  flex: 1;\n  margin-right: 8px;\n`;\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_react","obj","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","require","_ui","_core","_utils","_functions","_policies","_PoliciesItem","_FilterIcon","_SelectedItemContext","_SelectedHeader","_reactNativeReanimated","_jsxRuntime","WeakMap","cacheBabelInterop","cacheNodeInterop","defaultParams","exports","storage","undefined","receiver","collection","folder","doctype","created_date_from","created_date_to","effective_date_from","effective_date_to","expired_date_from","expired_date_to","q","created_by","_worklet_5912787252731_init_data","code","location","sourceMap","version","_SearchScreen","memo","_e","anonymous","_useState","useState","_useState2","_slicedToArray2","params","setParams","_useSelectedItem","useSelectedItem","selectedState","selectedIds","scrollEnable","useDerivedValue","global","Error","value","length","__closure","__initData","__workletHash","__stackDetails","renderItem","useCallback","policyId","index","isLast","jsx","PoliciesItem","id","jsxs","FullScreenWrapper","isGrey","children","SEmptyHeader","SRow","SBackBtn","onPress","goBack","SBackIc","source","IC_ARROW","SView","SearchBar","containerStyle","height","marginTop","marginBottom","onSearchTextChange","e","prev","assign","FilterIcon","navigateToSearchFilter","SViewContent","SelectedHeader","title","translate","ScrollableTabView","Provider","disabledLoadData","scrollEnabled","requestFn","requestSearchPolicy","query","getItemByQuery","getPoliciesByQuery","useItemByQuery","usePoliciesByQuery","tabs","content","p","List","tab","TabBar","Content","SelectedItemProvider","styled","EmptyHeader","_taggedTemplateLiteralLoose2","theme","backgroundColor","View","neutral9","TouchableOpacity","attrs","hitSlop","top","bottom","left","right","Image"],"sourceRoot":""}