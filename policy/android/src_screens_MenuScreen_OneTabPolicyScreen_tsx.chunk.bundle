(self.webpackChunkMiniPolicy=self.webpackChunkMiniPolicy||[]).push([["src_screens_MenuScreen_OneTabPolicyScreen_tsx"],{9011:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(91087);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n(58469);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},4438:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.OneTabPolicyScreen=void 0;var o,i,a,u,c=r(n(19452)),s=r(n(38416)),l=r(n(27424)),f=n(9011),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),p=n(91087),y=n(4007),m=n(87414),b=n(20349),g=n(11269),h=n(44707),j=n(29287),v=n(25200),P=n(33823);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}t.OneTabPolicyScreen=(0,d.memo)((function(){var e=(0,y.useNavigationParams)(),t=e.title,n=e.params,r=e.query,o=e.requestFn,i=e.items,a=e.mainKey,u=void 0===a?"id":a,c=(0,d.useState)(n),x=(0,l.default)(c,2),w=x[0],k=x[1],M=(0,v.useAnimatedSafeAreaInsets)().aTop;return(0,P.jsx)(f.ScreenWrapper,{isGrey:!0,children:(0,P.jsx)(h.SelectedItemProvider,{children:(0,P.jsxs)(O,{children:[(0,P.jsx)(p.DynamicHeader,{title:(0,y.stripSpecialCharacters)(t),hideSeparator:!0,rightComponent:(0,P.jsx)(_,{children:(0,P.jsx)(g.FilterIcon,{onPress:function(){(0,b.navigateToDynamicFilterScreen)({params:w,setParams:k,items:i,mainKey:u})},params:Object.assign({},w,(0,s.default)({},u,void 0))})})}),(0,P.jsx)(j.SelectedHeader,{title:(0,y.stripSpecialCharacters)(t),animatedTop:M}),(0,P.jsx)(m.PolicyList,{params:w,query:r,requestFn:o})]})})})})),y.styled.View(o||(o=(0,c.default)(["\n  padding: 8px 16px 16px;\n  background-color: ",";\n  border-bottom-width: 1px;\n  border-color: ",";\n"])),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.grey4}));var O=y.styled.View(i||(i=(0,c.default)(["\n  background-color: ",";\n  flex: 1;\n"])),(function(e){return e.theme.neutral9})),_=(y.styled.Text(a||(a=(0,c.default)(["\n  font-size: 20px;\n  line-height: 28px;\n  font-family: ",";\n  color: ",";\n"])),y.Fonts.Bold,(function(e){return e.theme.neutral1})),y.styled.View(u||(u=(0,c.default)(["\n  flex-direction: row;\n  margin-right: 16px;\n"]))))},87414:function(e,t,n){var r=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyList=void 0;var o,i,a=r(n(19452)),u=r(n(27424)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(84481)),s=n(91087),l=n(29881),f=n(7405),d=n(96738),p=n(92571),y=n(4007),m=n(33823);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}t.PolicyList=(0,c.memo)((function(e){var t=e.params,n=e.query,r=e.requestFn,o=e.ListHeaderComponent,i=(0,l.useAsyncFn)(r),a=(0,u.default)(i,2),b=a[0],h=b.loading,j=b.error,v=a[1],P=(0,l.useAsyncFn)(r),x=(0,u.default)(P,2),O=x[0],_=O.loading,w=O.error,k=x[1],M=(0,l.useAsyncFn)(r),S=(0,u.default)(M,2),T=S[0],C=(T.loading,T.error),I=S[1],F=(0,c.useCallback)((function(e){var t=e.item,n=e.index;return(0,m.jsx)(f.PoliciesItem,{id:t,index:n})}),[]),A=(0,c.useState)([]),E=(0,u.default)(A,2),L=E[0],D=E[1],W=(0,c.useState)(!1),q=(0,u.default)(W,2),V=q[0],B=q[1],H=(0,c.useMemo)((function(){var e={};if(t)for(var n in t)t[n]&&(e[n]=t[n]);return e}),[t]);(0,c.useEffect)((function(){v(H).then((function(){D((0,d.getPoliciesByQuery)(n)),B(!0)}))}),[n]),(0,c.useEffect)((function(){V&&I(H).then((function(){D((0,d.getPoliciesByQuery)(n))}))}),[n,H]);var Q=(0,c.useCallback)((function(e,r){e&&k(t).then((function(){D((0,d.getPoliciesByQuery)(n))}))}),[H]);return(0,y.useAutoToastError)(j),(0,y.useAutoToastError)(w),(0,y.useAutoToastError)(C),V?(0,m.jsx)(s.UIFlashList,{ListHeaderComponent:o,data:L,estimatedItemSize:150,renderItem:F,loading:h,refreshing:_,ListEmptyComponent:(0,m.jsxs)(p.View,{style:{marginTop:150,alignItems:"center",justifyContent:"center"},children:[(0,m.jsx)(p.Image,{source:y.IC_EMPTY_LIST}),(0,m.jsx)(g,{style:{paddingTop:16},children:(0,y.translate)("policy.no_more_doc")})]}),refreshable:!0,onLoadData:Q}):(0,m.jsx)(p.ActivityIndicator,{style:{top:50}})})),y.styled.View(o||(o=(0,a.default)(["\n  height: 8px;\n  background-color: ",";\n"])),(function(e){return e.theme.grey4}));var g=y.styled.Text(i||(i=(0,a.default)(["\n  color: ",";\n"])),(function(e){return e.theme.neutral1}))}}]);//# sourceMappingURL=src_screens_MenuScreen_OneTabPolicyScreen_tsx.chunk.bundle.map?platform=android