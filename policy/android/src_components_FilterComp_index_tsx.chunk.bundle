(self.webpackChunkMiniPolicy=self.webpackChunkMiniPolicy||[]).push([["src_components_FilterComp_index_tsx","src_components_AnimatedBottomSpace_tsx"],{11361:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedBottomSpace=void 0;var A=i(n(84481)),o=n(14931),r=i(n(46763)),a=n(33823);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var A={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(A,r,a):A[r]=e[r]}return A.default=e,n&&n.set(e,A),A}var s={code:"function anonymous(){const{aBottom}=this.__closure;return{height:aBottom.value};}",location:"/Volumes/T7/phamduc/policy/src/components/AnimatedBottomSpace.tsx",sourceMap:'{"version":3,"names":["anonymous","aBottom","__closure","height","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/AnimatedBottomSpace.tsx"],"mappings":"AAQyC,SAAAA,UAAA,QAAAC,OAAA,OAAAC,SAAA,OAAO,CAC5CC,MAAM,CAAEF,OAAO,CAACG,KAClB,CAAC"}',version:"3.5.4"};t.AnimatedBottomSpace=(0,A.memo)((function(e){var t,A,l=(0,o.useAnimatedSafeAreaInsets)().aBottom,i=(0,r.useAnimatedStyle)((t=[new n.g.Error,-2,-27],(A=function(){return{height:l.value}}).__closure={aBottom:l},A.__initData=s,A.__workletHash=7203089036154,A.__stackDetails=t,A));return(0,a.jsx)(r.default.View,Object.assign({},e,{style:[e.style,i]}))}))},740:function(e,t,n){var A=n(64836);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterComp=void 0;var o,r,a,l,i,s,u,c,C=A(n(861)),p=A(n(27424)),m=A(n(19452)),d=A(n(70215)),f=k(n(84481)),v=n(58198),_=n(64345),y=n(17575),h=n(32602),x=n(35315),O=n(11361),g=n(92571),b=k(n(46763)),S=n(33823),j=["type"];function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var A={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(A,r,a):A[r]=e[r]}return A.default=e,n&&n.set(e,A),A}var E=[{label:(0,_.translate)("policy.bookmarked"),value:"bookmarked"},{label:(0,_.translate)("policy.created"),value:"created"},{label:(0,_.translate)("policy.reviewed"),value:"reviewed"},{label:(0,_.translate)("policy.published"),value:"published"},{label:(0,_.translate)("policy.pending"),value:"pending"},{label:(0,_.translate)("policy.rejected"),value:"rejected"}],M=[{label:(0,_.translate)("policy.issued"),value:"issued"},{label:(0,_.translate)("policy.effective"),value:"effective"}],B={code:"function anonymous(){const{_params}=this.__closure;return _params.value;}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_params","__closure","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AA0HI,SAAAA,UAAA,QAAAC,OAAA,OAAAC,SAAA,OAAM,CAAAD,OAAQ,CAAAE,KAAA"}',version:"3.5.4"},V={code:"function anonymous(__params,__prevParams){const{_params,runOnJS,setAdvancedExport}=this.__closure;if(!!(__prevParams!==null&&__prevParams!==void 0&&__prevParams.collection)&&__params.collection!==__prevParams.collection){_params.value={..._params.value,folder:undefined};}if(JSON.stringify(__params)!==JSON.stringify(__prevParams)){runOnJS(setAdvancedExport)();}}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","__params","__prevParams","_params","runOnJS","setAdvancedExport","__closure","collection","value","folder","undefined","JSON","stringify"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AA2HI,QAAC,CAAAA,UAAQC,QAAE,CAAAC,YAAiB,QAAAC,OAAA,CAAAC,OAAA,CAAAC,iBAAA,OAAAC,SAAA,CAC1B,GACE,CAAC,EAACJ,YAAY,SAAZA,YAAY,WAAZA,YAAY,CAAEK,UAAU,GAC1BN,QAAQ,CAACM,UAAU,GAAKL,YAAY,CAACK,UAAU,CAC/C,CACAJ,OAAO,CAACK,KAAK,CAAG,CACd,GAAGL,OAAO,CAACK,KAAK,CAChBC,MAAM,CAAEC,SACV,CAAC,CACH,CAEA,GAAIC,IAAI,CAACC,SAAS,CAACX,QAAQ,CAAC,GAAKU,IAAI,CAACC,SAAS,CAACV,YAAY,CAAC,CAAE,CAC7DE,OAAO,CAACC,iBAAiB,CAAC,CAAC,CAAC,CAC9B,CACF"}',version:"3.5.4"},P=(t.FilterComp=(0,f.memo)((function(e){var t,A,o=e.items,r=e.params,a=e.setParams,l=e.defaultParams,i=(0,f.useRef)({}),s=(0,b.useSharedValue)(r),u=(0,f.useCallback)((function(){for(var e of o)if(Array.isArray(e))for(var t of e){var n,A="string"!=typeof t?null==(n=(0,f.cloneElement)(t({})).props)?void 0:n.keyName:-1!==t.indexOf("date")?[t+"_from",t+"_to"]:t;(Array.isArray(A)?s.value[A[0]]||s.value[A[1]]:s.value[A])&&(s.value=Object.assign({},s.value,{advanced_export:1}))}}),[]);(0,b.useAnimatedReaction)((t=[new n.g.Error,-2,-27],(A=function(){return s.value}).__closure={_params:s},A.__initData=B,A.__workletHash=9029730044761,A.__stackDetails=t,A),function(){var e=[new n.g.Error,-4,-27],t=function(e,t){null!=t&&t.collection&&e.collection!==t.collection&&(s.value=Object.assign({},s.value,{folder:void 0})),JSON.stringify(e)!==JSON.stringify(t)&&(0,b.runOnJS)(u)()};return t.__closure={_params:s,runOnJS:b.runOnJS,setAdvancedExport:u},t.__initData=V,t.__workletHash=0xc6c774537f7,t.__stackDetails=e,t}(),[]);var c=(0,f.useCallback)((function(){a(s.value),(0,_.goBack)()}),[s,a]),C=(0,f.useCallback)((function(){a(l),(0,_.goBack)()}),[a]),p=(0,_.useTheme)(),m=(0,f.useRef)(null),d=(0,f.useRef)(null);return(0,S.jsxs)(I,{disableOnAndroid:!0,scrollInputAdditionalOffset:110,scrollRef:d,ref:m,children:[(0,S.jsxs)(g.ScrollView,{ref:d,children:[(0,S.jsx)(P,{itemsRef:i,params:s,items:o}),(0,S.jsx)(g.View,{style:{height:16}})]}),(0,S.jsx)(g.View,{style:{height:1,backgroundColor:p.neutral5}}),(0,S.jsx)(v.BottomButton,{containerStyle:{marginHorizontal:16,marginVertical:12,borderRadius:20},leftContainerStyle:{borderWidth:1,borderColor:p.primaryColor,borderRadius:8},rightContainerStyle:{borderRadius:8},leftBgColor:p.white,textColor:p.primaryColor,leftText:(0,_.translate)("policy.reset"),rightText:(0,_.translate)("policy.apply"),onRightPress:c,onLeftPress:C}),(0,S.jsx)(O.AnimatedBottomSpace,{})]})})),(0,f.memo)((function(e){var t=e.items,n=e.params,A=e.itemsRef;return(0,S.jsx)(S.Fragment,{children:t.map((function(e){return(0,S.jsx)(R,{children:(0,S.jsx)(T,{itemsRef:A,type:e,params:n})})}))})}))),K={code:"function anonymous(){const{interpolate,visible,contentHeight}=this.__closure;return{height:interpolate(visible.value,[0,1],[0,contentHeight.value]),opacity:visible.value};}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolate","visible","contentHeight","__closure","height","value","opacity"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AAsOsC,SAAAA,SAAMA,CAAA,QAAAC,WAAA,CAAAC,OAAA,CAAAC,aAAA,OAAAC,SAAA,CACxC,MAAO,CACLC,MAAM,CAAEJ,WAAW,CAACC,OAAO,CAACI,KAAK,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAEH,aAAa,CAACG,KAAK,CAAC,CAAC,CACpEC,OAAO,CAAEL,OAAO,CAACI,KACnB,CAAC,CACH"}',version:"3.5.4"},D={code:"function anonymous(){const{interpolate,visible}=this.__closure;return{transform:[{rotate:interpolate(visible.value,[0,1],[270,90])+'deg'}]};}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","interpolate","visible","__closure","transform","rotate","value"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AA8OI,SAAAA,UAAA,QAAAC,WAAA,CAAAC,OAAA,OAAAC,SAAA,OAAO,CACLC,SAAS,CAAE,CACT,CAACC,MAAM,CAAEJ,WAAW,CAACC,OAAO,CAACI,KAAK,CAAE,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,CAAC,GAAG,CAAE,EAAE,CAAC,CAAC,CAAG,KAAK,CAAC,CAEnE,CAAC"}',version:"3.5.4"},T=(0,f.memo)((function(e){var t=e.type,A=(0,d.default)(e,j);if(!Array.isArray(t))return(0,S.jsx)(H,Object.assign({},e));var o,r,a=(0,b.useSharedValue)(0),l=(0,b.useSharedValue)(0),i=((0,_.useTheme)(),(0,b.useAnimatedStyle)((o=[new n.g.Error,-4,-27],(r=function(){return{height:(0,b.interpolate)(a.value,[0,1],[0,l.value]),opacity:a.value}}).__closure={interpolate:b.interpolate,visible:a,contentHeight:l},r.__initData=K,r.__workletHash=8409949742507,r.__stackDetails=o,r),[])),s=(0,b.useAnimatedStyle)(function(){var e=[new n.g.Error,-3,-27],t=function(){return{transform:[{rotate:(0,b.interpolate)(a.value,[0,1],[270,90])+"deg"}]}};return t.__closure={interpolate:b.interpolate,visible:a},t.__initData=D,t.__workletHash=2526022283159,t.__stackDetails=e,t}(),[]);return(0,S.jsxs)(g.View,{children:[(0,S.jsx)(Q,{}),(0,S.jsxs)(F,{onPress:function(){a.value=(0,b.withTiming)(a.value?0:1)},children:[(0,S.jsx)(J,{children:(0,_.translate)("policy.advanced_filter")}),(0,S.jsx)(U,{style:s,source:_.IC_ARROW})]}),(0,S.jsx)(b.default.View,{style:[i,{overflow:"scroll",justifyContent:"flex-end"}],children:(0,S.jsx)(g.View,{onLayout:function(e){l.value=e.nativeEvent.layout.height},children:t.map((function(e){return(0,S.jsx)(H,Object.assign({type:e},A))}))})})]})})),I=(0,_.styled)(v.MyKeyboardAvoidingView)(o||(o=(0,m.default)(["\n  background-color: ",";\n  margin-top: 8px;\n"])),(function(e){return e.theme.white})),Q=_.styled.View(r||(r=(0,m.default)(["\n  height: 8px;\n  background-color: ",";\n  width: 140%;\n  align-self: center;\n"])),(function(e){return e.theme.neutral8})),F=_.styled.TouchableOpacity(a||(a=(0,m.default)(["\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 8px 0;\n"]))),J=_.styled.Text(l||(l=(0,m.default)(["\n  font-size: 16px;\n  line-height: 24px;\n  color: ",";\n  font-family: ",";\n"])),(function(e){return e.theme.neutral1}),_.Fonts.Medium),U=(0,_.styled)(b.default.Image)(i||(i=(0,m.default)(["\n  height: 17px;\n  width: 17px;\n"]))),W={code:"function anonymous(){const{params}=this.__closure;var _params$value;return(_params$value=params.value)===null||_params$value===void 0?void 0:_params$value.collection;}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","params","__closure","_params$value","value","collection"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AAgYQ,SAAAA,UAAA,QAAAC,MAAA,OAAAC,SAAA,KAAAC,aAAA,QAAAA,aAAA,CAAMF,MAAO,CAAAG,KAAK,UAAAD,aAAA,iBAAZA,aAAA,CAAcE,UAAA"}',version:"3.5.4"},G={code:"function anonymous(_collection,_prevCollection){const{runOnJS,setCollection}=this.__closure;if(_collection!==_prevCollection){runOnJS(setCollection)(_collection);}}",location:"/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx",sourceMap:'{"version":3,"names":["anonymous","_collection","_prevCollection","runOnJS","setCollection","__closure"],"sources":["/Volumes/T7/phamduc/policy/src/components/FilterComp/index.tsx"],"mappings":"AAiYQ,QAAC,CAAAA,UAAAC,WAAa,CAAAC,eAAoB,QAAAC,OAAA,CAAAC,aAAA,OAAAC,SAAA,CAChC,GAAIJ,WAAW,GAAKC,eAAe,CAAE,CACnCC,OAAO,CAACC,aAAa,CAAC,CAACH,WAAW,CAAC,CACrC,CACF"}',version:"3.5.4"},H=(0,f.memo)((function(e){var t,A,o=e.type,r=e.params,a=e.itemsRef;if("string"!=typeof o)return o(r);var l=(0,f.useMemo)((function(){return"receiver"==o?["recipient"]:"doctype"==o?["document_type"]:-1!==o.indexOf("date")?["from_date","to_date"]:[o]}),[o]);if(-1!==o.indexOf("date"))return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(N,{children:(0,_.translate)("policy."+o)}),(0,S.jsxs)(Y,{children:[(0,S.jsx)(v.UIInput.DateTime,{style:{flex:1},mode:"date",title:(0,_.translate)("policy."+l[0]),params:r,keyName:o+"_from"}),(0,S.jsx)(v.UIInput.DateTime,{style:{flex:1,marginLeft:16},mode:"date",title:(0,_.translate)("policy."+l[1]),params:r,keyName:o+"_to"})]})]});if("created_by"==o)return(0,S.jsx)(v.UIInput.UserPicker,{title:(0,_.translate)("policy."+l[0]),params:r,keyName:o,type:"user"});var i,s,u=(0,h.useStoragesByQuery)("all").map((function(e){var t;return{label:(null==(t=(0,h.getStorages)(e))?void 0:t.name)||(0,_.translate)("policy.undefined"),value:e}})),c=(0,y.useCollectionsByQuery)("all").map((function(e){var t;return{label:(null==(t=(0,y.getCollections)(e))?void 0:t.name)||(0,_.translate)("policy.undefined"),value:e}})),m=(0,_.useUserGroupByQuery)("teams").map((function(e){var t;return{label:(null==(t=(0,_.getUserGroup)(e))?void 0:t.name)||(0,_.translate)("policy.undefined"),value:e}})),d=(0,x.useDoctypesByQuery)("all").map((function(e){var t;return{label:(null==(t=(0,x.getDoctypes)(e))?void 0:t.name)||(0,_.translate)("policy.undefined"),value:e}})),O=(0,f.useState)(""),g=(0,p.default)(O,2),j=g[0],w=g[1];"folder"==o&&(0,b.useAnimatedReaction)((i=[new n.g.Error,-2,-27],(s=function(){var e;return null==(e=r.value)?void 0:e.collection}).__closure={params:r},s.__initData=W,s.__workletHash=8111418951837,s.__stackDetails=i,s),function(){var e=[new n.g.Error,-3,-27],t=function(e,t){e!==t&&(0,b.runOnJS)(w)(e)};return t.__closure={runOnJS:b.runOnJS,setCollection:w},t.__initData=G,t.__workletHash=4403808879510,t.__stackDetails=e,t}(),[]);var k=(null==(t=(0,y.useCollections)(j))||null==(A=t.folders)?void 0:A.map((function(e){return{label:(null==e?void 0:e.name)||(0,_.translate)("policy.undefined"),value:null==e?void 0:e.id}})))||[],B=(0,f.useMemo)((function(){return"collection"==o?c:"storage"==o?u:"receiver"==o?m:"doctype"==o?d:"folder"==o?k:"sort"==o?M:"filter"==o?E:[]}),[o,j]),V=(0,f.useMemo)((function(){var e=void 0;return"filter"==o?{label:(0,_.translate)("policy.no_filter"),value:e}:"sort"==o?{label:(0,_.translate)("policy.created_time"),value:e}:{label:(0,_.translate)("policy.all"),value:e}}),[o]);return(0,S.jsx)(v.UIInput.Selector,{ref:function(e){a.current&&(a.current[o]=e)},title:(0,_.translate)("policy."+l[0]),params:r,keyName:o,options:[V].concat((0,C.default)(B)),hideClearButton:!0})})),R=_.styled.View(s||(s=(0,m.default)(["\n  margin: 16px 16px 0 16px;\n"]))),Y=_.styled.View(u||(u=(0,m.default)(["\n  flex-direction: row;\n"]))),N=_.styled.Text(c||(c=(0,m.default)(["\n  font-size: 14px;\n  line-height: 20px;\n  font-family: ",";\n  margin-bottom: 4px;\n  margin-top: 12px;\n  color: ",";\n"])),_.Fonts.Regular,(function(e){return e.theme.neutral1}))}}]);//# sourceMappingURL=src_components_FilterComp_index_tsx.chunk.bundle.map?platform=android